{
  "version": "0.109.7",
  "db": [
    {
      "tables": [
        {
          "table_name": "users",
          "title": "Пользователи",
          "type": "table",
          "enabled": 1,
          "mm": 0,
          "tags": "",
          "pinned": 0,
          "deleted": 0,
          "order": 1,
          "column_name": null,
          "columns": [
            {
              "column_name": "id",
              "title": "ID",
              "uidt": "ID",
              "dt": "int4",
              "np": "10",
              "ns": "0",
              "clen": null,
              "cop": "1",
              "pk": 1,
              "pv": false,
              "rqd": 1,
              "un": 0,
              "ct": "int(11)",
              "nrqd": false,
              "rqd": false,
              "ck": false,
              "au": true,
              "ai": 1,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {}
            },
            {
              "column_name": "username",
              "title": "Логин",
              "uidt": "SingleLineText",
              "dt": "varchar",
              "np": null,
              "ns": 0,
              "clen": "255",
              "cop": "2",
              "pk": 0,
              "pv": false,
              "rqd": 1,
              "un": 0,
              "ct": "varchar(255)",
              "nrqd": false,
              "ck": false,
              "au": false,
              "ai": 0,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {}
            },
            {
              "column_name": "phone_number",
              "title": "Телефон",
              "uidt": "PhoneNumber",
              "dt": "varchar",
              "np": null,
              "ns": 0,
              "clen": "20",
              "cop": "3",
              "pk": 0,
              "pv": false,
              "rqd": 0,
              "un": 0,
              "ct": "varchar(20)",
              "nrqd": true,
              "ck": false,
              "au": false,
              "ai": 0,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {}
            },
            {
              "column_name": "full_name", 
              "title": "Полное имя",
              "uidt": "SingleLineText",
              "dt": "varchar",
              "np": null,
              "ns": 0,
              "clen": "255",
              "cop": "4",
              "pk": 0,
              "pv": false,
              "rqd": 0,
              "un": 0,
              "ct": "varchar(255)",
              "nrqd": true,
              "ck": false,
              "au": false,
              "ai": 0,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {}
            },
            {
              "column_name": "is_active",
              "title": "Активен",
              "uidt": "Checkbox",
              "dt": "boolean",
              "np": null,
              "ns": 0,
              "clen": null,
              "cop": "5",
              "pk": 0,
              "pv": false,
              "rqd": 0,
              "un": 0,
              "ct": "boolean",
              "nrqd": true,
              "ck": false,
              "au": false,
              "ai": 0,
              "cdf": "false",
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {}
            },
            {
              "column_name": "role",
              "title": "Роль",
              "uidt": "SingleSelect",
              "dt": "varchar",
              "np": null,
              "ns": 0,
              "clen": "50",
              "cop": "6",
              "pk": 0,
              "pv": false,
              "rqd": 1,
              "un": 0,
              "ct": "varchar(50)",
              "nrqd": false,
              "ck": false,
              "au": false,
              "ai": 0,
              "dtxp": "'buyer','seller','admin'",
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {
                "options": [
                  {"id": "buyer", "title": "Покупатель", "color": "#3498DB"},
                  {"id": "seller", "title": "Продавец", "color": "#E67E22"},
                  {"id": "admin", "title": "Администратор", "color": "#E74C3C"}
                ]
              }
            },
            {
              "column_name": "created_at",
              "title": "Дата регистрации",
              "uidt": "DateTime",
              "dt": "timestamp",
              "np": null,
              "ns": 0,
              "clen": null,
              "cop": "7",
              "pk": 0,
              "pv": false,
              "rqd": 0,
              "un": 0,
              "ct": "timestamp",
              "nrqd": true,
              "ck": false,
              "au": false,
              "ai": 0,
              "cdf": "CURRENT_TIMESTAMP",
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {}
            }
          ]
        },
        {
          "table_name": "car_listings",
          "title": "Объявления",
          "type": "table", 
          "enabled": 1,
          "mm": 0,
          "tags": "",
          "pinned": 0,
          "deleted": 0,
          "order": 2,
          "column_name": null,
          "columns": [
            {
              "column_name": "id",
              "title": "ID",
              "uidt": "ID",
              "dt": "int4",
              "np": "10",
              "ns": "0",
              "clen": null,
              "cop": "1",
              "pk": 1,
              "pv": false,
              "rqd": 1,
              "un": 0,
              "ct": "int(11)",
              "nrqd": false,
              "rqd": false,
              "ck": false,
              "au": true,
              "ai": 1,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {}
            },
            {
              "column_name": "lot_number",
              "title": "№ Лота",
              "uidt": "SingleLineText",
              "dt": "varchar",
              "np": null,
              "ns": 0,
              "clen": "50",
              "cop": "2",
              "pk": 0,
              "pv": true,
              "rqd": 1,
              "un": 0,
              "ct": "varchar(50)",
              "nrqd": false,
              "ck": false,
              "au": false,
              "ai": 0,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {}
            },
            {
              "column_name": "make",
              "title": "Марка",
              "uidt": "SingleLineText",
              "dt": "varchar",
              "np": null,
              "ns": 0,
              "clen": "100",
              "cop": "3",
              "pk": 0,
              "pv": false,
              "rqd": 1,
              "un": 0,
              "ct": "varchar(100)",
              "nrqd": false,
              "ck": false,
              "au": false,
              "ai": 0,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {}
            },
            {
              "column_name": "model",
              "title": "Модель",
              "uidt": "SingleLineText",
              "dt": "varchar",
              "np": null,
              "ns": 0,
              "clen": "100",
              "cop": "4",
              "pk": 0,
              "pv": false,
              "rqd": 1,
              "un": 0,
              "ct": "varchar(100)",
              "nrqd": false,
              "ck": false,
              "au": false,
              "ai": 0,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {}
            },
            {
              "column_name": "year",
              "title": "Год",
              "uidt": "Number",
              "dt": "int4",
              "np": "10",
              "ns": "0",
              "clen": null,
              "cop": "5",
              "pk": 0,
              "pv": false,
              "rqd": 1,
              "un": 0,
              "ct": "int(11)",
              "nrqd": false,
              "ck": false,
              "au": false,
              "ai": 0,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {}
            },
            {
              "column_name": "starting_price",
              "title": "Стартовая цена",
              "uidt": "Currency",
              "dt": "decimal",
              "np": "12",
              "ns": "2",
              "clen": null,
              "cop": "6",
              "pk": 0,
              "pv": false,
              "rqd": 1,
              "un": 0,
              "ct": "decimal(12,2)",
              "nrqd": false,
              "ck": false,
              "au": false,
              "ai": 0,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {
                "currency_locale": "ru-RU",
                "currency_code": "TJS"
              }
            },
            {
              "column_name": "current_bid",
              "title": "Текущая ставка",
              "uidt": "Currency",
              "dt": "decimal",
              "np": "12",
              "ns": "2",
              "clen": null,
              "cop": "7",
              "pk": 0,
              "pv": false,
              "rqd": 0,
              "un": 0,
              "ct": "decimal(12,2)",
              "nrqd": true,
              "ck": false,
              "au": false,
              "ai": 0,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {
                "currency_locale": "ru-RU",
                "currency_code": "TJS"
              }
            },
            {
              "column_name": "status",
              "title": "Статус",
              "uidt": "SingleSelect",
              "dt": "varchar",
              "np": null,
              "ns": 0,
              "clen": "50",
              "cop": "8",
              "pk": 0,
              "pv": false,
              "rqd": 1,
              "un": 0,
              "ct": "varchar(50)",
              "nrqd": false,
              "ck": false,
              "au": false,
              "ai": 0,
              "cdf": "pending",
              "dtxp": "'pending','active','ended','rejected'",
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {
                "options": [
                  {"id": "pending", "title": "На модерации", "color": "#F39C12"},
                  {"id": "active", "title": "Активный", "color": "#27AE60"},
                  {"id": "ended", "title": "Завершен", "color": "#95A5A6"},
                  {"id": "rejected", "title": "Отклонен", "color": "#E74C3C"}
                ]
              }
            },
            {
              "column_name": "seller_id",
              "title": "Продавец",
              "uidt": "LinkToAnotherRecord",
              "dt": "int4",
              "np": "10",
              "ns": "0",
              "clen": null,
              "cop": "9",
              "pk": 0,
              "pv": false,
              "rqd": 1,
              "un": 0,
              "ct": "int(11)",
              "nrqd": false,
              "ck": false,
              "au": false,
              "ai": 0,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {
                "foreignTable": "users",
                "foreignColumn": "id",
                "displayColumn": "username"
              }
            },
            {
              "column_name": "created_at",
              "title": "Дата создания",
              "uidt": "DateTime",
              "dt": "timestamp",
              "np": null,
              "ns": 0,
              "clen": null,
              "cop": "10",
              "pk": 0,
              "pv": false,
              "rqd": 0,
              "un": 0,
              "ct": "timestamp",
              "nrqd": true,
              "ck": false,
              "au": false,
              "ai": 0,
              "cdf": "CURRENT_TIMESTAMP",
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {}
            }
          ]
        },
        {
          "table_name": "bids",
          "title": "Ставки",
          "type": "table",
          "enabled": 1,
          "mm": 0,
          "tags": "",
          "pinned": 0,
          "deleted": 0,
          "order": 3,
          "column_name": null,
          "columns": [
            {
              "column_name": "id",
              "title": "ID",
              "uidt": "ID",
              "dt": "int4",
              "np": "10",
              "ns": "0",
              "clen": null,
              "cop": "1",
              "pk": 1,
              "pv": false,
              "rqd": 1,
              "un": 0,
              "ct": "int(11)",
              "nrqd": false,
              "rqd": false,
              "ck": false,
              "au": true,
              "ai": 1,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {}
            },
            {
              "column_name": "listing_id",
              "title": "Объявление",
              "uidt": "LinkToAnotherRecord",
              "dt": "int4",
              "np": "10",
              "ns": "0",
              "clen": null,
              "cop": "2",
              "pk": 0,
              "pv": false,
              "rqd": 1,
              "un": 0,
              "ct": "int(11)",
              "nrqd": false,
              "ck": false,
              "au": false,
              "ai": 0,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {
                "foreignTable": "car_listings",
                "foreignColumn": "id",
                "displayColumn": "lot_number"
              }
            },
            {
              "column_name": "bidder_id",
              "title": "Покупатель",
              "uidt": "LinkToAnotherRecord",
              "dt": "int4",
              "np": "10",
              "ns": "0",
              "clen": null,
              "cop": "3",
              "pk": 0,
              "pv": false,
              "rqd": 1,
              "un": 0,
              "ct": "int(11)",
              "nrqd": false,
              "ck": false,
              "au": false,
              "ai": 0,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {
                "foreignTable": "users",
                "foreignColumn": "id",
                "displayColumn": "username"
              }
            },
            {
              "column_name": "amount",
              "title": "Сумма ставки",
              "uidt": "Currency",
              "dt": "decimal",
              "np": "12",
              "ns": "2",
              "clen": null,
              "cop": "4",
              "pk": 0,
              "pv": false,
              "rqd": 1,
              "un": 0,
              "ct": "decimal(12,2)",
              "nrqd": false,
              "ck": false,
              "au": false,
              "ai": 0,
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {
                "currency_locale": "ru-RU",
                "currency_code": "TJS"
              }
            },
            {
              "column_name": "created_at",
              "title": "Время ставки",
              "uidt": "DateTime",
              "dt": "timestamp",
              "np": null,
              "ns": 0,
              "clen": null,
              "cop": "5",
              "pk": 0,
              "pv": false,
              "rqd": 0,
              "un": 0,
              "ct": "timestamp",
              "nrqd": true,
              "ck": false,
              "au": false,
              "ai": 0,
              "cdf": "CURRENT_TIMESTAMP",
              "validate": {
                "func": [],
                "args": [],
                "msg": []
              },
              "meta": {}
            }
          ]
        }
      ]
    }
  ],
  "views": [
    {
      "table_name": "users",
      "title": "Неактивные пользователи",
      "type": "grid",
      "is_default": 0,
      "order": 1,
      "meta": {
        "filters": [
          {
            "fk_column_id": "is_active",
            "comparison_op": "eq",
            "value": false
          }
        ],
        "sorts": [
          {
            "fk_column_id": "created_at",
            "direction": "desc"
          }
        ]
      }
    },
    {
      "table_name": "car_listings",
      "title": "На модерации",
      "type": "grid",
      "is_default": 0,
      "order": 1,
      "meta": {
        "filters": [
          {
            "fk_column_id": "status",
            "comparison_op": "eq",
            "value": "pending"
          }
        ],
        "sorts": [
          {
            "fk_column_id": "created_at",
            "direction": "asc"
          }
        ]
      }
    },
    {
      "table_name": "car_listings",
      "title": "Активные аукционы", 
      "type": "grid",
      "is_default": 0,
      "order": 2,
      "meta": {
        "filters": [
          {
            "fk_column_id": "status",
            "comparison_op": "eq",
            "value": "active"
          }
        ],
        "sorts": [
          {
            "fk_column_id": "auction_end_time",
            "direction": "asc"
          }
        ]
      }
    },
    {
      "table_name": "bids",
      "title": "Последние ставки",
      "type": "grid",
      "is_default": 0,
      "order": 1,
      "meta": {
        "sorts": [
          {
            "fk_column_id": "created_at",
            "direction": "desc"
          }
        ]
      }
    }
  ],
  "webhooks": [
    {
      "title": "Одобрение объявления",
      "event": "after",
      "operation": "update",
      "table_name": "car_listings",
      "url": "https://your-app.replit.app/api/webhooks/listing-approved",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": "{\"id\": \"{{id}}\", \"status\": \"{{status}}\"}",
      "condition": "status = 'active'",
      "active": true
    },
    {
      "title": "Отклонение объявления",
      "event": "after",
      "operation": "update", 
      "table_name": "car_listings",
      "url": "https://your-app.replit.app/api/webhooks/listing-rejected",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": "{\"id\": \"{{id}}\", \"status\": \"{{status}}\", \"reason\": \"{{rejection_reason}}\"}",
      "condition": "status = 'rejected'",
      "active": true
    },
    {
      "title": "Активация пользователя",
      "event": "after",
      "operation": "update",
      "table_name": "users", 
      "url": "https://your-app.replit.app/api/webhooks/user-activated",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": "{\"id\": \"{{id}}\", \"is_active\": \"{{is_active}}\"}",
      "condition": "is_active = true",
      "active": true
    },
    {
      "title": "Деактивация пользователя",
      "event": "after",
      "operation": "update",
      "table_name": "users",
      "url": "https://your-app.replit.app/api/webhooks/user-deactivated", 
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": "{\"id\": \"{{id}}\", \"is_active\": \"{{is_active}}\", \"reason\": \"{{deactivation_reason}}\"}",
      "condition": "is_active = false",
      "active": true
    }
  ]
}