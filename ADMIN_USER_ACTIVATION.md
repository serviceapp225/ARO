# Администрирование пользователей AUTOBID.TJ

## Система активации пользователей

По умолчанию все новые пользователи создаются с неактивированным статусом (`isActive: false`). Неактивированные пользователи могут:
- Входить в систему
- Просматривать все аукционы
- Добавлять лоты в избранное
- Просматривать детали аукционов

Неактивированные пользователи НЕ МОГУТ:
- Делать ставки на аукционах
- При попытке ставки видят сообщение с предложением связаться с поддержкой через WhatsApp

## API для активации пользователей

### Активация пользователя
```bash
PATCH /api/admin/users/{user_id}/activate
Content-Type: application/json

{
  "isActive": true
}
```

### Деактивация пользователя
```bash
PATCH /api/admin/users/{user_id}/activate
Content-Type: application/json

{
  "isActive": false
}
```

### Получение информации о пользователе
```bash
GET /api/users/{user_id}
```

## Примеры использования

### Активировать пользователя с ID 3:
```bash
curl -X PATCH "http://localhost:5000/api/admin/users/3/activate" \
  -H "Content-Type: application/json" \
  -d '{"isActive": true}'
```

### Деактивировать пользователя с ID 3:
```bash
curl -X PATCH "http://localhost:5000/api/admin/users/3/activate" \
  -H "Content-Type: application/json" \
  -d '{"isActive": false}'
```

### Посмотреть всех пользователей (SQL):
```sql
SELECT id, username, email, "is_active" FROM users ORDER BY id;
```

## Интеграция с внешними инструментами

Данные API endpoints предназначены для интеграции с внешними административными панелями (например, Retool). 
Основное приложение не содержит интерфейса администрирования - вся администрация выполняется через внешние инструменты.

## Уведомления пользователей

- В профиле неактивированных пользователей отображается желтое уведомление с кнопкой связи с поддержкой
- При попытке сделать ставку показывается сообщение об ошибке и автоматически открывается WhatsApp
- Номер поддержки: +992903331332 (админский номер)

## Статус активации в интерфейсе

В профиле пользователя отображаются бейджи:
- Зеленый бейдж "Активирован" для активных пользователей
- Красный бейдж "Не активирован" для неактивных пользователей