var ef=e=>{throw TypeError(e)};var Bc=(e,t,r)=>t.has(e)||ef("Cannot "+r);var T=(e,t,r)=>(Bc(e,t,"read from private field"),r?r.call(e):t.get(e)),ce=(e,t,r)=>t.has(e)?ef("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),J=(e,t,r,s)=>(Bc(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),pe=(e,t,r)=>(Bc(e,t,"access private method"),r);var So=(e,t,r,s)=>({set _(a){J(e,t,a,r)},get _(){return T(e,t,s)}});function r1(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Tx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Px={exports:{}},Yl={},Ix={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oo=Symbol.for("react.element"),s1=Symbol.for("react.portal"),a1=Symbol.for("react.fragment"),i1=Symbol.for("react.strict_mode"),o1=Symbol.for("react.profiler"),l1=Symbol.for("react.provider"),c1=Symbol.for("react.context"),d1=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),m1=Symbol.for("react.memo"),h1=Symbol.for("react.lazy"),tf=Symbol.iterator;function f1(e){return e===null||typeof e!="object"?null:(e=tf&&e[tf]||e["@@iterator"],typeof e=="function"?e:null)}var Rx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ax=Object.assign,Dx={};function Ja(e,t,r){this.props=e,this.context=t,this.refs=Dx,this.updater=r||Rx}Ja.prototype.isReactComponent={};Ja.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ja.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mx(){}Mx.prototype=Ja.prototype;function sm(e,t,r){this.props=e,this.context=t,this.refs=Dx,this.updater=r||Rx}var am=sm.prototype=new Mx;am.constructor=sm;Ax(am,Ja.prototype);am.isPureReactComponent=!0;var nf=Array.isArray,Fx=Object.prototype.hasOwnProperty,im={current:null},Ox={key:!0,ref:!0,__self:!0,__source:!0};function Lx(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Fx.call(t,s)&&!Ox.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:oo,type:e,key:i,ref:o,props:a,_owner:im.current}}function p1(e,t){return{$$typeof:oo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function om(e){return typeof e=="object"&&e!==null&&e.$$typeof===oo}function x1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rf=/\/+/g;function Vc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x1(""+e.key):t.toString(36)}function Xo(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case oo:case s1:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Vc(o,0):s,nf(a)?(r="",e!=null&&(r=e.replace(rf,"$&/")+"/"),Xo(a,t,r,"",function(d){return d})):a!=null&&(om(a)&&(a=p1(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(rf,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",nf(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Vc(i,l);o+=Xo(i,t,r,c,a)}else if(c=f1(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Vc(i,l++),o+=Xo(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Co(e,t,r){if(e==null)return e;var s=[],a=0;return Xo(e,s,"","",function(i){return t.call(r,i,a++)}),s}function g1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var It={current:null},Jo={transition:null},v1={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:Jo,ReactCurrentOwner:im};function _x(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Co,forEach:function(e,t,r){Co(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Co(e,function(){t++}),t},toArray:function(e){return Co(e,function(t){return t})||[]},only:function(e){if(!om(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=Ja;Se.Fragment=a1;Se.Profiler=o1;Se.PureComponent=sm;Se.StrictMode=i1;Se.Suspense=u1;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v1;Se.act=_x;Se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Ax({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=im.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Fx.call(t,c)&&!Ox.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:oo,type:e.type,key:a,ref:i,props:s,_owner:o}};Se.createContext=function(e){return e={$$typeof:c1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:l1,_context:e},e.Consumer=e};Se.createElement=Lx;Se.createFactory=function(e){var t=Lx.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:d1,render:e}};Se.isValidElement=om;Se.lazy=function(e){return{$$typeof:h1,_payload:{_status:-1,_result:e},_init:g1}};Se.memo=function(e,t){return{$$typeof:m1,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=Jo.transition;Jo.transition={};try{e()}finally{Jo.transition=t}};Se.unstable_act=_x;Se.useCallback=function(e,t){return It.current.useCallback(e,t)};Se.useContext=function(e){return It.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return It.current.useDeferredValue(e)};Se.useEffect=function(e,t){return It.current.useEffect(e,t)};Se.useId=function(){return It.current.useId()};Se.useImperativeHandle=function(e,t,r){return It.current.useImperativeHandle(e,t,r)};Se.useInsertionEffect=function(e,t){return It.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return It.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return It.current.useMemo(e,t)};Se.useReducer=function(e,t,r){return It.current.useReducer(e,t,r)};Se.useRef=function(e){return It.current.useRef(e)};Se.useState=function(e){return It.current.useState(e)};Se.useSyncExternalStore=function(e,t,r){return It.current.useSyncExternalStore(e,t,r)};Se.useTransition=function(){return It.current.useTransition()};Se.version="18.3.1";Ix.exports=Se;var u=Ix.exports;const kt=Tx(u),$x=r1({__proto__:null,default:kt},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1=u,j1=Symbol.for("react.element"),b1=Symbol.for("react.fragment"),w1=Object.prototype.hasOwnProperty,N1=y1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S1={key:!0,ref:!0,__self:!0,__source:!0};function zx(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)w1.call(t,s)&&!S1.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:j1,type:e,key:i,ref:o,props:a,_owner:N1.current}}Yl.Fragment=b1;Yl.jsx=zx;Yl.jsxs=zx;Px.exports=Yl;var n=Px.exports,Ux={exports:{}},Ht={},Bx={exports:{}},Vx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,A){var z=R.length;R.push(A);e:for(;0<z;){var Q=z-1>>>1,H=R[Q];if(0<a(H,A))R[Q]=A,R[z]=H,z=Q;else break e}}function r(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var A=R[0],z=R.pop();if(z!==A){R[0]=z;e:for(var Q=0,H=R.length,oe=H>>>1;Q<oe;){var be=2*(Q+1)-1,ge=R[be],Te=be+1,ne=R[Te];if(0>a(ge,z))Te<H&&0>a(ne,ge)?(R[Q]=ne,R[Te]=z,Q=Te):(R[Q]=ge,R[be]=z,Q=be);else if(Te<H&&0>a(ne,z))R[Q]=ne,R[Te]=z,Q=Te;else break e}}return A}function a(R,A){var z=R.sortIndex-A.sortIndex;return z!==0?z:R.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,m=null,x=3,y=!1,b=!1,p=!1,j=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var A=r(d);A!==null;){if(A.callback===null)s(d);else if(A.startTime<=R)s(d),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(d)}}function w(R){if(p=!1,g(R),!b)if(r(c)!==null)b=!0,F(N);else{var A=r(d);A!==null&&V(w,A.startTime-R)}}function N(R,A){b=!1,p&&(p=!1,h(P),P=-1),y=!0;var z=x;try{for(g(A),m=r(c);m!==null&&(!(m.expirationTime>A)||R&&!q());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,x=m.priorityLevel;var H=Q(m.expirationTime<=A);A=e.unstable_now(),typeof H=="function"?m.callback=H:m===r(c)&&s(c),g(A)}else s(c);m=r(c)}if(m!==null)var oe=!0;else{var be=r(d);be!==null&&V(w,be.startTime-A),oe=!1}return oe}finally{m=null,x=z,y=!1}}var S=!1,E=null,P=-1,C=5,M=-1;function q(){return!(e.unstable_now()-M<C)}function I(){if(E!==null){var R=e.unstable_now();M=R;var A=!0;try{A=E(!0,R)}finally{A?K():(S=!1,E=null)}}else S=!1}var K;if(typeof v=="function")K=function(){v(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,k=U.port2;U.port1.onmessage=I,K=function(){k.postMessage(null)}}else K=function(){j(I,0)};function F(R){E=R,S||(S=!0,K())}function V(R,A){P=j(function(){R(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,F(N))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(x){case 1:case 2:case 3:var A=3;break;default:A=x}var z=x;x=A;try{return R()}finally{x=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,A){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=x;x=R;try{return A()}finally{x=z}},e.unstable_scheduleCallback=function(R,A,z){var Q=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,R){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,R={id:f++,callback:A,priorityLevel:R,startTime:z,expirationTime:H,sortIndex:-1},z>Q?(R.sortIndex=z,t(d,R),r(c)===null&&R===r(d)&&(p?(h(P),P=-1):p=!0,V(w,z-Q))):(R.sortIndex=H,t(c,R),b||y||(b=!0,F(N))),R},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(R){var A=x;return function(){var z=x;x=A;try{return R.apply(this,arguments)}finally{x=z}}}})(Vx);Bx.exports=Vx;var C1=Bx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1=u,Wt=C1;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qx=new Set,Oi={};function _s(e,t){_a(e,t),_a(e+"Capture",t)}function _a(e,t){for(Oi[e]=t,e=0;e<t.length;e++)qx.add(t[e])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dd=Object.prototype.hasOwnProperty,E1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sf={},af={};function T1(e){return Dd.call(af,e)?!0:Dd.call(sf,e)?!1:E1.test(e)?af[e]=!0:(sf[e]=!0,!1)}function P1(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I1(e,t,r,s){if(t===null||typeof t>"u"||P1(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pt[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pt[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pt[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var lm=/[\-:]([a-z])/g;function cm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lm,cm);pt[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lm,cm);pt[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lm,cm);pt[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function dm(e,t,r,s){var a=pt.hasOwnProperty(t)?pt[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I1(t,r,a,s)&&(r=null),s||a===null?T1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var ar=k1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ko=Symbol.for("react.element"),Xs=Symbol.for("react.portal"),Js=Symbol.for("react.fragment"),um=Symbol.for("react.strict_mode"),Md=Symbol.for("react.profiler"),Kx=Symbol.for("react.provider"),Qx=Symbol.for("react.context"),mm=Symbol.for("react.forward_ref"),Fd=Symbol.for("react.suspense"),Od=Symbol.for("react.suspense_list"),hm=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),Wx=Symbol.for("react.offscreen"),of=Symbol.iterator;function di(e){return e===null||typeof e!="object"?null:(e=of&&e[of]||e["@@iterator"],typeof e=="function"?e:null)}var We=Object.assign,qc;function ji(e){if(qc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);qc=t&&t[1]||""}return`
`+qc+e}var Kc=!1;function Qc(e,t){if(!e||Kc)return"";Kc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Kc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ji(e):""}function R1(e){switch(e.tag){case 5:return ji(e.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 2:case 15:return e=Qc(e.type,!1),e;case 11:return e=Qc(e.type.render,!1),e;case 1:return e=Qc(e.type,!0),e;default:return""}}function Ld(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Js:return"Fragment";case Xs:return"Portal";case Md:return"Profiler";case um:return"StrictMode";case Fd:return"Suspense";case Od:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qx:return(e.displayName||"Context")+".Consumer";case Kx:return(e._context.displayName||"Context")+".Provider";case mm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hm:return t=e.displayName||null,t!==null?t:Ld(e.type)||"Memo";case fr:t=e._payload,e=e._init;try{return Ld(e(t))}catch{}}return null}function A1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ld(t);case 8:return t===um?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D1(e){var t=Hx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Eo(e){e._valueTracker||(e._valueTracker=D1(e))}function Gx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Hx(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _d(e,t){var r=t.checked;return We({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lf(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Ur(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xx(e,t){t=t.checked,t!=null&&dm(e,"checked",t,!1)}function $d(e,t){Xx(e,t);var r=Ur(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zd(e,t.type,r):t.hasOwnProperty("defaultValue")&&zd(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function zd(e,t,r){(t!=="number"||fl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bi=Array.isArray;function da(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Ur(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ud(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return We({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function df(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(bi(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ur(r)}}function Jx(e,t){var r=Ur(t.value),s=Ur(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function uf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var To,Zx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(To=To||document.createElement("div"),To.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=To.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Li(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M1=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(e){M1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ki[t]=ki[e]})});function eg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ki.hasOwnProperty(e)&&ki[e]?(""+t).trim():t+"px"}function tg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=eg(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var F1=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vd(e,t){if(t){if(F1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function qd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kd=null;function fm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qd=null,ua=null,ma=null;function mf(e){if(e=uo(e)){if(typeof Qd!="function")throw Error(W(280));var t=e.stateNode;t&&(t=rc(t),Qd(e.stateNode,e.type,t))}}function ng(e){ua?ma?ma.push(e):ma=[e]:ua=e}function rg(){if(ua){var e=ua,t=ma;if(ma=ua=null,mf(e),t)for(e=0;e<t.length;e++)mf(t[e])}}function sg(e,t){return e(t)}function ag(){}var Wc=!1;function ig(e,t,r){if(Wc)return e(t,r);Wc=!0;try{return sg(e,t,r)}finally{Wc=!1,(ua!==null||ma!==null)&&(ag(),rg())}}function _i(e,t){var r=e.stateNode;if(r===null)return null;var s=rc(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var Wd=!1;if(Jn)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){Wd=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{Wd=!1}function O1(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(f){this.onError(f)}}var Ei=!1,pl=null,xl=!1,Hd=null,L1={onError:function(e){Ei=!0,pl=e}};function _1(e,t,r,s,a,i,o,l,c){Ei=!1,pl=null,O1.apply(L1,arguments)}function $1(e,t,r,s,a,i,o,l,c){if(_1.apply(this,arguments),Ei){if(Ei){var d=pl;Ei=!1,pl=null}else throw Error(W(198));xl||(xl=!0,Hd=d)}}function $s(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function og(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hf(e){if($s(e)!==e)throw Error(W(188))}function z1(e){var t=e.alternate;if(!t){if(t=$s(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return hf(a),e;if(i===s)return hf(a),t;i=i.sibling}throw Error(W(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==s)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function lg(e){return e=z1(e),e!==null?cg(e):null}function cg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cg(e);if(t!==null)return t;e=e.sibling}return null}var dg=Wt.unstable_scheduleCallback,ff=Wt.unstable_cancelCallback,U1=Wt.unstable_shouldYield,B1=Wt.unstable_requestPaint,et=Wt.unstable_now,V1=Wt.unstable_getCurrentPriorityLevel,pm=Wt.unstable_ImmediatePriority,ug=Wt.unstable_UserBlockingPriority,gl=Wt.unstable_NormalPriority,q1=Wt.unstable_LowPriority,mg=Wt.unstable_IdlePriority,Zl=null,Mn=null;function K1(e){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Zl,e,void 0,(e.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:H1,Q1=Math.log,W1=Math.LN2;function H1(e){return e>>>=0,e===0?32:31-(Q1(e)/W1|0)|0}var Po=64,Io=4194304;function wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vl(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=wi(l):(i&=o,i!==0&&(s=wi(i)))}else o=r&~a,o!==0?s=wi(o):i!==0&&(s=wi(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-pn(t),a=1<<r,s|=e[r],t&=~a;return s}function G1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X1(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-pn(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=G1(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Gd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hg(){var e=Po;return Po<<=1,!(Po&4194240)&&(Po=64),e}function Hc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function lo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pn(t),e[t]=r}function J1(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-pn(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function xm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-pn(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Oe=0;function fg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pg,gm,xg,gg,vg,Xd=!1,Ro=[],Rr=null,Ar=null,Dr=null,$i=new Map,zi=new Map,gr=[],Y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pf(e,t){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":$i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zi.delete(t.pointerId)}}function mi(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=uo(t),t!==null&&gm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Z1(e,t,r,s,a){switch(t){case"focusin":return Rr=mi(Rr,e,t,r,s,a),!0;case"dragenter":return Ar=mi(Ar,e,t,r,s,a),!0;case"mouseover":return Dr=mi(Dr,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return $i.set(i,mi($i.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,zi.set(i,mi(zi.get(i)||null,e,t,r,s,a)),!0}return!1}function yg(e){var t=us(e.target);if(t!==null){var r=$s(t);if(r!==null){if(t=r.tag,t===13){if(t=og(r),t!==null){e.blockedOn=t,vg(e.priority,function(){xg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Kd=s,r.target.dispatchEvent(s),Kd=null}else return t=uo(r),t!==null&&gm(t),e.blockedOn=r,!1;t.shift()}return!0}function xf(e,t,r){Yo(e)&&r.delete(t)}function eN(){Xd=!1,Rr!==null&&Yo(Rr)&&(Rr=null),Ar!==null&&Yo(Ar)&&(Ar=null),Dr!==null&&Yo(Dr)&&(Dr=null),$i.forEach(xf),zi.forEach(xf)}function hi(e,t){e.blockedOn===t&&(e.blockedOn=null,Xd||(Xd=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,eN)))}function Ui(e){function t(a){return hi(a,e)}if(0<Ro.length){hi(Ro[0],e);for(var r=1;r<Ro.length;r++){var s=Ro[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Rr!==null&&hi(Rr,e),Ar!==null&&hi(Ar,e),Dr!==null&&hi(Dr,e),$i.forEach(t),zi.forEach(t),r=0;r<gr.length;r++)s=gr[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<gr.length&&(r=gr[0],r.blockedOn===null);)yg(r),r.blockedOn===null&&gr.shift()}var ha=ar.ReactCurrentBatchConfig,yl=!0;function tN(e,t,r,s){var a=Oe,i=ha.transition;ha.transition=null;try{Oe=1,vm(e,t,r,s)}finally{Oe=a,ha.transition=i}}function nN(e,t,r,s){var a=Oe,i=ha.transition;ha.transition=null;try{Oe=4,vm(e,t,r,s)}finally{Oe=a,ha.transition=i}}function vm(e,t,r,s){if(yl){var a=Jd(e,t,r,s);if(a===null)sd(e,t,s,jl,r),pf(e,s);else if(Z1(a,e,t,r,s))s.stopPropagation();else if(pf(e,s),t&4&&-1<Y1.indexOf(e)){for(;a!==null;){var i=uo(a);if(i!==null&&pg(i),i=Jd(e,t,r,s),i===null&&sd(e,t,s,jl,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else sd(e,t,s,null,r)}}var jl=null;function Jd(e,t,r,s){if(jl=null,e=fm(s),e=us(e),e!==null)if(t=$s(e),t===null)e=null;else if(r=t.tag,r===13){if(e=og(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jl=e,null}function jg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V1()){case pm:return 1;case ug:return 4;case gl:case q1:return 16;case mg:return 536870912;default:return 16}default:return 16}}var Tr=null,ym=null,Zo=null;function bg(){if(Zo)return Zo;var e,t=ym,r=t.length,s,a="value"in Tr?Tr.value:Tr.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return Zo=a.slice(e,1<s?1-s:void 0)}function el(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ao(){return!0}function gf(){return!1}function Gt(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ao:gf,this.isPropagationStopped=gf,this}return We(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),t}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jm=Gt(Ya),co=We({},Ya,{view:0,detail:0}),rN=Gt(co),Gc,Xc,fi,ec=We({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(Gc=e.screenX-fi.screenX,Xc=e.screenY-fi.screenY):Xc=Gc=0,fi=e),Gc)},movementY:function(e){return"movementY"in e?e.movementY:Xc}}),vf=Gt(ec),sN=We({},ec,{dataTransfer:0}),aN=Gt(sN),iN=We({},co,{relatedTarget:0}),Jc=Gt(iN),oN=We({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),lN=Gt(oN),cN=We({},Ya,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dN=Gt(cN),uN=We({},Ya,{data:0}),yf=Gt(uN),mN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fN[e])?!!t[e]:!1}function bm(){return pN}var xN=We({},co,{key:function(e){if(e.key){var t=mN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=el(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bm,charCode:function(e){return e.type==="keypress"?el(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?el(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gN=Gt(xN),vN=We({},ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jf=Gt(vN),yN=We({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bm}),jN=Gt(yN),bN=We({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),wN=Gt(bN),NN=We({},ec,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),SN=Gt(NN),CN=[9,13,27,32],wm=Jn&&"CompositionEvent"in window,Ti=null;Jn&&"documentMode"in document&&(Ti=document.documentMode);var kN=Jn&&"TextEvent"in window&&!Ti,wg=Jn&&(!wm||Ti&&8<Ti&&11>=Ti),bf=" ",wf=!1;function Ng(e,t){switch(e){case"keyup":return CN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ys=!1;function EN(e,t){switch(e){case"compositionend":return Sg(t);case"keypress":return t.which!==32?null:(wf=!0,bf);case"textInput":return e=t.data,e===bf&&wf?null:e;default:return null}}function TN(e,t){if(Ys)return e==="compositionend"||!wm&&Ng(e,t)?(e=bg(),Zo=ym=Tr=null,Ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wg&&t.locale!=="ko"?null:t.data;default:return null}}var PN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PN[e.type]:t==="textarea"}function Cg(e,t,r,s){ng(s),t=bl(t,"onChange"),0<t.length&&(r=new jm("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Pi=null,Bi=null;function IN(e){Og(e,0)}function tc(e){var t=ta(e);if(Gx(t))return e}function RN(e,t){if(e==="change")return t}var kg=!1;if(Jn){var Yc;if(Jn){var Zc="oninput"in document;if(!Zc){var Sf=document.createElement("div");Sf.setAttribute("oninput","return;"),Zc=typeof Sf.oninput=="function"}Yc=Zc}else Yc=!1;kg=Yc&&(!document.documentMode||9<document.documentMode)}function Cf(){Pi&&(Pi.detachEvent("onpropertychange",Eg),Bi=Pi=null)}function Eg(e){if(e.propertyName==="value"&&tc(Bi)){var t=[];Cg(t,Bi,e,fm(e)),ig(IN,t)}}function AN(e,t,r){e==="focusin"?(Cf(),Pi=t,Bi=r,Pi.attachEvent("onpropertychange",Eg)):e==="focusout"&&Cf()}function DN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tc(Bi)}function MN(e,t){if(e==="click")return tc(t)}function FN(e,t){if(e==="input"||e==="change")return tc(t)}function ON(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:ON;function Vi(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!Dd.call(t,a)||!gn(e[a],t[a]))return!1}return!0}function kf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ef(e,t){var r=kf(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kf(r)}}function Tg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pg(){for(var e=window,t=fl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fl(e.document)}return t}function Nm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function LN(e){var t=Pg(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Tg(r.ownerDocument.documentElement,r)){if(s!==null&&Nm(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=Ef(r,i);var o=Ef(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _N=Jn&&"documentMode"in document&&11>=document.documentMode,Zs=null,Yd=null,Ii=null,Zd=!1;function Tf(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zd||Zs==null||Zs!==fl(s)||(s=Zs,"selectionStart"in s&&Nm(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ii&&Vi(Ii,s)||(Ii=s,s=bl(Yd,"onSelect"),0<s.length&&(t=new jm("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Zs)))}function Do(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ea={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionend:Do("Transition","TransitionEnd")},ed={},Ig={};Jn&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function nc(e){if(ed[e])return ed[e];if(!ea[e])return e;var t=ea[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ig)return ed[e]=t[r];return e}var Rg=nc("animationend"),Ag=nc("animationiteration"),Dg=nc("animationstart"),Mg=nc("transitionend"),Fg=new Map,Pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(e,t){Fg.set(e,t),_s(t,[e])}for(var td=0;td<Pf.length;td++){var nd=Pf[td],$N=nd.toLowerCase(),zN=nd[0].toUpperCase()+nd.slice(1);ts($N,"on"+zN)}ts(Rg,"onAnimationEnd");ts(Ag,"onAnimationIteration");ts(Dg,"onAnimationStart");ts("dblclick","onDoubleClick");ts("focusin","onFocus");ts("focusout","onBlur");ts(Mg,"onTransitionEnd");_a("onMouseEnter",["mouseout","mouseover"]);_a("onMouseLeave",["mouseout","mouseover"]);_a("onPointerEnter",["pointerout","pointerover"]);_a("onPointerLeave",["pointerout","pointerover"]);_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_s("onBeforeInput",["compositionend","keypress","textInput","paste"]);_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function If(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,$1(s,t,void 0,e),e.currentTarget=null}function Og(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;If(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;If(a,l,d),i=c}}}if(xl)throw e=Hd,xl=!1,Hd=null,e}function Ue(e,t){var r=t[su];r===void 0&&(r=t[su]=new Set);var s=e+"__bubble";r.has(s)||(Lg(t,e,2,!1),r.add(s))}function rd(e,t,r){var s=0;t&&(s|=4),Lg(r,e,s,t)}var Mo="_reactListening"+Math.random().toString(36).slice(2);function qi(e){if(!e[Mo]){e[Mo]=!0,qx.forEach(function(r){r!=="selectionchange"&&(UN.has(r)||rd(r,!1,e),rd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mo]||(t[Mo]=!0,rd("selectionchange",!1,t))}}function Lg(e,t,r,s){switch(jg(t)){case 1:var a=tN;break;case 4:a=nN;break;default:a=vm}r=a.bind(null,t,r,e),a=void 0,!Wd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function sd(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=us(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}ig(function(){var d=i,f=fm(r),m=[];e:{var x=Fg.get(e);if(x!==void 0){var y=jm,b=e;switch(e){case"keypress":if(el(r)===0)break e;case"keydown":case"keyup":y=gN;break;case"focusin":b="focus",y=Jc;break;case"focusout":b="blur",y=Jc;break;case"beforeblur":case"afterblur":y=Jc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=aN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=jN;break;case Rg:case Ag:case Dg:y=lN;break;case Mg:y=wN;break;case"scroll":y=rN;break;case"wheel":y=SN;break;case"copy":case"cut":case"paste":y=dN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=jf}var p=(t&4)!==0,j=!p&&e==="scroll",h=p?x!==null?x+"Capture":null:x;p=[];for(var v=d,g;v!==null;){g=v;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,h!==null&&(w=_i(v,h),w!=null&&p.push(Ki(v,w,g)))),j)break;v=v.return}0<p.length&&(x=new y(x,b,null,r,f),m.push({event:x,listeners:p}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",x&&r!==Kd&&(b=r.relatedTarget||r.fromElement)&&(us(b)||b[Yn]))break e;if((y||x)&&(x=f.window===f?f:(x=f.ownerDocument)?x.defaultView||x.parentWindow:window,y?(b=r.relatedTarget||r.toElement,y=d,b=b?us(b):null,b!==null&&(j=$s(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=d),y!==b)){if(p=vf,w="onMouseLeave",h="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=jf,w="onPointerLeave",h="onPointerEnter",v="pointer"),j=y==null?x:ta(y),g=b==null?x:ta(b),x=new p(w,v+"leave",y,r,f),x.target=j,x.relatedTarget=g,w=null,us(f)===d&&(p=new p(h,v+"enter",b,r,f),p.target=g,p.relatedTarget=j,w=p),j=w,y&&b)t:{for(p=y,h=b,v=0,g=p;g;g=Qs(g))v++;for(g=0,w=h;w;w=Qs(w))g++;for(;0<v-g;)p=Qs(p),v--;for(;0<g-v;)h=Qs(h),g--;for(;v--;){if(p===h||h!==null&&p===h.alternate)break t;p=Qs(p),h=Qs(h)}p=null}else p=null;y!==null&&Rf(m,x,y,p,!1),b!==null&&j!==null&&Rf(m,j,b,p,!0)}}e:{if(x=d?ta(d):window,y=x.nodeName&&x.nodeName.toLowerCase(),y==="select"||y==="input"&&x.type==="file")var N=RN;else if(Nf(x))if(kg)N=FN;else{N=DN;var S=AN}else(y=x.nodeName)&&y.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(N=MN);if(N&&(N=N(e,d))){Cg(m,N,r,f);break e}S&&S(e,x,d),e==="focusout"&&(S=x._wrapperState)&&S.controlled&&x.type==="number"&&zd(x,"number",x.value)}switch(S=d?ta(d):window,e){case"focusin":(Nf(S)||S.contentEditable==="true")&&(Zs=S,Yd=d,Ii=null);break;case"focusout":Ii=Yd=Zs=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,Tf(m,r,f);break;case"selectionchange":if(_N)break;case"keydown":case"keyup":Tf(m,r,f)}var E;if(wm)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ys?Ng(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(wg&&r.locale!=="ko"&&(Ys||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ys&&(E=bg()):(Tr=f,ym="value"in Tr?Tr.value:Tr.textContent,Ys=!0)),S=bl(d,P),0<S.length&&(P=new yf(P,e,null,r,f),m.push({event:P,listeners:S}),E?P.data=E:(E=Sg(r),E!==null&&(P.data=E)))),(E=kN?EN(e,r):TN(e,r))&&(d=bl(d,"onBeforeInput"),0<d.length&&(f=new yf("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:d}),f.data=E))}Og(m,t)})}function Ki(e,t,r){return{instance:e,listener:t,currentTarget:r}}function bl(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=_i(e,r),i!=null&&s.unshift(Ki(e,i,a)),i=_i(e,t),i!=null&&s.push(Ki(e,i,a))),e=e.return}return s}function Qs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rf(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=_i(r,i),c!=null&&o.unshift(Ki(r,c,l))):a||(c=_i(r,i),c!=null&&o.push(Ki(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var BN=/\r\n?/g,VN=/\u0000|\uFFFD/g;function Af(e){return(typeof e=="string"?e:""+e).replace(BN,`
`).replace(VN,"")}function Fo(e,t,r){if(t=Af(t),Af(e)!==t&&r)throw Error(W(425))}function wl(){}var eu=null,tu=null;function nu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ru=typeof setTimeout=="function"?setTimeout:void 0,qN=typeof clearTimeout=="function"?clearTimeout:void 0,Df=typeof Promise=="function"?Promise:void 0,KN=typeof queueMicrotask=="function"?queueMicrotask:typeof Df<"u"?function(e){return Df.resolve(null).then(e).catch(QN)}:ru;function QN(e){setTimeout(function(){throw e})}function ad(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Ui(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Ui(t)}function Mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Za=Math.random().toString(36).slice(2),Rn="__reactFiber$"+Za,Qi="__reactProps$"+Za,Yn="__reactContainer$"+Za,su="__reactEvents$"+Za,WN="__reactListeners$"+Za,HN="__reactHandles$"+Za;function us(e){var t=e[Rn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yn]||r[Rn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Mf(e);e!==null;){if(r=e[Rn])return r;e=Mf(e)}return t}e=r,r=e.parentNode}return null}function uo(e){return e=e[Rn]||e[Yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ta(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function rc(e){return e[Qi]||null}var au=[],na=-1;function ns(e){return{current:e}}function Be(e){0>na||(e.current=au[na],au[na]=null,na--)}function $e(e,t){na++,au[na]=e.current,e.current=t}var Br={},wt=ns(Br),Ot=ns(!1),Ss=Br;function $a(e,t){var r=e.type.contextTypes;if(!r)return Br;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Lt(e){return e=e.childContextTypes,e!=null}function Nl(){Be(Ot),Be(wt)}function Ff(e,t,r){if(wt.current!==Br)throw Error(W(168));$e(wt,t),$e(Ot,r)}function _g(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(W(108,A1(e)||"Unknown",a));return We({},r,s)}function Sl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Br,Ss=wt.current,$e(wt,e),$e(Ot,Ot.current),!0}function Of(e,t,r){var s=e.stateNode;if(!s)throw Error(W(169));r?(e=_g(e,t,Ss),s.__reactInternalMemoizedMergedChildContext=e,Be(Ot),Be(wt),$e(wt,e)):Be(Ot),$e(Ot,r)}var qn=null,sc=!1,id=!1;function $g(e){qn===null?qn=[e]:qn.push(e)}function GN(e){sc=!0,$g(e)}function rs(){if(!id&&qn!==null){id=!0;var e=0,t=Oe;try{var r=qn;for(Oe=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}qn=null,sc=!1}catch(a){throw qn!==null&&(qn=qn.slice(e+1)),dg(pm,rs),a}finally{Oe=t,id=!1}}return null}var ra=[],sa=0,Cl=null,kl=0,Yt=[],Zt=0,Cs=null,Qn=1,Wn="";function ls(e,t){ra[sa++]=kl,ra[sa++]=Cl,Cl=e,kl=t}function zg(e,t,r){Yt[Zt++]=Qn,Yt[Zt++]=Wn,Yt[Zt++]=Cs,Cs=e;var s=Qn;e=Wn;var a=32-pn(s)-1;s&=~(1<<a),r+=1;var i=32-pn(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Qn=1<<32-pn(t)+a|r<<a|s,Wn=i+e}else Qn=1<<i|r<<a|s,Wn=e}function Sm(e){e.return!==null&&(ls(e,1),zg(e,1,0))}function Cm(e){for(;e===Cl;)Cl=ra[--sa],ra[sa]=null,kl=ra[--sa],ra[sa]=null;for(;e===Cs;)Cs=Yt[--Zt],Yt[Zt]=null,Wn=Yt[--Zt],Yt[Zt]=null,Qn=Yt[--Zt],Yt[Zt]=null}var Kt=null,qt=null,Ve=!1,hn=null;function Ug(e,t){var r=en(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kt=e,qt=Mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kt=e,qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cs!==null?{id:Qn,overflow:Wn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=en(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Kt=e,qt=null,!0):!1;default:return!1}}function iu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ou(e){if(Ve){var t=qt;if(t){var r=t;if(!Lf(e,t)){if(iu(e))throw Error(W(418));t=Mr(r.nextSibling);var s=Kt;t&&Lf(e,t)?Ug(s,r):(e.flags=e.flags&-4097|2,Ve=!1,Kt=e)}}else{if(iu(e))throw Error(W(418));e.flags=e.flags&-4097|2,Ve=!1,Kt=e}}}function _f(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kt=e}function Oo(e){if(e!==Kt)return!1;if(!Ve)return _f(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nu(e.type,e.memoizedProps)),t&&(t=qt)){if(iu(e))throw Bg(),Error(W(418));for(;t;)Ug(e,t),t=Mr(t.nextSibling)}if(_f(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){qt=Mr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}qt=null}}else qt=Kt?Mr(e.stateNode.nextSibling):null;return!0}function Bg(){for(var e=qt;e;)e=Mr(e.nextSibling)}function za(){qt=Kt=null,Ve=!1}function km(e){hn===null?hn=[e]:hn.push(e)}var XN=ar.ReactCurrentBatchConfig;function pi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var s=r.stateNode}if(!s)throw Error(W(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function Lo(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $f(e){var t=e._init;return t(e._payload)}function Vg(e){function t(h,v){if(e){var g=h.deletions;g===null?(h.deletions=[v],h.flags|=16):g.push(v)}}function r(h,v){if(!e)return null;for(;v!==null;)t(h,v),v=v.sibling;return null}function s(h,v){for(h=new Map;v!==null;)v.key!==null?h.set(v.key,v):h.set(v.index,v),v=v.sibling;return h}function a(h,v){return h=_r(h,v),h.index=0,h.sibling=null,h}function i(h,v,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<v?(h.flags|=2,v):g):(h.flags|=2,v)):(h.flags|=1048576,v)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,v,g,w){return v===null||v.tag!==6?(v=hd(g,h.mode,w),v.return=h,v):(v=a(v,g),v.return=h,v)}function c(h,v,g,w){var N=g.type;return N===Js?f(h,v,g.props.children,w,g.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===fr&&$f(N)===v.type)?(w=a(v,g.props),w.ref=pi(h,v,g),w.return=h,w):(w=ol(g.type,g.key,g.props,null,h.mode,w),w.ref=pi(h,v,g),w.return=h,w)}function d(h,v,g,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=fd(g,h.mode,w),v.return=h,v):(v=a(v,g.children||[]),v.return=h,v)}function f(h,v,g,w,N){return v===null||v.tag!==7?(v=ws(g,h.mode,w,N),v.return=h,v):(v=a(v,g),v.return=h,v)}function m(h,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=hd(""+v,h.mode,g),v.return=h,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ko:return g=ol(v.type,v.key,v.props,null,h.mode,g),g.ref=pi(h,null,v),g.return=h,g;case Xs:return v=fd(v,h.mode,g),v.return=h,v;case fr:var w=v._init;return m(h,w(v._payload),g)}if(bi(v)||di(v))return v=ws(v,h.mode,g,null),v.return=h,v;Lo(h,v)}return null}function x(h,v,g,w){var N=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:l(h,v,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ko:return g.key===N?c(h,v,g,w):null;case Xs:return g.key===N?d(h,v,g,w):null;case fr:return N=g._init,x(h,v,N(g._payload),w)}if(bi(g)||di(g))return N!==null?null:f(h,v,g,w,null);Lo(h,g)}return null}function y(h,v,g,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(g)||null,l(v,h,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ko:return h=h.get(w.key===null?g:w.key)||null,c(v,h,w,N);case Xs:return h=h.get(w.key===null?g:w.key)||null,d(v,h,w,N);case fr:var S=w._init;return y(h,v,g,S(w._payload),N)}if(bi(w)||di(w))return h=h.get(g)||null,f(v,h,w,N,null);Lo(v,w)}return null}function b(h,v,g,w){for(var N=null,S=null,E=v,P=v=0,C=null;E!==null&&P<g.length;P++){E.index>P?(C=E,E=null):C=E.sibling;var M=x(h,E,g[P],w);if(M===null){E===null&&(E=C);break}e&&E&&M.alternate===null&&t(h,E),v=i(M,v,P),S===null?N=M:S.sibling=M,S=M,E=C}if(P===g.length)return r(h,E),Ve&&ls(h,P),N;if(E===null){for(;P<g.length;P++)E=m(h,g[P],w),E!==null&&(v=i(E,v,P),S===null?N=E:S.sibling=E,S=E);return Ve&&ls(h,P),N}for(E=s(h,E);P<g.length;P++)C=y(E,h,P,g[P],w),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?P:C.key),v=i(C,v,P),S===null?N=C:S.sibling=C,S=C);return e&&E.forEach(function(q){return t(h,q)}),Ve&&ls(h,P),N}function p(h,v,g,w){var N=di(g);if(typeof N!="function")throw Error(W(150));if(g=N.call(g),g==null)throw Error(W(151));for(var S=N=null,E=v,P=v=0,C=null,M=g.next();E!==null&&!M.done;P++,M=g.next()){E.index>P?(C=E,E=null):C=E.sibling;var q=x(h,E,M.value,w);if(q===null){E===null&&(E=C);break}e&&E&&q.alternate===null&&t(h,E),v=i(q,v,P),S===null?N=q:S.sibling=q,S=q,E=C}if(M.done)return r(h,E),Ve&&ls(h,P),N;if(E===null){for(;!M.done;P++,M=g.next())M=m(h,M.value,w),M!==null&&(v=i(M,v,P),S===null?N=M:S.sibling=M,S=M);return Ve&&ls(h,P),N}for(E=s(h,E);!M.done;P++,M=g.next())M=y(E,h,P,M.value,w),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?P:M.key),v=i(M,v,P),S===null?N=M:S.sibling=M,S=M);return e&&E.forEach(function(I){return t(h,I)}),Ve&&ls(h,P),N}function j(h,v,g,w){if(typeof g=="object"&&g!==null&&g.type===Js&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ko:e:{for(var N=g.key,S=v;S!==null;){if(S.key===N){if(N=g.type,N===Js){if(S.tag===7){r(h,S.sibling),v=a(S,g.props.children),v.return=h,h=v;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===fr&&$f(N)===S.type){r(h,S.sibling),v=a(S,g.props),v.ref=pi(h,S,g),v.return=h,h=v;break e}r(h,S);break}else t(h,S);S=S.sibling}g.type===Js?(v=ws(g.props.children,h.mode,w,g.key),v.return=h,h=v):(w=ol(g.type,g.key,g.props,null,h.mode,w),w.ref=pi(h,v,g),w.return=h,h=w)}return o(h);case Xs:e:{for(S=g.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){r(h,v.sibling),v=a(v,g.children||[]),v.return=h,h=v;break e}else{r(h,v);break}else t(h,v);v=v.sibling}v=fd(g,h.mode,w),v.return=h,h=v}return o(h);case fr:return S=g._init,j(h,v,S(g._payload),w)}if(bi(g))return b(h,v,g,w);if(di(g))return p(h,v,g,w);Lo(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(r(h,v.sibling),v=a(v,g),v.return=h,h=v):(r(h,v),v=hd(g,h.mode,w),v.return=h,h=v),o(h)):r(h,v)}return j}var Ua=Vg(!0),qg=Vg(!1),El=ns(null),Tl=null,aa=null,Em=null;function Tm(){Em=aa=Tl=null}function Pm(e){var t=El.current;Be(El),e._currentValue=t}function lu(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function fa(e,t){Tl=e,Em=aa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ft=!0),e.firstContext=null)}function nn(e){var t=e._currentValue;if(Em!==e)if(e={context:e,memoizedValue:t,next:null},aa===null){if(Tl===null)throw Error(W(308));aa=e,Tl.dependencies={lanes:0,firstContext:e}}else aa=aa.next=e;return t}var ms=null;function Im(e){ms===null?ms=[e]:ms.push(e)}function Kg(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Im(t)):(r.next=a.next,a.next=r),t.interleaved=r,Zn(e,s)}function Zn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var pr=!1;function Rm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ee&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Zn(e,r)}return a=s.interleaved,a===null?(t.next=t,Im(s)):(t.next=a.next,a.next=t),s.interleaved=t,Zn(e,r)}function tl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,xm(e,r)}}function zf(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Pl(e,t,r,s){var a=e.updateQueue;pr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,f=d=c=null,l=i;do{var x=l.lane,y=l.eventTime;if((s&x)===x){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,p=l;switch(x=t,y=r,p.tag){case 1:if(b=p.payload,typeof b=="function"){m=b.call(y,m,x);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=p.payload,x=typeof b=="function"?b.call(y,m,x):b,x==null)break e;m=We({},m,x);break e;case 2:pr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[l]:x.push(l))}else y={eventTime:y,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=y,c=m):f=f.next=y,o|=x;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;x=l,l=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(f===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Es|=o,e.lanes=o,e.memoizedState=m}}function Uf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(W(191,a));a.call(s)}}}var mo={},Fn=ns(mo),Wi=ns(mo),Hi=ns(mo);function hs(e){if(e===mo)throw Error(W(174));return e}function Am(e,t){switch($e(Hi,t),$e(Wi,e),$e(Fn,mo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bd(t,e)}Be(Fn),$e(Fn,t)}function Ba(){Be(Fn),Be(Wi),Be(Hi)}function Wg(e){hs(Hi.current);var t=hs(Fn.current),r=Bd(t,e.type);t!==r&&($e(Wi,e),$e(Fn,r))}function Dm(e){Wi.current===e&&(Be(Fn),Be(Wi))}var Ke=ns(0);function Il(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var od=[];function Mm(){for(var e=0;e<od.length;e++)od[e]._workInProgressVersionPrimary=null;od.length=0}var nl=ar.ReactCurrentDispatcher,ld=ar.ReactCurrentBatchConfig,ks=0,Qe=null,nt=null,lt=null,Rl=!1,Ri=!1,Gi=0,JN=0;function vt(){throw Error(W(321))}function Fm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gn(e[r],t[r]))return!1;return!0}function Om(e,t,r,s,a,i){if(ks=i,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nl.current=e===null||e.memoizedState===null?t2:n2,e=r(s,a),Ri){i=0;do{if(Ri=!1,Gi=0,25<=i)throw Error(W(301));i+=1,lt=nt=null,t.updateQueue=null,nl.current=r2,e=r(s,a)}while(Ri)}if(nl.current=Al,t=nt!==null&&nt.next!==null,ks=0,lt=nt=Qe=null,Rl=!1,t)throw Error(W(300));return e}function Lm(){var e=Gi!==0;return Gi=0,e}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Qe.memoizedState=lt=e:lt=lt.next=e,lt}function rn(){if(nt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=lt===null?Qe.memoizedState:lt.next;if(t!==null)lt=t,nt=e;else{if(e===null)throw Error(W(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},lt===null?Qe.memoizedState=lt=e:lt=lt.next=e}return lt}function Xi(e,t){return typeof t=="function"?t(e):t}function cd(e){var t=rn(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var s=nt,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var f=d.lane;if((ks&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=s):c=c.next=m,Qe.lanes|=f,Es|=f}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,gn(s,t.memoizedState)||(Ft=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Qe.lanes|=i,Es|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function dd(e){var t=rn(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);gn(i,t.memoizedState)||(Ft=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function Hg(){}function Gg(e,t){var r=Qe,s=rn(),a=t(),i=!gn(s.memoizedState,a);if(i&&(s.memoizedState=a,Ft=!0),s=s.queue,_m(Yg.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||lt!==null&&lt.memoizedState.tag&1){if(r.flags|=2048,Ji(9,Jg.bind(null,r,s,a,t),void 0,null),ct===null)throw Error(W(349));ks&30||Xg(r,t,a)}return a}function Xg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Jg(e,t,r,s){t.value=r,t.getSnapshot=s,Zg(t)&&e0(e)}function Yg(e,t,r){return r(function(){Zg(t)&&e0(e)})}function Zg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gn(e,r)}catch{return!0}}function e0(e){var t=Zn(e,1);t!==null&&xn(t,e,1,-1)}function Bf(e){var t=Cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},t.queue=e,e=e.dispatch=e2.bind(null,Qe,e),[t.memoizedState,e]}function Ji(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function t0(){return rn().memoizedState}function rl(e,t,r,s){var a=Cn();Qe.flags|=e,a.memoizedState=Ji(1|t,r,void 0,s===void 0?null:s)}function ac(e,t,r,s){var a=rn();s=s===void 0?null:s;var i=void 0;if(nt!==null){var o=nt.memoizedState;if(i=o.destroy,s!==null&&Fm(s,o.deps)){a.memoizedState=Ji(t,r,i,s);return}}Qe.flags|=e,a.memoizedState=Ji(1|t,r,i,s)}function Vf(e,t){return rl(8390656,8,e,t)}function _m(e,t){return ac(2048,8,e,t)}function n0(e,t){return ac(4,2,e,t)}function r0(e,t){return ac(4,4,e,t)}function s0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function a0(e,t,r){return r=r!=null?r.concat([e]):null,ac(4,4,s0.bind(null,t,e),r)}function $m(){}function i0(e,t){var r=rn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Fm(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function o0(e,t){var r=rn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Fm(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function l0(e,t,r){return ks&21?(gn(r,t)||(r=hg(),Qe.lanes|=r,Es|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=r)}function YN(e,t){var r=Oe;Oe=r!==0&&4>r?r:4,e(!0);var s=ld.transition;ld.transition={};try{e(!1),t()}finally{Oe=r,ld.transition=s}}function c0(){return rn().memoizedState}function ZN(e,t,r){var s=Lr(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},d0(e))u0(t,r);else if(r=Kg(e,t,r,s),r!==null){var a=Et();xn(r,e,s,a),m0(r,t,s)}}function e2(e,t,r){var s=Lr(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(d0(e))u0(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,gn(l,o)){var c=t.interleaved;c===null?(a.next=a,Im(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Kg(e,t,a,s),r!==null&&(a=Et(),xn(r,e,s,a),m0(r,t,s))}}function d0(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function u0(e,t){Ri=Rl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function m0(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,xm(e,r)}}var Al={readContext:nn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},t2={readContext:nn,useCallback:function(e,t){return Cn().memoizedState=[e,t===void 0?null:t],e},useContext:nn,useEffect:Vf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,rl(4194308,4,s0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return rl(4194308,4,e,t)},useInsertionEffect:function(e,t){return rl(4,2,e,t)},useMemo:function(e,t){var r=Cn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Cn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=ZN.bind(null,Qe,e),[s.memoizedState,e]},useRef:function(e){var t=Cn();return e={current:e},t.memoizedState=e},useState:Bf,useDebugValue:$m,useDeferredValue:function(e){return Cn().memoizedState=e},useTransition:function(){var e=Bf(!1),t=e[0];return e=YN.bind(null,e[1]),Cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Qe,a=Cn();if(Ve){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),ct===null)throw Error(W(349));ks&30||Xg(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Vf(Yg.bind(null,s,i,e),[e]),s.flags|=2048,Ji(9,Jg.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Cn(),t=ct.identifierPrefix;if(Ve){var r=Wn,s=Qn;r=(s&~(1<<32-pn(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Gi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=JN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},n2={readContext:nn,useCallback:i0,useContext:nn,useEffect:_m,useImperativeHandle:a0,useInsertionEffect:n0,useLayoutEffect:r0,useMemo:o0,useReducer:cd,useRef:t0,useState:function(){return cd(Xi)},useDebugValue:$m,useDeferredValue:function(e){var t=rn();return l0(t,nt.memoizedState,e)},useTransition:function(){var e=cd(Xi)[0],t=rn().memoizedState;return[e,t]},useMutableSource:Hg,useSyncExternalStore:Gg,useId:c0,unstable_isNewReconciler:!1},r2={readContext:nn,useCallback:i0,useContext:nn,useEffect:_m,useImperativeHandle:a0,useInsertionEffect:n0,useLayoutEffect:r0,useMemo:o0,useReducer:dd,useRef:t0,useState:function(){return dd(Xi)},useDebugValue:$m,useDeferredValue:function(e){var t=rn();return nt===null?t.memoizedState=e:l0(t,nt.memoizedState,e)},useTransition:function(){var e=dd(Xi)[0],t=rn().memoizedState;return[e,t]},useMutableSource:Hg,useSyncExternalStore:Gg,useId:c0,unstable_isNewReconciler:!1};function dn(e,t){if(e&&e.defaultProps){t=We({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function cu(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:We({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ic={isMounted:function(e){return(e=e._reactInternals)?$s(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Et(),a=Lr(e),i=Hn(s,a);i.payload=t,r!=null&&(i.callback=r),t=Fr(e,i,a),t!==null&&(xn(t,e,a,s),tl(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Et(),a=Lr(e),i=Hn(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Fr(e,i,a),t!==null&&(xn(t,e,a,s),tl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Et(),s=Lr(e),a=Hn(r,s);a.tag=2,t!=null&&(a.callback=t),t=Fr(e,a,s),t!==null&&(xn(t,e,s,r),tl(t,e,s))}};function qf(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Vi(r,s)||!Vi(a,i):!0}function h0(e,t,r){var s=!1,a=Br,i=t.contextType;return typeof i=="object"&&i!==null?i=nn(i):(a=Lt(t)?Ss:wt.current,s=t.contextTypes,i=(s=s!=null)?$a(e,a):Br),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ic,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Kf(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&ic.enqueueReplaceState(t,t.state,null)}function du(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Rm(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=nn(i):(i=Lt(t)?Ss:wt.current,a.context=$a(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(cu(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ic.enqueueReplaceState(a,a.state,null),Pl(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Va(e,t){try{var r="",s=t;do r+=R1(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function ud(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function uu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var s2=typeof WeakMap=="function"?WeakMap:Map;function f0(e,t,r){r=Hn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Ml||(Ml=!0,bu=s),uu(e,t)},r}function p0(e,t,r){r=Hn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){uu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){uu(e,t),typeof s!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Qf(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new s2;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=v2.bind(null,e,t,r),t.then(e,e))}function Wf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hf(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Hn(-1,1),t.tag=2,Fr(r,t,1))),r.lanes|=1),e)}var a2=ar.ReactCurrentOwner,Ft=!1;function Ct(e,t,r,s){t.child=e===null?qg(t,null,r,s):Ua(t,e.child,r,s)}function Gf(e,t,r,s,a){r=r.render;var i=t.ref;return fa(t,a),s=Om(e,t,r,s,i,a),r=Lm(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,er(e,t,a)):(Ve&&r&&Sm(t),t.flags|=1,Ct(e,t,s,a),t.child)}function Xf(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!Wm(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,x0(e,t,i,s,a)):(e=ol(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Vi,r(o,s)&&e.ref===t.ref)return er(e,t,a)}return t.flags|=1,e=_r(i,s),e.ref=t.ref,e.return=t,t.child=e}function x0(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(Vi(i,s)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Ft=!0);else return t.lanes=e.lanes,er(e,t,a)}return mu(e,t,r,s,a)}function g0(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(oa,Bt),Bt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(oa,Bt),Bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,$e(oa,Bt),Bt|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,$e(oa,Bt),Bt|=s;return Ct(e,t,a,r),t.child}function v0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function mu(e,t,r,s,a){var i=Lt(r)?Ss:wt.current;return i=$a(t,i),fa(t,a),r=Om(e,t,r,s,i,a),s=Lm(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,er(e,t,a)):(Ve&&s&&Sm(t),t.flags|=1,Ct(e,t,r,a),t.child)}function Jf(e,t,r,s,a){if(Lt(r)){var i=!0;Sl(t)}else i=!1;if(fa(t,a),t.stateNode===null)sl(e,t),h0(t,r,s),du(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=nn(d):(d=Lt(r)?Ss:wt.current,d=$a(t,d));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&Kf(t,o,s,d),pr=!1;var x=t.memoizedState;o.state=x,Pl(t,s,o,a),c=t.memoizedState,l!==s||x!==c||Ot.current||pr?(typeof f=="function"&&(cu(t,r,f,s),c=t.memoizedState),(l=pr||qf(t,r,l,s,x,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Qg(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:dn(t.type,l),o.props=d,m=t.pendingProps,x=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=nn(c):(c=Lt(r)?Ss:wt.current,c=$a(t,c));var y=r.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||x!==c)&&Kf(t,o,s,c),pr=!1,x=t.memoizedState,o.state=x,Pl(t,s,o,a);var b=t.memoizedState;l!==m||x!==b||Ot.current||pr?(typeof y=="function"&&(cu(t,r,y,s),b=t.memoizedState),(d=pr||qf(t,r,d,s,x,b,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=b),o.props=s,o.state=b,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),s=!1)}return hu(e,t,r,s,i,a)}function hu(e,t,r,s,a,i){v0(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Of(t,r,!1),er(e,t,i);s=t.stateNode,a2.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Ua(t,e.child,null,i),t.child=Ua(t,null,l,i)):Ct(e,t,l,i),t.memoizedState=s.state,a&&Of(t,r,!0),t.child}function y0(e){var t=e.stateNode;t.pendingContext?Ff(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ff(e,t.context,!1),Am(e,t.containerInfo)}function Yf(e,t,r,s,a){return za(),km(a),t.flags|=256,Ct(e,t,r,s),t.child}var fu={dehydrated:null,treeContext:null,retryLane:0};function pu(e){return{baseLanes:e,cachePool:null,transitions:null}}function j0(e,t,r){var s=t.pendingProps,a=Ke.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),$e(Ke,a&1),e===null)return ou(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cc(o,s,0,null),e=ws(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=pu(r),t.memoizedState=fu,e):zm(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return i2(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=_r(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=_r(l,i):(i=ws(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?pu(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=fu,s}return i=e.child,e=i.sibling,s=_r(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function zm(e,t){return t=cc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _o(e,t,r,s){return s!==null&&km(s),Ua(t,e.child,null,r),e=zm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function i2(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=ud(Error(W(422))),_o(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=cc({mode:"visible",children:s.children},a,0,null),i=ws(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Ua(t,e.child,null,o),t.child.memoizedState=pu(o),t.memoizedState=fu,i);if(!(t.mode&1))return _o(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(W(419)),s=ud(i,s,void 0),_o(e,t,o,s)}if(l=(o&e.childLanes)!==0,Ft||l){if(s=ct,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Zn(e,a),xn(s,e,a,-1))}return Qm(),s=ud(Error(W(421))),_o(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=y2.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,qt=Mr(a.nextSibling),Kt=t,Ve=!0,hn=null,e!==null&&(Yt[Zt++]=Qn,Yt[Zt++]=Wn,Yt[Zt++]=Cs,Qn=e.id,Wn=e.overflow,Cs=t),t=zm(t,s.children),t.flags|=4096,t)}function Zf(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),lu(e.return,t,r)}function md(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function b0(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Ct(e,t,s.children,r),s=Ke.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zf(e,r,t);else if(e.tag===19)Zf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if($e(Ke,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Il(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),md(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Il(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}md(t,!0,r,null,i);break;case"together":md(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function er(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Es|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=_r(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=_r(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function o2(e,t,r){switch(t.tag){case 3:y0(t),za();break;case 5:Wg(t);break;case 1:Lt(t.type)&&Sl(t);break;case 4:Am(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;$e(El,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?($e(Ke,Ke.current&1),t.flags|=128,null):r&t.child.childLanes?j0(e,t,r):($e(Ke,Ke.current&1),e=er(e,t,r),e!==null?e.sibling:null);$e(Ke,Ke.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return b0(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),$e(Ke,Ke.current),s)break;return null;case 22:case 23:return t.lanes=0,g0(e,t,r)}return er(e,t,r)}var w0,xu,N0,S0;w0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};xu=function(){};N0=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,hs(Fn.current);var i=null;switch(r){case"input":a=_d(e,a),s=_d(e,s),i=[];break;case"select":a=We({},a,{value:void 0}),s=We({},s,{value:void 0}),i=[];break;case"textarea":a=Ud(e,a),s=Ud(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=wl)}Vd(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Oi.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Oi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ue("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};S0=function(e,t,r,s){r!==s&&(t.flags|=4)};function xi(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function l2(e,t,r){var s=t.pendingProps;switch(Cm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return Lt(t.type)&&Nl(),yt(t),null;case 3:return s=t.stateNode,Ba(),Be(Ot),Be(wt),Mm(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Oo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hn!==null&&(Su(hn),hn=null))),xu(e,t),yt(t),null;case 5:Dm(t);var a=hs(Hi.current);if(r=t.type,e!==null&&t.stateNode!=null)N0(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(W(166));return yt(t),null}if(e=hs(Fn.current),Oo(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Rn]=t,s[Qi]=i,e=(t.mode&1)!==0,r){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(a=0;a<Ni.length;a++)Ue(Ni[a],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":lf(s,i),Ue("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Ue("invalid",s);break;case"textarea":df(s,i),Ue("invalid",s)}Vd(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Fo(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Fo(s.textContent,l,e),a=["children",""+l]):Oi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ue("scroll",s)}switch(r){case"input":Eo(s),cf(s,i,!0);break;case"textarea":Eo(s),uf(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=wl)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[Rn]=t,e[Qi]=s,w0(e,t,!1,!1),t.stateNode=e;e:{switch(o=qd(r,s),r){case"dialog":Ue("cancel",e),Ue("close",e),a=s;break;case"iframe":case"object":case"embed":Ue("load",e),a=s;break;case"video":case"audio":for(a=0;a<Ni.length;a++)Ue(Ni[a],e);a=s;break;case"source":Ue("error",e),a=s;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),a=s;break;case"details":Ue("toggle",e),a=s;break;case"input":lf(e,s),a=_d(e,s),Ue("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=We({},s,{value:void 0}),Ue("invalid",e);break;case"textarea":df(e,s),a=Ud(e,s),Ue("invalid",e);break;default:a=s}Vd(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?tg(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Zx(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Li(e,c):typeof c=="number"&&Li(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Oi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ue("scroll",e):c!=null&&dm(e,i,c,o))}switch(r){case"input":Eo(e),cf(e,s,!1);break;case"textarea":Eo(e),uf(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ur(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?da(e,!!s.multiple,i,!1):s.defaultValue!=null&&da(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=wl)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)S0(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(W(166));if(r=hs(Hi.current),hs(Fn.current),Oo(t)){if(s=t.stateNode,r=t.memoizedProps,s[Rn]=t,(i=s.nodeValue!==r)&&(e=Kt,e!==null))switch(e.tag){case 3:Fo(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fo(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Rn]=t,t.stateNode=s}return yt(t),null;case 13:if(Be(Ke),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&qt!==null&&t.mode&1&&!(t.flags&128))Bg(),za(),t.flags|=98560,i=!1;else if(i=Oo(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(W(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Rn]=t}else za(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yt(t),i=!1}else hn!==null&&(Su(hn),hn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Ke.current&1?st===0&&(st=3):Qm())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return Ba(),xu(e,t),e===null&&qi(t.stateNode.containerInfo),yt(t),null;case 10:return Pm(t.type._context),yt(t),null;case 17:return Lt(t.type)&&Nl(),yt(t),null;case 19:if(Be(Ke),i=t.memoizedState,i===null)return yt(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)xi(i,!1);else{if(st!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Il(e),o!==null){for(t.flags|=128,xi(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $e(Ke,Ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&et()>qa&&(t.flags|=128,s=!0,xi(i,!1),t.lanes=4194304)}else{if(!s)if(e=Il(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),xi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ve)return yt(t),null}else 2*et()-i.renderingStartTime>qa&&r!==1073741824&&(t.flags|=128,s=!0,xi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=et(),t.sibling=null,r=Ke.current,$e(Ke,s?r&1|2:r&1),t):(yt(t),null);case 22:case 23:return Km(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Bt&1073741824&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function c2(e,t){switch(Cm(t),t.tag){case 1:return Lt(t.type)&&Nl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ba(),Be(Ot),Be(wt),Mm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dm(t),null;case 13:if(Be(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Ke),null;case 4:return Ba(),null;case 10:return Pm(t.type._context),null;case 22:case 23:return Km(),null;case 24:return null;default:return null}}var $o=!1,bt=!1,d2=typeof WeakSet=="function"?WeakSet:Set,Y=null;function ia(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ye(e,t,s)}else r.current=null}function gu(e,t,r){try{r()}catch(s){Ye(e,t,s)}}var ep=!1;function u2(e,t){if(eu=yl,e=Pg(),Nm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,f=0,m=e,x=null;t:for(;;){for(var y;m!==r||a!==0&&m.nodeType!==3||(l=o+a),m!==i||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)x=m,m=y;for(;;){if(m===e)break t;if(x===r&&++d===a&&(l=o),x===i&&++f===s&&(c=o),(y=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(tu={focusedElem:e,selectionRange:r},yl=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var p=b.memoizedProps,j=b.memoizedState,h=t.stateNode,v=h.getSnapshotBeforeUpdate(t.elementType===t.type?p:dn(t.type,p),j);h.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(w){Ye(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return b=ep,ep=!1,b}function Ai(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&gu(t,r,i)}a=a.next}while(a!==s)}}function oc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function vu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function C0(e){var t=e.alternate;t!==null&&(e.alternate=null,C0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rn],delete t[Qi],delete t[su],delete t[WN],delete t[HN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function k0(e){return e.tag===5||e.tag===3||e.tag===4}function tp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||k0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wl));else if(s!==4&&(e=e.child,e!==null))for(yu(e,t,r),e=e.sibling;e!==null;)yu(e,t,r),e=e.sibling}function ju(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ju(e,t,r),e=e.sibling;e!==null;)ju(e,t,r),e=e.sibling}var dt=null,mn=!1;function cr(e,t,r){for(r=r.child;r!==null;)E0(e,t,r),r=r.sibling}function E0(e,t,r){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Zl,r)}catch{}switch(r.tag){case 5:bt||ia(r,t);case 6:var s=dt,a=mn;dt=null,cr(e,t,r),dt=s,mn=a,dt!==null&&(mn?(e=dt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dt.removeChild(r.stateNode));break;case 18:dt!==null&&(mn?(e=dt,r=r.stateNode,e.nodeType===8?ad(e.parentNode,r):e.nodeType===1&&ad(e,r),Ui(e)):ad(dt,r.stateNode));break;case 4:s=dt,a=mn,dt=r.stateNode.containerInfo,mn=!0,cr(e,t,r),dt=s,mn=a;break;case 0:case 11:case 14:case 15:if(!bt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gu(r,t,o),a=a.next}while(a!==s)}cr(e,t,r);break;case 1:if(!bt&&(ia(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Ye(r,t,l)}cr(e,t,r);break;case 21:cr(e,t,r);break;case 22:r.mode&1?(bt=(s=bt)||r.memoizedState!==null,cr(e,t,r),bt=s):cr(e,t,r);break;default:cr(e,t,r)}}function np(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new d2),t.forEach(function(s){var a=j2.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function ln(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:dt=l.stateNode,mn=!1;break e;case 3:dt=l.stateNode.containerInfo,mn=!0;break e;case 4:dt=l.stateNode.containerInfo,mn=!0;break e}l=l.return}if(dt===null)throw Error(W(160));E0(i,o,a),dt=null,mn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ye(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)T0(t,e),t=t.sibling}function T0(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(t,e),Sn(e),s&4){try{Ai(3,e,e.return),oc(3,e)}catch(p){Ye(e,e.return,p)}try{Ai(5,e,e.return)}catch(p){Ye(e,e.return,p)}}break;case 1:ln(t,e),Sn(e),s&512&&r!==null&&ia(r,r.return);break;case 5:if(ln(t,e),Sn(e),s&512&&r!==null&&ia(r,r.return),e.flags&32){var a=e.stateNode;try{Li(a,"")}catch(p){Ye(e,e.return,p)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Xx(a,i),qd(l,o);var d=qd(l,i);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?tg(a,m):f==="dangerouslySetInnerHTML"?Zx(a,m):f==="children"?Li(a,m):dm(a,f,m,d)}switch(l){case"input":$d(a,i);break;case"textarea":Jx(a,i);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?da(a,!!i.multiple,y,!1):x!==!!i.multiple&&(i.defaultValue!=null?da(a,!!i.multiple,i.defaultValue,!0):da(a,!!i.multiple,i.multiple?[]:"",!1))}a[Qi]=i}catch(p){Ye(e,e.return,p)}}break;case 6:if(ln(t,e),Sn(e),s&4){if(e.stateNode===null)throw Error(W(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Ye(e,e.return,p)}}break;case 3:if(ln(t,e),Sn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Ui(t.containerInfo)}catch(p){Ye(e,e.return,p)}break;case 4:ln(t,e),Sn(e);break;case 13:ln(t,e),Sn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Vm=et())),s&4&&np(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(bt=(d=bt)||f,ln(t,e),bt=d):ln(t,e),Sn(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(Y=e,f=e.child;f!==null;){for(m=Y=f;Y!==null;){switch(x=Y,y=x.child,x.tag){case 0:case 11:case 14:case 15:Ai(4,x,x.return);break;case 1:ia(x,x.return);var b=x.stateNode;if(typeof b.componentWillUnmount=="function"){s=x,r=x.return;try{t=s,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(p){Ye(s,r,p)}}break;case 5:ia(x,x.return);break;case 22:if(x.memoizedState!==null){sp(m);continue}}y!==null?(y.return=x,Y=y):sp(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=eg("display",o))}catch(p){Ye(e,e.return,p)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(p){Ye(e,e.return,p)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ln(t,e),Sn(e),s&4&&np(e);break;case 21:break;default:ln(t,e),Sn(e)}}function Sn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(k0(r)){var s=r;break e}r=r.return}throw Error(W(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Li(a,""),s.flags&=-33);var i=tp(e);ju(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=tp(e);yu(e,l,o);break;default:throw Error(W(161))}}catch(c){Ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function m2(e,t,r){Y=e,P0(e)}function P0(e,t,r){for(var s=(e.mode&1)!==0;Y!==null;){var a=Y,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||$o;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||bt;l=$o;var d=bt;if($o=o,(bt=c)&&!d)for(Y=a;Y!==null;)o=Y,c=o.child,o.tag===22&&o.memoizedState!==null?ap(a):c!==null?(c.return=o,Y=c):ap(a);for(;i!==null;)Y=i,P0(i),i=i.sibling;Y=a,$o=l,bt=d}rp(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Y=i):rp(e)}}function rp(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bt||oc(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!bt)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:dn(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Uf(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Uf(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Ui(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}bt||t.flags&512&&vu(t)}catch(x){Ye(t,t.return,x)}}if(t===e){Y=null;break}if(r=t.sibling,r!==null){r.return=t.return,Y=r;break}Y=t.return}}function sp(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Y=r;break}Y=t.return}}function ap(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{oc(4,t)}catch(c){Ye(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Ye(t,a,c)}}var i=t.return;try{vu(t)}catch(c){Ye(t,i,c)}break;case 5:var o=t.return;try{vu(t)}catch(c){Ye(t,o,c)}}}catch(c){Ye(t,t.return,c)}if(t===e){Y=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Y=l;break}Y=t.return}}var h2=Math.ceil,Dl=ar.ReactCurrentDispatcher,Um=ar.ReactCurrentOwner,tn=ar.ReactCurrentBatchConfig,Ee=0,ct=null,tt=null,ft=0,Bt=0,oa=ns(0),st=0,Yi=null,Es=0,lc=0,Bm=0,Di=null,Mt=null,Vm=0,qa=1/0,Vn=null,Ml=!1,bu=null,Or=null,zo=!1,Pr=null,Fl=0,Mi=0,wu=null,al=-1,il=0;function Et(){return Ee&6?et():al!==-1?al:al=et()}function Lr(e){return e.mode&1?Ee&2&&ft!==0?ft&-ft:XN.transition!==null?(il===0&&(il=hg()),il):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:jg(e.type)),e):1}function xn(e,t,r,s){if(50<Mi)throw Mi=0,wu=null,Error(W(185));lo(e,r,s),(!(Ee&2)||e!==ct)&&(e===ct&&(!(Ee&2)&&(lc|=r),st===4&&vr(e,ft)),_t(e,s),r===1&&Ee===0&&!(t.mode&1)&&(qa=et()+500,sc&&rs()))}function _t(e,t){var r=e.callbackNode;X1(e,t);var s=vl(e,e===ct?ft:0);if(s===0)r!==null&&ff(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&ff(r),t===1)e.tag===0?GN(ip.bind(null,e)):$g(ip.bind(null,e)),KN(function(){!(Ee&6)&&rs()}),r=null;else{switch(fg(s)){case 1:r=pm;break;case 4:r=ug;break;case 16:r=gl;break;case 536870912:r=mg;break;default:r=gl}r=L0(r,I0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function I0(e,t){if(al=-1,il=0,Ee&6)throw Error(W(327));var r=e.callbackNode;if(pa()&&e.callbackNode!==r)return null;var s=vl(e,e===ct?ft:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ol(e,s);else{t=s;var a=Ee;Ee|=2;var i=A0();(ct!==e||ft!==t)&&(Vn=null,qa=et()+500,bs(e,t));do try{x2();break}catch(l){R0(e,l)}while(!0);Tm(),Dl.current=i,Ee=a,tt!==null?t=0:(ct=null,ft=0,t=st)}if(t!==0){if(t===2&&(a=Gd(e),a!==0&&(s=a,t=Nu(e,a))),t===1)throw r=Yi,bs(e,0),vr(e,s),_t(e,et()),r;if(t===6)vr(e,s);else{if(a=e.current.alternate,!(s&30)&&!f2(a)&&(t=Ol(e,s),t===2&&(i=Gd(e),i!==0&&(s=i,t=Nu(e,i))),t===1))throw r=Yi,bs(e,0),vr(e,s),_t(e,et()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(W(345));case 2:cs(e,Mt,Vn);break;case 3:if(vr(e,s),(s&130023424)===s&&(t=Vm+500-et(),10<t)){if(vl(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Et(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ru(cs.bind(null,e,Mt,Vn),t);break}cs(e,Mt,Vn);break;case 4:if(vr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-pn(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=et()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*h2(s/1960))-s,10<s){e.timeoutHandle=ru(cs.bind(null,e,Mt,Vn),s);break}cs(e,Mt,Vn);break;case 5:cs(e,Mt,Vn);break;default:throw Error(W(329))}}}return _t(e,et()),e.callbackNode===r?I0.bind(null,e):null}function Nu(e,t){var r=Di;return e.current.memoizedState.isDehydrated&&(bs(e,t).flags|=256),e=Ol(e,t),e!==2&&(t=Mt,Mt=r,t!==null&&Su(t)),e}function Su(e){Mt===null?Mt=e:Mt.push.apply(Mt,e)}function f2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!gn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vr(e,t){for(t&=~Bm,t&=~lc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-pn(t),s=1<<r;e[r]=-1,t&=~s}}function ip(e){if(Ee&6)throw Error(W(327));pa();var t=vl(e,0);if(!(t&1))return _t(e,et()),null;var r=Ol(e,t);if(e.tag!==0&&r===2){var s=Gd(e);s!==0&&(t=s,r=Nu(e,s))}if(r===1)throw r=Yi,bs(e,0),vr(e,t),_t(e,et()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cs(e,Mt,Vn),_t(e,et()),null}function qm(e,t){var r=Ee;Ee|=1;try{return e(t)}finally{Ee=r,Ee===0&&(qa=et()+500,sc&&rs())}}function Ts(e){Pr!==null&&Pr.tag===0&&!(Ee&6)&&pa();var t=Ee;Ee|=1;var r=tn.transition,s=Oe;try{if(tn.transition=null,Oe=1,e)return e()}finally{Oe=s,tn.transition=r,Ee=t,!(Ee&6)&&rs()}}function Km(){Bt=oa.current,Be(oa)}function bs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,qN(r)),tt!==null)for(r=tt.return;r!==null;){var s=r;switch(Cm(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Nl();break;case 3:Ba(),Be(Ot),Be(wt),Mm();break;case 5:Dm(s);break;case 4:Ba();break;case 13:Be(Ke);break;case 19:Be(Ke);break;case 10:Pm(s.type._context);break;case 22:case 23:Km()}r=r.return}if(ct=e,tt=e=_r(e.current,null),ft=Bt=t,st=0,Yi=null,Bm=lc=Es=0,Mt=Di=null,ms!==null){for(t=0;t<ms.length;t++)if(r=ms[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}ms=null}return e}function R0(e,t){do{var r=tt;try{if(Tm(),nl.current=Al,Rl){for(var s=Qe.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Rl=!1}if(ks=0,lt=nt=Qe=null,Ri=!1,Gi=0,Um.current=null,r===null||r.return===null){st=1,Yi=t,tt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=ft,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var x=f.alternate;x?(f.updateQueue=x.updateQueue,f.memoizedState=x.memoizedState,f.lanes=x.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Wf(o);if(y!==null){y.flags&=-257,Hf(y,o,l,i,t),y.mode&1&&Qf(i,d,t),t=y,c=d;var b=t.updateQueue;if(b===null){var p=new Set;p.add(c),t.updateQueue=p}else b.add(c);break e}else{if(!(t&1)){Qf(i,d,t),Qm();break e}c=Error(W(426))}}else if(Ve&&l.mode&1){var j=Wf(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Hf(j,o,l,i,t),km(Va(c,l));break e}}i=c=Va(c,l),st!==4&&(st=2),Di===null?Di=[i]:Di.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=f0(i,c,t);zf(i,h);break e;case 1:l=c;var v=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Or===null||!Or.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=p0(i,l,t);zf(i,w);break e}}i=i.return}while(i!==null)}M0(r)}catch(N){t=N,tt===r&&r!==null&&(tt=r=r.return);continue}break}while(!0)}function A0(){var e=Dl.current;return Dl.current=Al,e===null?Al:e}function Qm(){(st===0||st===3||st===2)&&(st=4),ct===null||!(Es&268435455)&&!(lc&268435455)||vr(ct,ft)}function Ol(e,t){var r=Ee;Ee|=2;var s=A0();(ct!==e||ft!==t)&&(Vn=null,bs(e,t));do try{p2();break}catch(a){R0(e,a)}while(!0);if(Tm(),Ee=r,Dl.current=s,tt!==null)throw Error(W(261));return ct=null,ft=0,st}function p2(){for(;tt!==null;)D0(tt)}function x2(){for(;tt!==null&&!U1();)D0(tt)}function D0(e){var t=O0(e.alternate,e,Bt);e.memoizedProps=e.pendingProps,t===null?M0(e):tt=t,Um.current=null}function M0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=c2(r,t),r!==null){r.flags&=32767,tt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,tt=null;return}}else if(r=l2(r,t,Bt),r!==null){tt=r;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);st===0&&(st=5)}function cs(e,t,r){var s=Oe,a=tn.transition;try{tn.transition=null,Oe=1,g2(e,t,r,s)}finally{tn.transition=a,Oe=s}return null}function g2(e,t,r,s){do pa();while(Pr!==null);if(Ee&6)throw Error(W(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(J1(e,i),e===ct&&(tt=ct=null,ft=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zo||(zo=!0,L0(gl,function(){return pa(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=tn.transition,tn.transition=null;var o=Oe;Oe=1;var l=Ee;Ee|=4,Um.current=null,u2(e,r),T0(r,e),LN(tu),yl=!!eu,tu=eu=null,e.current=r,m2(r),B1(),Ee=l,Oe=o,tn.transition=i}else e.current=r;if(zo&&(zo=!1,Pr=e,Fl=a),i=e.pendingLanes,i===0&&(Or=null),K1(r.stateNode),_t(e,et()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Ml)throw Ml=!1,e=bu,bu=null,e;return Fl&1&&e.tag!==0&&pa(),i=e.pendingLanes,i&1?e===wu?Mi++:(Mi=0,wu=e):Mi=0,rs(),null}function pa(){if(Pr!==null){var e=fg(Fl),t=tn.transition,r=Oe;try{if(tn.transition=null,Oe=16>e?16:e,Pr===null)var s=!1;else{if(e=Pr,Pr=null,Fl=0,Ee&6)throw Error(W(331));var a=Ee;for(Ee|=4,Y=e.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Y=d;Y!==null;){var f=Y;switch(f.tag){case 0:case 11:case 15:Ai(8,f,i)}var m=f.child;if(m!==null)m.return=f,Y=m;else for(;Y!==null;){f=Y;var x=f.sibling,y=f.return;if(C0(f),f===d){Y=null;break}if(x!==null){x.return=y,Y=x;break}Y=y}}}var b=i.alternate;if(b!==null){var p=b.child;if(p!==null){b.child=null;do{var j=p.sibling;p.sibling=null,p=j}while(p!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ai(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,Y=h;break e}Y=i.return}}var v=e.current;for(Y=v;Y!==null;){o=Y;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,Y=g;else e:for(o=v;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:oc(9,l)}}catch(N){Ye(l,l.return,N)}if(l===o){Y=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Y=w;break e}Y=l.return}}if(Ee=a,rs(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Zl,e)}catch{}s=!0}return s}finally{Oe=r,tn.transition=t}}return!1}function op(e,t,r){t=Va(r,t),t=f0(e,t,1),e=Fr(e,t,1),t=Et(),e!==null&&(lo(e,1,t),_t(e,t))}function Ye(e,t,r){if(e.tag===3)op(e,e,r);else for(;t!==null;){if(t.tag===3){op(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Or===null||!Or.has(s))){e=Va(r,e),e=p0(t,e,1),t=Fr(t,e,1),e=Et(),t!==null&&(lo(t,1,e),_t(t,e));break}}t=t.return}}function v2(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&r,ct===e&&(ft&r)===r&&(st===4||st===3&&(ft&130023424)===ft&&500>et()-Vm?bs(e,0):Bm|=r),_t(e,t)}function F0(e,t){t===0&&(e.mode&1?(t=Io,Io<<=1,!(Io&130023424)&&(Io=4194304)):t=1);var r=Et();e=Zn(e,t),e!==null&&(lo(e,t,r),_t(e,r))}function y2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),F0(e,r)}function j2(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(W(314))}s!==null&&s.delete(t),F0(e,r)}var O0;O0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ot.current)Ft=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ft=!1,o2(e,t,r);Ft=!!(e.flags&131072)}else Ft=!1,Ve&&t.flags&1048576&&zg(t,kl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;sl(e,t),e=t.pendingProps;var a=$a(t,wt.current);fa(t,r),a=Om(null,t,s,e,a,r);var i=Lm();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(s)?(i=!0,Sl(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Rm(t),a.updater=ic,t.stateNode=a,a._reactInternals=t,du(t,s,e,r),t=hu(null,t,s,!0,i,r)):(t.tag=0,Ve&&i&&Sm(t),Ct(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(sl(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=w2(s),e=dn(s,e),a){case 0:t=mu(null,t,s,e,r);break e;case 1:t=Jf(null,t,s,e,r);break e;case 11:t=Gf(null,t,s,e,r);break e;case 14:t=Xf(null,t,s,dn(s.type,e),r);break e}throw Error(W(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:dn(s,a),mu(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:dn(s,a),Jf(e,t,s,a,r);case 3:e:{if(y0(t),e===null)throw Error(W(387));s=t.pendingProps,i=t.memoizedState,a=i.element,Qg(e,t),Pl(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Va(Error(W(423)),t),t=Yf(e,t,s,r,a);break e}else if(s!==a){a=Va(Error(W(424)),t),t=Yf(e,t,s,r,a);break e}else for(qt=Mr(t.stateNode.containerInfo.firstChild),Kt=t,Ve=!0,hn=null,r=qg(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(za(),s===a){t=er(e,t,r);break e}Ct(e,t,s,r)}t=t.child}return t;case 5:return Wg(t),e===null&&ou(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,nu(s,a)?o=null:i!==null&&nu(s,i)&&(t.flags|=32),v0(e,t),Ct(e,t,o,r),t.child;case 6:return e===null&&ou(t),null;case 13:return j0(e,t,r);case 4:return Am(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ua(t,null,s,r):Ct(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:dn(s,a),Gf(e,t,s,a,r);case 7:return Ct(e,t,t.pendingProps,r),t.child;case 8:return Ct(e,t,t.pendingProps.children,r),t.child;case 12:return Ct(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,$e(El,s._currentValue),s._currentValue=o,i!==null)if(gn(i.value,o)){if(i.children===a.children&&!Ot.current){t=er(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Hn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),lu(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),lu(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ct(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,fa(t,r),a=nn(a),s=s(a),t.flags|=1,Ct(e,t,s,r),t.child;case 14:return s=t.type,a=dn(s,t.pendingProps),a=dn(s.type,a),Xf(e,t,s,a,r);case 15:return x0(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:dn(s,a),sl(e,t),t.tag=1,Lt(s)?(e=!0,Sl(t)):e=!1,fa(t,r),h0(t,s,a),du(t,s,a,r),hu(null,t,s,!0,e,r);case 19:return b0(e,t,r);case 22:return g0(e,t,r)}throw Error(W(156,t.tag))};function L0(e,t){return dg(e,t)}function b2(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,r,s){return new b2(e,t,r,s)}function Wm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w2(e){if(typeof e=="function")return Wm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mm)return 11;if(e===hm)return 14}return 2}function _r(e,t){var r=e.alternate;return r===null?(r=en(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ol(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")Wm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Js:return ws(r.children,a,i,t);case um:o=8,a|=8;break;case Md:return e=en(12,r,t,a|2),e.elementType=Md,e.lanes=i,e;case Fd:return e=en(13,r,t,a),e.elementType=Fd,e.lanes=i,e;case Od:return e=en(19,r,t,a),e.elementType=Od,e.lanes=i,e;case Wx:return cc(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kx:o=10;break e;case Qx:o=9;break e;case mm:o=11;break e;case hm:o=14;break e;case fr:o=16,s=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=en(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function ws(e,t,r,s){return e=en(7,e,s,t),e.lanes=r,e}function cc(e,t,r,s){return e=en(22,e,s,t),e.elementType=Wx,e.lanes=r,e.stateNode={isHidden:!1},e}function hd(e,t,r){return e=en(6,e,null,t),e.lanes=r,e}function fd(e,t,r){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function N2(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hc(0),this.expirationTimes=Hc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hc(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Hm(e,t,r,s,a,i,o,l,c){return e=new N2(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=en(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rm(i),e}function S2(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function _0(e){if(!e)return Br;e=e._reactInternals;e:{if($s(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Lt(r))return _g(e,r,t)}return t}function $0(e,t,r,s,a,i,o,l,c){return e=Hm(r,s,!0,e,a,i,o,l,c),e.context=_0(null),r=e.current,s=Et(),a=Lr(r),i=Hn(s,a),i.callback=t??null,Fr(r,i,a),e.current.lanes=a,lo(e,a,s),_t(e,s),e}function dc(e,t,r,s){var a=t.current,i=Et(),o=Lr(a);return r=_0(r),t.context===null?t.context=r:t.pendingContext=r,t=Hn(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Fr(a,t,o),e!==null&&(xn(e,a,o,i),tl(e,a,o)),o}function Ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Gm(e,t){lp(e,t),(e=e.alternate)&&lp(e,t)}function C2(){return null}var z0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xm(e){this._internalRoot=e}uc.prototype.render=Xm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));dc(e,t,null,null)};uc.prototype.unmount=Xm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ts(function(){dc(null,e,null,null)}),t[Yn]=null}};function uc(e){this._internalRoot=e}uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=gg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<gr.length&&t!==0&&t<gr[r].priority;r++);gr.splice(r,0,e),r===0&&yg(e)}};function Jm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cp(){}function k2(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Ll(o);i.call(d)}}var o=$0(t,s,e,0,null,!1,!1,"",cp);return e._reactRootContainer=o,e[Yn]=o.current,qi(e.nodeType===8?e.parentNode:e),Ts(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Ll(c);l.call(d)}}var c=Hm(e,0,!1,null,null,!1,!1,"",cp);return e._reactRootContainer=c,e[Yn]=c.current,qi(e.nodeType===8?e.parentNode:e),Ts(function(){dc(t,c,r,s)}),c}function hc(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Ll(o);l.call(c)}}dc(t,o,e,a)}else o=k2(r,t,e,a,s);return Ll(o)}pg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=wi(t.pendingLanes);r!==0&&(xm(t,r|1),_t(t,et()),!(Ee&6)&&(qa=et()+500,rs()))}break;case 13:Ts(function(){var s=Zn(e,1);if(s!==null){var a=Et();xn(s,e,1,a)}}),Gm(e,1)}};gm=function(e){if(e.tag===13){var t=Zn(e,134217728);if(t!==null){var r=Et();xn(t,e,134217728,r)}Gm(e,134217728)}};xg=function(e){if(e.tag===13){var t=Lr(e),r=Zn(e,t);if(r!==null){var s=Et();xn(r,e,t,s)}Gm(e,t)}};gg=function(){return Oe};vg=function(e,t){var r=Oe;try{return Oe=e,t()}finally{Oe=r}};Qd=function(e,t,r){switch(t){case"input":if($d(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=rc(s);if(!a)throw Error(W(90));Gx(s),$d(s,a)}}}break;case"textarea":Jx(e,r);break;case"select":t=r.value,t!=null&&da(e,!!r.multiple,t,!1)}};sg=qm;ag=Ts;var E2={usingClientEntryPoint:!1,Events:[uo,ta,rc,ng,rg,qm]},gi={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T2={bundleType:gi.bundleType,version:gi.version,rendererPackageName:gi.rendererPackageName,rendererConfig:gi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lg(e),e===null?null:e.stateNode},findFiberByHostInstance:gi.findFiberByHostInstance||C2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{Zl=Uo.inject(T2),Mn=Uo}catch{}}Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E2;Ht.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jm(t))throw Error(W(200));return S2(e,t,null,r)};Ht.createRoot=function(e,t){if(!Jm(e))throw Error(W(299));var r=!1,s="",a=z0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Hm(e,1,!1,null,null,r,!1,s,a),e[Yn]=t.current,qi(e.nodeType===8?e.parentNode:e),new Xm(t)};Ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=lg(t),e=e===null?null:e.stateNode,e};Ht.flushSync=function(e){return Ts(e)};Ht.hydrate=function(e,t,r){if(!mc(t))throw Error(W(200));return hc(null,e,t,!0,r)};Ht.hydrateRoot=function(e,t,r){if(!Jm(e))throw Error(W(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=z0;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=$0(t,null,e,1,r??null,a,!1,i,o),e[Yn]=t.current,qi(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new uc(t)};Ht.render=function(e,t,r){if(!mc(t))throw Error(W(200));return hc(null,e,t,!1,r)};Ht.unmountComponentAtNode=function(e){if(!mc(e))throw Error(W(40));return e._reactRootContainer?(Ts(function(){hc(null,null,e,!1,function(){e._reactRootContainer=null,e[Yn]=null})}),!0):!1};Ht.unstable_batchedUpdates=qm;Ht.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!mc(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return hc(e,t,r,!1,s)};Ht.version="18.3.1-next-f1338f8080-20240426";function U0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(U0)}catch(e){console.error(e)}}U0(),Ux.exports=Ht;var zs=Ux.exports;const P2=Tx(zs);var B0,dp=zs;B0=dp.createRoot,dp.hydrateRoot;function I2(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,s,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~s?s:~i?i:a.length)),l+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~s?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var V0={exports:{}},q0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=u;function R2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var A2=typeof Object.is=="function"?Object.is:R2,D2=Ka.useState,M2=Ka.useEffect,F2=Ka.useLayoutEffect,O2=Ka.useDebugValue;function L2(e,t){var r=t(),s=D2({inst:{value:r,getSnapshot:t}}),a=s[0].inst,i=s[1];return F2(function(){a.value=r,a.getSnapshot=t,pd(a)&&i({inst:a})},[e,r,t]),M2(function(){return pd(a)&&i({inst:a}),e(function(){pd(a)&&i({inst:a})})},[e]),O2(r),r}function pd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!A2(e,r)}catch{return!0}}function _2(e,t){return t()}var $2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_2:L2;q0.useSyncExternalStore=Ka.useSyncExternalStore!==void 0?Ka.useSyncExternalStore:$2;V0.exports=q0;var z2=V0.exports;const U2=$x.useInsertionEffect,B2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V2=B2?u.useLayoutEffect:u.useEffect,q2=U2||V2,K0=e=>{const t=u.useRef([e,(...r)=>t[0](...r)]).current;return q2(()=>{t[0]=e}),t[1]},K2="popstate",Ym="pushState",Zm="replaceState",Q2="hashchange",up=[K2,Ym,Zm,Q2],W2=e=>{for(const t of up)addEventListener(t,e);return()=>{for(const t of up)removeEventListener(t,e)}},Q0=(e,t)=>z2.useSyncExternalStore(W2,e,t),H2=()=>location.search,G2=({ssrSearch:e=""}={})=>Q0(H2,()=>e),mp=()=>location.pathname,X2=({ssrPath:e}={})=>Q0(mp,e?()=>e:mp),J2=(e,{replace:t=!1,state:r=null}={})=>history[t?Zm:Ym](r,"",e),Y2=(e={})=>[X2(e),J2],hp=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[hp]>"u"){for(const e of[Ym,Zm]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,hp,{value:!0})}const Z2=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",W0=(e="")=>e==="/"?"":e,eS=(e,t)=>e[0]==="~"?e.slice(1):W0(t)+e,tS=(e="",t)=>Z2(fp(W0(e)),fp(t)),fp=e=>{try{return decodeURI(e)}catch{return e}},H0={hook:Y2,searchHook:G2,parser:I2,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},G0=u.createContext(H0),ho=()=>u.useContext(G0),X0={},J0=u.createContext(X0),Y0=()=>u.useContext(J0),fc=e=>{const[t,r]=e.hook(e);return[tS(e.base,t),K0((s,a)=>r(eS(s,e.base),a))]},He=()=>fc(ho()),Z0=(e,t,r,s)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((m,x)=>[m,c[x]])):o.groups;let f={...c};return d&&Object.assign(f,d),f})(),...s?[l]:[]]:[!1,null]},nS=({children:e,...t})=>{var f,m;const r=ho(),s=t.hook?H0:r;let a=s;const[i,o]=((f=t.ssrPath)==null?void 0:f.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((m=t.hook)==null?void 0:m.hrefs);let l=u.useRef({}),c=l.current,d=c;for(let x in s){const y=x==="base"?s[x]+(t[x]||""):t[x]||s[x];c===d&&y!==d[x]&&(l.current=d={...d}),d[x]=y,y!==s[x]&&(a=d)}return u.createElement(G0.Provider,{value:a,children:e})},pp=({children:e,component:t},r)=>t?u.createElement(t,{params:r}):typeof e=="function"?e(r):e,rS=e=>{let t=u.useRef(X0),r=t.current;for(const s in e)e[s]!==r[s]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},Xe=({path:e,nest:t,match:r,...s})=>{const a=ho(),[i]=fc(a),[o,l,c]=r??Z0(a.parser,e,i,t),d=rS({...Y0(),...l});if(!o)return null;const f=c?u.createElement(nS,{base:c},pp(s,d)):pp(s,d);return u.createElement(J0.Provider,{value:d,children:f})},Ln=u.forwardRef((e,t)=>{const r=ho(),[s,a]=fc(r),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:f,replace:m,state:x,...y}=e,b=K0(j=>{j.ctrlKey||j.metaKey||j.altKey||j.shiftKey||j.button!==0||(l==null||l(j),j.defaultPrevented||(j.preventDefault(),a(o,e)))}),p=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&u.isValidElement(d)?u.cloneElement(d,{onClick:b,href:p}):u.createElement("a",{...y,onClick:b,href:p,className:f!=null&&f.call?f(s===o):f,children:d,ref:t})}),ev=e=>Array.isArray(e)?e.flatMap(t=>ev(t&&t.type===u.Fragment?t.props.children:t)):[e],sS=({children:e,location:t})=>{const r=ho(),[s]=fc(r);for(const a of ev(e)){let i=0;if(u.isValidElement(a)&&(i=Z0(r.parser,a.props.path,t||s,a.props.nest))[0])return u.cloneElement(a,{match:i})}return null};var ei=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ps=typeof window>"u"||"Deno"in globalThis;function Jt(){}function aS(e,t){return typeof e=="function"?e(t):e}function Cu(e){return typeof e=="number"&&e>=0&&e!==1/0}function tv(e,t){return Math.max(e+(t||0)-Date.now(),0)}function xa(e,t){return typeof e=="function"?e(t):e}function fn(e,t){return typeof e=="function"?e(t):e}function xp(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==eh(o,t.options))return!1}else if(!Zi(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function gp(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Is(t.options.mutationKey)!==Is(i))return!1}else if(!Zi(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function eh(e,t){return((t==null?void 0:t.queryKeyHashFn)||Is)(e)}function Is(e){return JSON.stringify(e,(t,r)=>ku(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function Zi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Zi(e[r],t[r])):!1}function nv(e,t){if(e===t)return e;const r=vp(e)&&vp(t);if(r||ku(e)&&ku(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&s.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=nv(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function _l(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function vp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ku(e){if(!yp(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!yp(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yp(e){return Object.prototype.toString.call(e)==="[object Object]"}function iS(e){return new Promise(t=>{setTimeout(t,e)})}function Eu(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?nv(e,t):t}function oS(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function lS(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var th=Symbol();function rv(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===th?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var fs,yr,Ca,vx,cS=(vx=class extends ei{constructor(){super();ce(this,fs);ce(this,yr);ce(this,Ca);J(this,Ca,t=>{if(!Ps&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){T(this,yr)||this.setEventListener(T(this,Ca))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,yr))==null||t.call(this),J(this,yr,void 0))}setEventListener(t){var r;J(this,Ca,t),(r=T(this,yr))==null||r.call(this),J(this,yr,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){T(this,fs)!==t&&(J(this,fs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof T(this,fs)=="boolean"?T(this,fs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},fs=new WeakMap,yr=new WeakMap,Ca=new WeakMap,vx),nh=new cS,ka,jr,Ea,yx,dS=(yx=class extends ei{constructor(){super();ce(this,ka,!0);ce(this,jr);ce(this,Ea);J(this,Ea,t=>{if(!Ps&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){T(this,jr)||this.setEventListener(T(this,Ea))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,jr))==null||t.call(this),J(this,jr,void 0))}setEventListener(t){var r;J(this,Ea,t),(r=T(this,jr))==null||r.call(this),J(this,jr,t(this.setOnline.bind(this)))}setOnline(t){T(this,ka)!==t&&(J(this,ka,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return T(this,ka)}},ka=new WeakMap,jr=new WeakMap,Ea=new WeakMap,yx),$l=new dS;function Tu(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function uS(e){return Math.min(1e3*2**e,3e4)}function sv(e){return(e??"online")==="online"?$l.isOnline():!0}var av=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function xd(e){return e instanceof av}function iv(e){let t=!1,r=0,s=!1,a;const i=Tu(),o=p=>{var j;s||(x(new av(p)),(j=e.abort)==null||j.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>nh.isFocused()&&(e.networkMode==="always"||$l.isOnline())&&e.canRun(),f=()=>sv(e.networkMode)&&e.canRun(),m=p=>{var j;s||(s=!0,(j=e.onSuccess)==null||j.call(e,p),a==null||a(),i.resolve(p))},x=p=>{var j;s||(s=!0,(j=e.onError)==null||j.call(e,p),a==null||a(),i.reject(p))},y=()=>new Promise(p=>{var j;a=h=>{(s||d())&&p(h)},(j=e.onPause)==null||j.call(e)}).then(()=>{var p;a=void 0,s||(p=e.onContinue)==null||p.call(e)}),b=()=>{if(s)return;let p;const j=r===0?e.initialPromise:void 0;try{p=j??e.fn()}catch(h){p=Promise.reject(h)}Promise.resolve(p).then(m).catch(h=>{var S;if(s)return;const v=e.retry??(Ps?0:3),g=e.retryDelay??uS,w=typeof g=="function"?g(r,h):g,N=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,h);if(t||!N){x(h);return}r++,(S=e.onFail)==null||S.call(e,r,h),iS(w).then(()=>d()?void 0:y()).then(()=>{t?x(h):b()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?b():y().then(b),i)}}function mS(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var rt=mS(),ps,jx,ov=(jx=class{constructor(){ce(this,ps)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cu(this.gcTime)&&J(this,ps,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ps?1/0:5*60*1e3))}clearGcTimeout(){T(this,ps)&&(clearTimeout(T(this,ps)),J(this,ps,void 0))}},ps=new WeakMap,jx),Ta,Pa,Xt,jt,ro,xs,un,Bn,bx,hS=(bx=class extends ov{constructor(t){super();ce(this,un);ce(this,Ta);ce(this,Pa);ce(this,Xt);ce(this,jt);ce(this,ro);ce(this,xs);J(this,xs,!1),J(this,ro,t.defaultOptions),this.setOptions(t.options),this.observers=[],J(this,Xt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,J(this,Ta,fS(this.options)),this.state=t.state??T(this,Ta),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=T(this,jt))==null?void 0:t.promise}setOptions(t){this.options={...T(this,ro),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,Xt).remove(this)}setData(t,r){const s=Eu(this.state.data,t,this.options);return pe(this,un,Bn).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){pe(this,un,Bn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=T(this,jt))==null?void 0:s.promise;return(a=T(this,jt))==null||a.cancel(t),r?r.then(Jt).catch(Jt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,Ta))}isActive(){return this.observers.some(t=>fn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===th||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!tv(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=T(this,jt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=T(this,jt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),T(this,Xt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(T(this,jt)&&(T(this,xs)?T(this,jt).cancel({revert:!0}):T(this,jt).cancelRetry()),this.scheduleGc()),T(this,Xt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pe(this,un,Bn).call(this,{type:"invalidate"})}fetch(t,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(T(this,jt))return T(this,jt).continueRetry(),T(this,jt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(J(this,xs,!0),s.signal)})},i=()=>{const m=rv(this.options,r),x={queryKey:this.queryKey,meta:this.meta};return a(x),J(this,xs,!1),this.options.persister?this.options.persister(m,x,this):m(x)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),J(this,Pa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&pe(this,un,Bn).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=m=>{var x,y,b,p;xd(m)&&m.silent||pe(this,un,Bn).call(this,{type:"error",error:m}),xd(m)||((y=(x=T(this,Xt).config).onError)==null||y.call(x,m,this),(p=(b=T(this,Xt).config).onSettled)==null||p.call(b,this.state.data,m,this)),this.scheduleGc()};return J(this,jt,iv({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var x,y,b,p;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(j){l(j);return}(y=(x=T(this,Xt).config).onSuccess)==null||y.call(x,m,this),(p=(b=T(this,Xt).config).onSettled)==null||p.call(b,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,x)=>{pe(this,un,Bn).call(this,{type:"failed",failureCount:m,error:x})},onPause:()=>{pe(this,un,Bn).call(this,{type:"pause"})},onContinue:()=>{pe(this,un,Bn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),T(this,jt).start()}},Ta=new WeakMap,Pa=new WeakMap,Xt=new WeakMap,jt=new WeakMap,ro=new WeakMap,xs=new WeakMap,un=new WeakSet,Bn=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...lv(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return xd(a)&&a.revert&&T(this,Pa)?{...T(this,Pa),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),rt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),T(this,Xt).notify({query:this,type:"updated",action:t})})},bx);function lv(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sv(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function fS(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var kn,wx,pS=(wx=class extends ei{constructor(t={}){super();ce(this,kn);this.config=t,J(this,kn,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??eh(a,r);let o=this.get(i);return o||(o=new hS({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){T(this,kn).has(t.queryHash)||(T(this,kn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=T(this,kn).get(t.queryHash);r&&(t.destroy(),r===t&&T(this,kn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return T(this,kn).get(t)}getAll(){return[...T(this,kn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>xp(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>xp(t,s)):r}notify(t){rt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){rt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},kn=new WeakMap,wx),En,Nt,gs,Tn,mr,Nx,xS=(Nx=class extends ov{constructor(t){super();ce(this,Tn);ce(this,En);ce(this,Nt);ce(this,gs);this.mutationId=t.mutationId,J(this,Nt,t.mutationCache),J(this,En,[]),this.state=t.state||cv(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){T(this,En).includes(t)||(T(this,En).push(t),this.clearGcTimeout(),T(this,Nt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){J(this,En,T(this,En).filter(r=>r!==t)),this.scheduleGc(),T(this,Nt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){T(this,En).length||(this.state.status==="pending"?this.scheduleGc():T(this,Nt).remove(this))}continue(){var t;return((t=T(this,gs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,f,m,x,y,b,p,j,h,v,g,w,N,S,E;J(this,gs,iv({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,C)=>{pe(this,Tn,mr).call(this,{type:"failed",failureCount:P,error:C})},onPause:()=>{pe(this,Tn,mr).call(this,{type:"pause"})},onContinue:()=>{pe(this,Tn,mr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,Nt).canRun(this)}));const r=this.state.status==="pending",s=!T(this,gs).canStart();try{if(!r){pe(this,Tn,mr).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=T(this,Nt).config).onMutate)==null?void 0:i.call(a,t,this));const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));C!==this.state.context&&pe(this,Tn,mr).call(this,{type:"pending",context:C,variables:t,isPaused:s})}const P=await T(this,gs).start();return await((d=(c=T(this,Nt).config).onSuccess)==null?void 0:d.call(c,P,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,P,t,this.state.context)),await((y=(x=T(this,Nt).config).onSettled)==null?void 0:y.call(x,P,null,this.state.variables,this.state.context,this)),await((p=(b=this.options).onSettled)==null?void 0:p.call(b,P,null,t,this.state.context)),pe(this,Tn,mr).call(this,{type:"success",data:P}),P}catch(P){try{throw await((h=(j=T(this,Nt).config).onError)==null?void 0:h.call(j,P,t,this.state.context,this)),await((g=(v=this.options).onError)==null?void 0:g.call(v,P,t,this.state.context)),await((N=(w=T(this,Nt).config).onSettled)==null?void 0:N.call(w,void 0,P,this.state.variables,this.state.context,this)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,P,t,this.state.context)),P}finally{pe(this,Tn,mr).call(this,{type:"error",error:P})}}finally{T(this,Nt).runNext(this)}}},En=new WeakMap,Nt=new WeakMap,gs=new WeakMap,Tn=new WeakSet,mr=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rt.batch(()=>{T(this,En).forEach(s=>{s.onMutationUpdate(t)}),T(this,Nt).notify({mutation:this,type:"updated",action:t})})},Nx);function cv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ut,so,Sx,gS=(Sx=class extends ei{constructor(t={}){super();ce(this,Ut);ce(this,so);this.config=t,J(this,Ut,new Map),J(this,so,Date.now())}build(t,r,s){const a=new xS({mutationCache:this,mutationId:++So(this,so)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){const r=Bo(t),s=T(this,Ut).get(r)??[];s.push(t),T(this,Ut).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=Bo(t);if(T(this,Ut).has(r)){const a=(s=T(this,Ut).get(r))==null?void 0:s.filter(i=>i!==t);a&&(a.length===0?T(this,Ut).delete(r):T(this,Ut).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=T(this,Ut).get(Bo(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=T(this,Ut).get(Bo(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){rt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...T(this,Ut).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>gp(r,s))}findAll(t={}){return this.getAll().filter(r=>gp(t,r))}notify(t){rt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return rt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Jt))))}},Ut=new WeakMap,so=new WeakMap,Sx);function Bo(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function jp(e){return{onFetch:(t,r)=>{var f,m,x,y,b;const s=t.options,a=(x=(m=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const j=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},h=rv(t.options,t.fetchOptions),v=async(g,w,N)=>{if(p)return Promise.reject();if(w==null&&g.pages.length)return Promise.resolve(g);const S={queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};j(S);const E=await h(S),{maxPages:P}=t.options,C=N?lS:oS;return{pages:C(g.pages,E,P),pageParams:C(g.pageParams,w,P)}};if(a&&i.length){const g=a==="backward",w=g?vS:bp,N={pages:i,pageParams:o},S=w(s,N);l=await v(N,S,g)}else{const g=e??i.length;do{const w=c===0?o[0]??s.initialPageParam:bp(s,l);if(c>0&&w==null)break;l=await v(l,w),c++}while(c<g)}return l};t.options.persister?t.fetchFn=()=>{var p,j;return(j=(p=t.options).persister)==null?void 0:j.call(p,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function bp(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function vS(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var Je,br,wr,Ia,Ra,Nr,Aa,Da,Cx,yS=(Cx=class{constructor(e={}){ce(this,Je);ce(this,br);ce(this,wr);ce(this,Ia);ce(this,Ra);ce(this,Nr);ce(this,Aa);ce(this,Da);J(this,Je,e.queryCache||new pS),J(this,br,e.mutationCache||new gS),J(this,wr,e.defaultOptions||{}),J(this,Ia,new Map),J(this,Ra,new Map),J(this,Nr,0)}mount(){So(this,Nr)._++,T(this,Nr)===1&&(J(this,Aa,nh.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,Je).onFocus())})),J(this,Da,$l.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,Je).onOnline())})))}unmount(){var e,t;So(this,Nr)._--,T(this,Nr)===0&&((e=T(this,Aa))==null||e.call(this),J(this,Aa,void 0),(t=T(this,Da))==null||t.call(this),J(this,Da,void 0))}isFetching(e){return T(this,Je).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return T(this,br).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=T(this,Je).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=T(this,Je).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(xa(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return T(this,Je).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=T(this,Je).get(s.queryHash),i=a==null?void 0:a.state.data,o=aS(t,i);if(o!==void 0)return T(this,Je).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return rt.batch(()=>T(this,Je).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=T(this,Je).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=T(this,Je);rt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=T(this,Je),s={type:"active",...e};return rt.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=rt.batch(()=>T(this,Je).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(Jt).catch(Jt)}invalidateQueries(e={},t={}){return rt.batch(()=>{if(T(this,Je).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=rt.batch(()=>T(this,Je).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Jt)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Jt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=T(this,Je).build(this,t);return r.isStaleByTime(xa(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Jt).catch(Jt)}fetchInfiniteQuery(e){return e.behavior=jp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Jt).catch(Jt)}ensureInfiniteQueryData(e){return e.behavior=jp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $l.isOnline()?T(this,br).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,Je)}getMutationCache(){return T(this,br)}getDefaultOptions(){return T(this,wr)}setDefaultOptions(e){J(this,wr,e)}setQueryDefaults(e,t){T(this,Ia).set(Is(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...T(this,Ia).values()];let r={};return t.forEach(s=>{Zi(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){T(this,Ra).set(Is(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...T(this,Ra).values()];let r={};return t.forEach(s=>{Zi(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...T(this,wr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=eh(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===th&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...T(this,wr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){T(this,Je).clear(),T(this,br).clear()}},Je=new WeakMap,br=new WeakMap,wr=new WeakMap,Ia=new WeakMap,Ra=new WeakMap,Nr=new WeakMap,Aa=new WeakMap,Da=new WeakMap,Cx),At,Ce,ao,St,vs,Ma,Sr,Pn,io,Fa,Oa,ys,js,Cr,La,Fe,Si,Pu,Iu,Ru,Au,Du,Mu,Fu,dv,kx,jS=(kx=class extends ei{constructor(t,r){super();ce(this,Fe);ce(this,At);ce(this,Ce);ce(this,ao);ce(this,St);ce(this,vs);ce(this,Ma);ce(this,Sr);ce(this,Pn);ce(this,io);ce(this,Fa);ce(this,Oa);ce(this,ys);ce(this,js);ce(this,Cr);ce(this,La,new Set);this.options=r,J(this,At,t),J(this,Pn,null),J(this,Sr,Tu()),this.options.experimental_prefetchInRender||T(this,Sr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,Ce).addObserver(this),wp(T(this,Ce),this.options)?pe(this,Fe,Si).call(this):this.updateResult(),pe(this,Fe,Au).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ou(T(this,Ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ou(T(this,Ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pe(this,Fe,Du).call(this),pe(this,Fe,Mu).call(this),T(this,Ce).removeObserver(this)}setOptions(t,r){const s=this.options,a=T(this,Ce);if(this.options=T(this,At).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fn(this.options.enabled,T(this,Ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pe(this,Fe,Fu).call(this),T(this,Ce).setOptions(this.options),s._defaulted&&!_l(this.options,s)&&T(this,At).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,Ce),observer:this});const i=this.hasListeners();i&&Np(T(this,Ce),a,this.options,s)&&pe(this,Fe,Si).call(this),this.updateResult(r),i&&(T(this,Ce)!==a||fn(this.options.enabled,T(this,Ce))!==fn(s.enabled,T(this,Ce))||xa(this.options.staleTime,T(this,Ce))!==xa(s.staleTime,T(this,Ce)))&&pe(this,Fe,Pu).call(this);const o=pe(this,Fe,Iu).call(this);i&&(T(this,Ce)!==a||fn(this.options.enabled,T(this,Ce))!==fn(s.enabled,T(this,Ce))||o!==T(this,Cr))&&pe(this,Fe,Ru).call(this,o)}getOptimisticResult(t){const r=T(this,At).getQueryCache().build(T(this,At),t),s=this.createResult(r,t);return wS(this,s)&&(J(this,St,s),J(this,Ma,this.options),J(this,vs,T(this,Ce).state)),s}getCurrentResult(){return T(this,St)}trackResult(t,r){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),s}trackProp(t){T(this,La).add(t)}getCurrentQuery(){return T(this,Ce)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=T(this,At).defaultQueryOptions(t),s=T(this,At).getQueryCache().build(T(this,At),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return pe(this,Fe,Si).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,St)))}createResult(t,r){var P;const s=T(this,Ce),a=this.options,i=T(this,St),o=T(this,vs),l=T(this,Ma),d=t!==s?t.state:T(this,ao),{state:f}=t;let m={...f},x=!1,y;if(r._optimisticResults){const C=this.hasListeners(),M=!C&&wp(t,r),q=C&&Np(t,s,r,a);(M||q)&&(m={...m,...lv(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:b,errorUpdatedAt:p,status:j}=m;if(r.select&&m.data!==void 0)if(i&&m.data===(o==null?void 0:o.data)&&r.select===T(this,io))y=T(this,Fa);else try{J(this,io,r.select),y=r.select(m.data),y=Eu(i==null?void 0:i.data,y,r),J(this,Fa,y),J(this,Pn,null)}catch(C){J(this,Pn,C)}else y=m.data;if(r.placeholderData!==void 0&&y===void 0&&j==="pending"){let C;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))C=i.data;else if(C=typeof r.placeholderData=="function"?r.placeholderData((P=T(this,Oa))==null?void 0:P.state.data,T(this,Oa)):r.placeholderData,r.select&&C!==void 0)try{C=r.select(C),J(this,Pn,null)}catch(M){J(this,Pn,M)}C!==void 0&&(j="success",y=Eu(i==null?void 0:i.data,C,r),x=!0)}T(this,Pn)&&(b=T(this,Pn),y=T(this,Fa),p=Date.now(),j="error");const h=m.fetchStatus==="fetching",v=j==="pending",g=j==="error",w=v&&h,N=y!==void 0,E={status:j,fetchStatus:m.fetchStatus,isPending:v,isSuccess:j==="success",isError:g,isInitialLoading:w,isLoading:w,data:y,dataUpdatedAt:m.dataUpdatedAt,error:b,errorUpdatedAt:p,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:h,isRefetching:h&&!v,isLoadingError:g&&!N,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:g&&N,isStale:rh(t,r),refetch:this.refetch,promise:T(this,Sr)};if(this.options.experimental_prefetchInRender){const C=I=>{E.status==="error"?I.reject(E.error):E.data!==void 0&&I.resolve(E.data)},M=()=>{const I=J(this,Sr,E.promise=Tu());C(I)},q=T(this,Sr);switch(q.status){case"pending":t.queryHash===s.queryHash&&C(q);break;case"fulfilled":(E.status==="error"||E.data!==q.value)&&M();break;case"rejected":(E.status!=="error"||E.error!==q.reason)&&M();break}}return E}updateResult(t){const r=T(this,St),s=this.createResult(T(this,Ce),this.options);if(J(this,vs,T(this,Ce).state),J(this,Ma,this.options),T(this,vs).data!==void 0&&J(this,Oa,T(this,Ce)),_l(s,r))return;J(this,St,s);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!T(this,La).size)return!0;const c=new Set(l??T(this,La));return this.options.throwOnError&&c.add("error"),Object.keys(T(this,St)).some(d=>{const f=d;return T(this,St)[f]!==r[f]&&c.has(f)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),pe(this,Fe,dv).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pe(this,Fe,Au).call(this)}},At=new WeakMap,Ce=new WeakMap,ao=new WeakMap,St=new WeakMap,vs=new WeakMap,Ma=new WeakMap,Sr=new WeakMap,Pn=new WeakMap,io=new WeakMap,Fa=new WeakMap,Oa=new WeakMap,ys=new WeakMap,js=new WeakMap,Cr=new WeakMap,La=new WeakMap,Fe=new WeakSet,Si=function(t){pe(this,Fe,Fu).call(this);let r=T(this,Ce).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Jt)),r},Pu=function(){pe(this,Fe,Du).call(this);const t=xa(this.options.staleTime,T(this,Ce));if(Ps||T(this,St).isStale||!Cu(t))return;const s=tv(T(this,St).dataUpdatedAt,t)+1;J(this,ys,setTimeout(()=>{T(this,St).isStale||this.updateResult()},s))},Iu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,Ce)):this.options.refetchInterval)??!1},Ru=function(t){pe(this,Fe,Mu).call(this),J(this,Cr,t),!(Ps||fn(this.options.enabled,T(this,Ce))===!1||!Cu(T(this,Cr))||T(this,Cr)===0)&&J(this,js,setInterval(()=>{(this.options.refetchIntervalInBackground||nh.isFocused())&&pe(this,Fe,Si).call(this)},T(this,Cr)))},Au=function(){pe(this,Fe,Pu).call(this),pe(this,Fe,Ru).call(this,pe(this,Fe,Iu).call(this))},Du=function(){T(this,ys)&&(clearTimeout(T(this,ys)),J(this,ys,void 0))},Mu=function(){T(this,js)&&(clearInterval(T(this,js)),J(this,js,void 0))},Fu=function(){const t=T(this,At).getQueryCache().build(T(this,At),this.options);if(t===T(this,Ce))return;const r=T(this,Ce);J(this,Ce,t),J(this,ao,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},dv=function(t){rt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(T(this,St))}),T(this,At).getQueryCache().notify({query:T(this,Ce),type:"observerResultsUpdated"})})},kx);function bS(e,t){return fn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wp(e,t){return bS(e,t)||e.state.data!==void 0&&Ou(e,t,t.refetchOnMount)}function Ou(e,t,r){if(fn(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&rh(e,t)}return!1}function Np(e,t,r,s){return(e!==t||fn(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&rh(e,r)}function rh(e,t){return fn(t.enabled,e)!==!1&&e.isStaleByTime(xa(t.staleTime,e))}function wS(e,t){return!_l(e.getCurrentResult(),t)}var kr,Er,Dt,Kn,Xn,ll,Lu,Ex,NS=(Ex=class extends ei{constructor(r,s){super();ce(this,Xn);ce(this,kr);ce(this,Er);ce(this,Dt);ce(this,Kn);J(this,kr,r),this.setOptions(s),this.bindMethods(),pe(this,Xn,ll).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=T(this,kr).defaultMutationOptions(r),_l(this.options,s)||T(this,kr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,Dt),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Is(s.mutationKey)!==Is(this.options.mutationKey)?this.reset():((a=T(this,Dt))==null?void 0:a.state.status)==="pending"&&T(this,Dt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=T(this,Dt))==null||r.removeObserver(this)}onMutationUpdate(r){pe(this,Xn,ll).call(this),pe(this,Xn,Lu).call(this,r)}getCurrentResult(){return T(this,Er)}reset(){var r;(r=T(this,Dt))==null||r.removeObserver(this),J(this,Dt,void 0),pe(this,Xn,ll).call(this),pe(this,Xn,Lu).call(this)}mutate(r,s){var a;return J(this,Kn,s),(a=T(this,Dt))==null||a.removeObserver(this),J(this,Dt,T(this,kr).getMutationCache().build(T(this,kr),this.options)),T(this,Dt).addObserver(this),T(this,Dt).execute(r)}},kr=new WeakMap,Er=new WeakMap,Dt=new WeakMap,Kn=new WeakMap,Xn=new WeakSet,ll=function(){var s;const r=((s=T(this,Dt))==null?void 0:s.state)??cv();J(this,Er,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Lu=function(r){rt.batch(()=>{var s,a,i,o,l,c,d,f;if(T(this,Kn)&&this.hasListeners()){const m=T(this,Er).variables,x=T(this,Er).context;(r==null?void 0:r.type)==="success"?((a=(s=T(this,Kn)).onSuccess)==null||a.call(s,r.data,m,x),(o=(i=T(this,Kn)).onSettled)==null||o.call(i,r.data,null,m,x)):(r==null?void 0:r.type)==="error"&&((c=(l=T(this,Kn)).onError)==null||c.call(l,r.error,m,x),(f=(d=T(this,Kn)).onSettled)==null||f.call(d,void 0,r.error,m,x))}this.listeners.forEach(m=>{m(T(this,Er))})})},Ex),uv=u.createContext(void 0),Le=e=>{const t=u.useContext(uv);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},SS=({client:e,children:t})=>(u.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(uv.Provider,{value:e,children:t})),mv=u.createContext(!1),CS=()=>u.useContext(mv);mv.Provider;function kS(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ES=u.createContext(kS()),TS=()=>u.useContext(ES);function hv(e,t){return typeof e=="function"?e(...t):!!e}function _u(){}var PS=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},IS=e=>{u.useEffect(()=>{e.clearReset()},[e])},RS=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&hv(r,[e.error,s]),AS=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},DS=(e,t)=>e.isLoading&&e.isFetching&&!t,MS=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Sp=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function FS(e,t,r){var f,m,x,y,b;const s=Le(),a=CS(),i=TS(),o=s.defaultQueryOptions(e);(m=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=a?"isRestoring":"optimistic",AS(o),PS(o,i),IS(i);const l=!s.getQueryCache().get(o.queryHash),[c]=u.useState(()=>new t(s,o)),d=c.getOptimisticResult(o);if(u.useSyncExternalStore(u.useCallback(p=>{const j=a?_u:c.subscribe(rt.batchCalls(p));return c.updateResult(),j},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),u.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),MS(o,d))throw Sp(o,c,i);if(RS({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw d.error;if((y=(x=s.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||y.call(x,o,d),o.experimental_prefetchInRender&&!Ps&&DS(d,a)){const p=l?Sp(o,c,i):(b=s.getQueryCache().get(o.queryHash))==null?void 0:b.promise;p==null||p.catch(_u).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function xe(e,t){return FS(e,jS)}function Ne(e,t){const r=Le(),[s]=u.useState(()=>new NS(r,e));u.useEffect(()=>{s.setOptions(e)},[s,e]);const a=u.useSyncExternalStore(u.useCallback(o=>s.subscribe(rt.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=u.useCallback((o,l)=>{s.mutate(o,l).catch(_u)},[s]);if(a.error&&hv(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function fv(e){if(!e.ok){const t=await e.text()||e.statusText;try{const r=JSON.parse(t);if(r.error==="Already highest bidder")throw new Error("Already highest bidder");if(r.message)throw new Error(r.message)}catch{}throw new Error(`${e.status}: ${t}`)}}async function In(e,t,r){const s=localStorage.getItem("demo-user")||localStorage.getItem("currentUser"),a=r?{"Content-Type":"application/json"}:{};if(s)try{const o=JSON.parse(s);o.userId&&(a["x-user-id"]=o.userId.toString()),o.email&&(a["x-user-email"]=o.email)}catch(o){console.warn("Ошибка парсинга пользователя из localStorage:",o)}const i=await fetch(t,{method:e,headers:a,body:r?JSON.stringify(r):void 0,credentials:"include"});return await fv(i),i}const OS=({on401:e})=>async({queryKey:t})=>{const r=localStorage.getItem("demo-user")||localStorage.getItem("currentUser"),s={};if(r)try{const i=JSON.parse(r);i.userId&&(s["x-user-id"]=i.userId.toString()),i.email&&(s["x-user-email"]=i.email)}catch(i){console.warn("Ошибка парсинга пользователя из localStorage в getQueryFn:",i)}const a=await fetch(t[0],{headers:s,credentials:"include"});return e==="returnNull"&&a.status===401?null:(await fv(a),await a.json())},ga=new yS({defaultOptions:{queries:{queryFn:OS({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:0,gcTime:6e4,retry:1},mutations:{retry:!1}}}),LS=1,_S=2e3;let gd=0;function $S(){return gd=(gd+1)%Number.MAX_SAFE_INTEGER,gd.toString()}const vd=new Map,Cp=e=>{if(vd.has(e))return;const t=setTimeout(()=>{vd.delete(e),Fi({type:"REMOVE_TOAST",toastId:e})},_S);vd.set(e,t)},pv=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,LS)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Cp(r):e.toasts.forEach(s=>{Cp(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},cl=[];let dl={toasts:[]};function Fi(e){dl=pv(dl,e),cl.forEach(t=>{t(dl)})}function xv({...e}){const t=$S(),r=a=>Fi({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Fi({type:"DISMISS_TOAST",toastId:t});return Fi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function qe(){const[e,t]=u.useState(dl);return u.useEffect(()=>(cl.push(t),()=>{const r=cl.indexOf(t);r>-1&&cl.splice(r,1)}),[e]),{...e,toast:xv,dismiss:r=>Fi({type:"DISMISS_TOAST",toastId:r})}}const yd=Object.freeze(Object.defineProperty({__proto__:null,reducer:pv,toast:xv,useToast:qe},Symbol.toStringTag,{value:"Module"}));function ae(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function kp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gv(...e){return t=>{let r=!1;const s=e.map(a=>{const i=kp(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():kp(e[a],null)}}}}function Re(...e){return u.useCallback(gv(...e),e)}function zS(e,t){const r=u.createContext(t),s=i=>{const{children:o,...l}=i,c=u.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=u.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function zt(e,t=[]){let r=[];function s(i,o){const l=u.createContext(o),c=r.length;r=[...r,o];const d=m=>{var h;const{scope:x,children:y,...b}=m,p=((h=x==null?void 0:x[e])==null?void 0:h[c])||l,j=u.useMemo(()=>b,Object.values(b));return n.jsx(p.Provider,{value:j,children:y})};d.displayName=i+"Provider";function f(m,x){var p;const y=((p=x==null?void 0:x[e])==null?void 0:p[c])||l,b=u.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,f]}const a=()=>{const i=r.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,US(a,...t)]}function US(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Qa(e){const t=VS(e),r=u.forwardRef((s,a)=>{const{children:i,...o}=s,l=u.Children.toArray(i),c=l.find(qS);if(c){const d=c.props.children,f=l.map(m=>m===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...o,ref:a,children:u.isValidElement(d)?u.cloneElement(d,void 0,f):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var BS=Qa("Slot");function VS(e){const t=u.forwardRef((r,s)=>{const{children:a,...i}=r;if(u.isValidElement(a)){const o=QS(a),l=KS(i,a.props);return a.type!==u.Fragment&&(l.ref=s?gv(s,o):o),u.cloneElement(a,l)}return u.Children.count(a)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vv=Symbol("radix.slottable");function yv(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=vv,t}function qS(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vv}function KS(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function QS(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function sh(e){const t=e+"CollectionProvider",[r,s]=zt(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:j,children:h}=p,v=kt.useRef(null),g=kt.useRef(new Map).current;return n.jsx(a,{scope:j,itemMap:g,collectionRef:v,children:h})};o.displayName=t;const l=e+"CollectionSlot",c=Qa(l),d=kt.forwardRef((p,j)=>{const{scope:h,children:v}=p,g=i(l,h),w=Re(j,g.collectionRef);return n.jsx(c,{ref:w,children:v})});d.displayName=l;const f=e+"CollectionItemSlot",m="data-radix-collection-item",x=Qa(f),y=kt.forwardRef((p,j)=>{const{scope:h,children:v,...g}=p,w=kt.useRef(null),N=Re(j,w),S=i(f,h);return kt.useEffect(()=>(S.itemMap.set(w,{ref:w,...g}),()=>void S.itemMap.delete(w))),n.jsx(x,{[m]:"",ref:N,children:v})});y.displayName=f;function b(p){const j=i(e+"CollectionConsumer",p);return kt.useCallback(()=>{const v=j.collectionRef.current;if(!v)return[];const g=Array.from(v.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((S,E)=>g.indexOf(S.ref.current)-g.indexOf(E.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},b,s]}var WS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],de=WS.reduce((e,t)=>{const r=Qa(`Primitive.${t}`),s=u.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function jv(e,t){e&&zs.flushSync(()=>e.dispatchEvent(t))}function Tt(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function HS(e,t=globalThis==null?void 0:globalThis.document){const r=Tt(e);u.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var GS="DismissableLayer",$u="dismissableLayer.update",XS="dismissableLayer.pointerDownOutside",JS="dismissableLayer.focusOutside",Ep,bv=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fo=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=u.useContext(bv),[f,m]=u.useState(null),x=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=u.useState({}),b=Re(t,E=>m(E)),p=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),h=p.indexOf(j),v=f?p.indexOf(f):-1,g=d.layersWithOutsidePointerEventsDisabled.size>0,w=v>=h,N=ZS(E=>{const P=E.target,C=[...d.branches].some(M=>M.contains(P));!w||C||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},x),S=eC(E=>{const P=E.target;[...d.branches].some(M=>M.contains(P))||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},x);return HS(E=>{v===d.layers.size-1&&(s==null||s(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},x),u.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Ep=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Tp(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Ep)}},[f,x,r,d]),u.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Tp())},[f,d]),u.useEffect(()=>{const E=()=>y({});return document.addEventListener($u,E),()=>document.removeEventListener($u,E)},[]),n.jsx(de.div,{...c,ref:b,style:{pointerEvents:g?w?"auto":"none":void 0,...e.style},onFocusCapture:ae(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ae(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ae(e.onPointerDownCapture,N.onPointerDownCapture)})});fo.displayName=GS;var YS="DismissableLayerBranch",wv=u.forwardRef((e,t)=>{const r=u.useContext(bv),s=u.useRef(null),a=Re(t,s);return u.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(de.div,{...e,ref:a})});wv.displayName=YS;function ZS(e,t=globalThis==null?void 0:globalThis.document){const r=Tt(e),s=u.useRef(!1),a=u.useRef(()=>{});return u.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){Nv(XS,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function eC(e,t=globalThis==null?void 0:globalThis.document){const r=Tt(e),s=u.useRef(!1);return u.useEffect(()=>{const a=i=>{i.target&&!s.current&&Nv(JS,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Tp(){const e=new CustomEvent($u);document.dispatchEvent(e)}function Nv(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?jv(a,i):a.dispatchEvent(i)}var tC=fo,nC=wv,at=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},rC="Portal",pc=u.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=u.useState(!1);at(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?P2.createPortal(n.jsx(de.div,{...s,ref:t}),o):null});pc.displayName=rC;function sC(e,t){return u.useReducer((r,s)=>t[r][s]??r,e)}var ir=e=>{const{present:t,children:r}=e,s=aC(t),a=typeof r=="function"?r({present:s.isPresent}):u.Children.only(r),i=Re(s.ref,iC(a));return typeof r=="function"||s.isPresent?u.cloneElement(a,{ref:i}):null};ir.displayName="Presence";function aC(e){const[t,r]=u.useState(),s=u.useRef({}),a=u.useRef(e),i=u.useRef("none"),o=e?"mounted":"unmounted",[l,c]=sC(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=Vo(s.current);i.current=l==="mounted"?d:"none"},[l]),at(()=>{const d=s.current,f=a.current;if(f!==e){const x=i.current,y=Vo(d);e?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&x!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),at(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,m=y=>{const p=Vo(s.current).includes(y.animationName);if(y.target===t&&p&&(c("ANIMATION_END"),!a.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},x=y=>{y.target===t&&(i.current=Vo(s.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function Vo(e){return(e==null?void 0:e.animationName)||"none"}function iC(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function tr({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=oC({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=Tt(r),c=u.useCallback(d=>{if(i){const m=typeof d=="function"?d(e):d;m!==e&&l(m)}else a(d)},[i,e,a,l]);return[o,c]}function oC({defaultProp:e,onChange:t}){const r=u.useState(e),[s]=r,a=u.useRef(s),i=Tt(t);return u.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}var lC="VisuallyHidden",po=u.forwardRef((e,t)=>n.jsx(de.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));po.displayName=lC;var cC=po,ah="ToastProvider",[ih,dC,uC]=sh("Toast"),[Sv,sP]=zt("Toast",[uC]),[mC,xc]=Sv(ah),Cv=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=u.useState(null),[d,f]=u.useState(0),m=u.useRef(!1),x=u.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ah}\`. Expected non-empty \`string\`.`),n.jsx(ih.Provider,{scope:t,children:n.jsx(mC,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>f(y=>y+1),[]),onToastRemove:u.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:x,children:o})})};Cv.displayName=ah;var kv="ToastViewport",hC=["F8"],zu="toast.viewportPause",Uu="toast.viewportResume",Ev=u.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=hC,label:a="Notifications ({hotkey})",...i}=e,o=xc(kv,r),l=dC(r),c=u.useRef(null),d=u.useRef(null),f=u.useRef(null),m=u.useRef(null),x=Re(t,m,o.onViewportChange),y=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;u.useEffect(()=>{const j=h=>{var g;s.length!==0&&s.every(w=>h[w]||h.code===w)&&((g=m.current)==null||g.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[s]),u.useEffect(()=>{const j=c.current,h=m.current;if(b&&j&&h){const v=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(zu);h.dispatchEvent(S),o.isClosePausedRef.current=!0}},g=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Uu);h.dispatchEvent(S),o.isClosePausedRef.current=!1}},w=S=>{!j.contains(S.relatedTarget)&&g()},N=()=>{j.contains(document.activeElement)||g()};return j.addEventListener("focusin",v),j.addEventListener("focusout",w),j.addEventListener("pointermove",v),j.addEventListener("pointerleave",N),window.addEventListener("blur",v),window.addEventListener("focus",g),()=>{j.removeEventListener("focusin",v),j.removeEventListener("focusout",w),j.removeEventListener("pointermove",v),j.removeEventListener("pointerleave",N),window.removeEventListener("blur",v),window.removeEventListener("focus",g)}}},[b,o.isClosePausedRef]);const p=u.useCallback(({tabbingDirection:j})=>{const v=l().map(g=>{const w=g.ref.current,N=[w,...kC(w)];return j==="forwards"?N:N.reverse()});return(j==="forwards"?v.reverse():v).flat()},[l]);return u.useEffect(()=>{const j=m.current;if(j){const h=v=>{var N,S,E;const g=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!g){const P=document.activeElement,C=v.shiftKey;if(v.target===j&&C){(N=d.current)==null||N.focus();return}const I=p({tabbingDirection:C?"backwards":"forwards"}),K=I.findIndex(U=>U===P);jd(I.slice(K+1))?v.preventDefault():C?(S=d.current)==null||S.focus():(E=f.current)==null||E.focus()}};return j.addEventListener("keydown",h),()=>j.removeEventListener("keydown",h)}},[l,p]),n.jsxs(nC,{ref:c,role:"region","aria-label":a.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&n.jsx(Bu,{ref:d,onFocusFromOutsideViewport:()=>{const j=p({tabbingDirection:"forwards"});jd(j)}}),n.jsx(ih.Slot,{scope:r,children:n.jsx(de.ol,{tabIndex:-1,...i,ref:x})}),b&&n.jsx(Bu,{ref:f,onFocusFromOutsideViewport:()=>{const j=p({tabbingDirection:"backwards"});jd(j)}})]})});Ev.displayName=kv;var Tv="ToastFocusProxy",Bu=u.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=xc(Tv,r);return n.jsx(po,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});Bu.displayName=Tv;var gc="Toast",fC="toast.swipeStart",pC="toast.swipeMove",xC="toast.swipeCancel",gC="toast.swipeEnd",Pv=u.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=tr({prop:s,defaultProp:a,onChange:i});return n.jsx(ir,{present:r||l,children:n.jsx(jC,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Tt(e.onPause),onResume:Tt(e.onResume),onSwipeStart:ae(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ae(e.onSwipeMove,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ae(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ae(e.onSwipeEnd,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});Pv.displayName=gc;var[vC,yC]=Sv(gc,{onClose(){}}),jC=u.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:x,onSwipeEnd:y,...b}=e,p=xc(gc,r),[j,h]=u.useState(null),v=Re(t,U=>h(U)),g=u.useRef(null),w=u.useRef(null),N=a||p.duration,S=u.useRef(0),E=u.useRef(N),P=u.useRef(0),{onToastAdd:C,onToastRemove:M}=p,q=Tt(()=>{var k;(j==null?void 0:j.contains(document.activeElement))&&((k=p.viewport)==null||k.focus()),o()}),I=u.useCallback(U=>{!U||U===1/0||(window.clearTimeout(P.current),S.current=new Date().getTime(),P.current=window.setTimeout(q,U))},[q]);u.useEffect(()=>{const U=p.viewport;if(U){const k=()=>{I(E.current),d==null||d()},F=()=>{const V=new Date().getTime()-S.current;E.current=E.current-V,window.clearTimeout(P.current),c==null||c()};return U.addEventListener(zu,F),U.addEventListener(Uu,k),()=>{U.removeEventListener(zu,F),U.removeEventListener(Uu,k)}}},[p.viewport,N,c,d,I]),u.useEffect(()=>{i&&!p.isClosePausedRef.current&&I(N)},[i,N,p.isClosePausedRef,I]),u.useEffect(()=>(C(),()=>M()),[C,M]);const K=u.useMemo(()=>j?Ov(j):null,[j]);return p.viewport?n.jsxs(n.Fragment,{children:[K&&n.jsx(bC,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),n.jsx(vC,{scope:r,onClose:q,children:zs.createPortal(n.jsx(ih.ItemSlot,{scope:r,children:n.jsx(tC,{asChild:!0,onEscapeKeyDown:ae(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||q(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(de.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ae(e.onKeyDown,U=>{U.key==="Escape"&&(l==null||l(U.nativeEvent),U.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,q()))}),onPointerDown:ae(e.onPointerDown,U=>{U.button===0&&(g.current={x:U.clientX,y:U.clientY})}),onPointerMove:ae(e.onPointerMove,U=>{if(!g.current)return;const k=U.clientX-g.current.x,F=U.clientY-g.current.y,V=!!w.current,R=["left","right"].includes(p.swipeDirection),A=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,z=R?A(0,k):0,Q=R?0:A(0,F),H=U.pointerType==="touch"?10:2,oe={x:z,y:Q},be={originalEvent:U,delta:oe};V?(w.current=oe,qo(pC,m,be,{discrete:!1})):Pp(oe,p.swipeDirection,H)?(w.current=oe,qo(fC,f,be,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(k)>H||Math.abs(F)>H)&&(g.current=null)}),onPointerUp:ae(e.onPointerUp,U=>{const k=w.current,F=U.target;if(F.hasPointerCapture(U.pointerId)&&F.releasePointerCapture(U.pointerId),w.current=null,g.current=null,k){const V=U.currentTarget,R={originalEvent:U,delta:k};Pp(k,p.swipeDirection,p.swipeThreshold)?qo(gC,y,R,{discrete:!0}):qo(xC,x,R,{discrete:!0}),V.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),bC=e=>{const{__scopeToast:t,children:r,...s}=e,a=xc(gc,t),[i,o]=u.useState(!1),[l,c]=u.useState(!1);return SC(()=>o(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(pc,{asChild:!0,children:n.jsx(po,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},wC="ToastTitle",Iv=u.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(de.div,{...s,ref:t})});Iv.displayName=wC;var NC="ToastDescription",Rv=u.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(de.div,{...s,ref:t})});Rv.displayName=NC;var Av="ToastAction",Dv=u.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(Fv,{altText:r,asChild:!0,children:n.jsx(oh,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Av}\`. Expected non-empty \`string\`.`),null)});Dv.displayName=Av;var Mv="ToastClose",oh=u.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=yC(Mv,r);return n.jsx(Fv,{asChild:!0,children:n.jsx(de.button,{type:"button",...s,ref:t,onClick:ae(e.onClick,a.onClose)})})});oh.displayName=Mv;var Fv=u.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function Ov(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),CC(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Ov(s))}}),t}function qo(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?jv(a,i):a.dispatchEvent(i)}var Pp=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function SC(e=()=>{}){const t=Tt(e);at(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function CC(e){return e.nodeType===e.ELEMENT_NODE}function kC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function jd(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var EC=Cv,Lv=Ev,_v=Pv,$v=Iv,zv=Rv,Uv=Dv,Bv=oh;function Vv(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Vv(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function qv(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Vv(e))&&(s&&(s+=" "),s+=t);return s}const Ip=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Rp=qv,vc=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return Rp(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const f=r==null?void 0:r[d],m=i==null?void 0:i[d];if(f===null)return null;const x=Ip(f)||Ip(m);return a[d][x]}),l=r&&Object.entries(r).reduce((d,f)=>{let[m,x]=f;return x===void 0||(d[m]=x),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,f)=>{let{class:m,className:x,...y}=f;return Object.entries(y).every(b=>{let[p,j]=b;return Array.isArray(j)?j.includes({...i,...l}[p]):{...i,...l}[p]===j})?[...d,m,x]:d},[]);return Rp(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kv=(...e)=>e.filter((t,r,s)=>!!t&&s.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>u.createElement("svg",{ref:c,...PC,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:Kv("lucide",a),...l},[...o.map(([d,f])=>u.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(e,t)=>{const r=u.forwardRef(({className:s,...a},i)=>u.createElement(IC,{ref:i,iconNode:t,className:Kv(`lucide-${TC(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=se("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=se("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=se("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=se("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=se("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=se("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=se("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=se("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=se("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=se("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=se("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=se("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),hh="-",HC=e=>{const t=XC(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(hh);return l[0]===""&&l.length!==1&&l.shift(),ey(l,t)||GC(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},ey=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?ey(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(hh);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Lp=/^\[(.+)\]$/,GC=e=>{if(Lp.test(e)){const t=Lp.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},XC=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return YC(Object.entries(e.classGroups),r).forEach(([i,o])=>{Vu(o,s,i,t)}),s},Vu=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:_p(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(JC(a)){Vu(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Vu(o,_p(t,i),r,s)})})},_p=(e,t)=>{let r=e;return t.split(hh).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},JC=e=>e.isThemeGetter,YC=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,ZC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},ty="!",ek=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,f=0,m;for(let j=0;j<l.length;j++){let h=l[j];if(d===0){if(h===a&&(s||l.slice(j,j+i)===t)){c.push(l.slice(f,j)),f=j+i;continue}if(h==="/"){m=j;continue}}h==="["?d++:h==="]"&&d--}const x=c.length===0?l:l.substring(f),y=x.startsWith(ty),b=y?x.substring(1):x,p=m&&m>f?m-f:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},tk=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},nk=e=>({cache:ZC(e.cacheSize),parseClassName:ek(e),...HC(e)}),rk=/\s+/,sk=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(rk);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:y}=r(d);let b=!!y,p=s(b?x.substring(0,y):x);if(!p){if(!b){l=d+(l.length>0?" "+l:l);continue}if(p=s(x),!p){l=d+(l.length>0?" "+l:l);continue}b=!1}const j=tk(f).join(":"),h=m?j+ty:j,v=h+p;if(i.includes(v))continue;i.push(v);const g=a(p,b);for(let w=0;w<g.length;++w){const N=g[w];i.push(h+N)}l=d+(l.length>0?" "+l:l)}return l};function ak(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=ny(t))&&(s&&(s+=" "),s+=r);return s}const ny=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=ny(e[s]))&&(r&&(r+=" "),r+=t);return r};function ik(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((f,m)=>m(f),e());return r=nk(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const f=sk(c,r);return a(c,f),f}return function(){return i(ak.apply(null,arguments))}}const ze=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},ry=/^\[(?:([a-z-]+):)?(.+)\]$/i,ok=/^\d+\/\d+$/,lk=new Set(["px","full","screen"]),ck=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Un=e=>ba(e)||lk.has(e)||ok.test(e),dr=e=>ti(e,"length",bk),ba=e=>!!e&&!Number.isNaN(Number(e)),bd=e=>ti(e,"number",ba),vi=e=>!!e&&Number.isInteger(Number(e)),fk=e=>e.endsWith("%")&&ba(e.slice(0,-1)),fe=e=>ry.test(e),ur=e=>ck.test(e),pk=new Set(["length","size","percentage"]),xk=e=>ti(e,pk,sy),gk=e=>ti(e,"position",sy),vk=new Set(["image","url"]),yk=e=>ti(e,vk,Nk),jk=e=>ti(e,"",wk),yi=()=>!0,ti=(e,t,r)=>{const s=ry.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},bk=e=>dk.test(e)&&!uk.test(e),sy=()=>!1,wk=e=>mk.test(e),Nk=e=>hk.test(e),Sk=()=>{const e=ze("colors"),t=ze("spacing"),r=ze("blur"),s=ze("brightness"),a=ze("borderColor"),i=ze("borderRadius"),o=ze("borderSpacing"),l=ze("borderWidth"),c=ze("contrast"),d=ze("grayscale"),f=ze("hueRotate"),m=ze("invert"),x=ze("gap"),y=ze("gradientColorStops"),b=ze("gradientColorStopPositions"),p=ze("inset"),j=ze("margin"),h=ze("opacity"),v=ze("padding"),g=ze("saturate"),w=ze("scale"),N=ze("sepia"),S=ze("skew"),E=ze("space"),P=ze("translate"),C=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",fe,t],I=()=>[fe,t],K=()=>["",Un,dr],U=()=>["auto",ba,fe],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",fe],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[ba,fe];return{cacheSize:500,separator:":",theme:{colors:[yi],spacing:[Un,dr],blur:["none","",ur,fe],brightness:Q(),borderColor:[e],borderRadius:["none","","full",ur,fe],borderSpacing:I(),borderWidth:K(),contrast:Q(),grayscale:A(),hueRotate:Q(),invert:A(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[fk,dr],inset:q(),margin:q(),opacity:Q(),padding:I(),saturate:Q(),scale:Q(),sepia:A(),skew:Q(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[ur]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),fe]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vi,fe]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",vi,fe]}],"grid-cols":[{"grid-cols":[yi]}],"col-start-end":[{col:["auto",{span:["full",vi,fe]},fe]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[yi]}],"row-start-end":[{row:["auto",{span:[vi,fe]},fe]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,t]}],"min-w":[{"min-w":[fe,t,"min","max","fit"]}],"max-w":[{"max-w":[fe,t,"none","full","min","max","fit","prose",{screen:[ur]},ur]}],h:[{h:[fe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ur,dr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bd]}],"font-family":[{font:[yi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",ba,bd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Un,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[h]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[h]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Un,dr]}],"underline-offset":[{"underline-offset":["auto",Un,fe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[h]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),gk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[h]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[h]}],"divide-style":[{divide:F()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Un,fe]}],"outline-w":[{outline:[Un,dr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[h]}],"ring-offset-w":[{"ring-offset":[Un,dr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ur,jk]}],"shadow-color":[{shadow:[yi]}],opacity:[{opacity:[h]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ur,fe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[g]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[h]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[vi,fe]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Un,dr,bd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ck=ik(Sk);function le(...e){return Ck(qv(e))}const kk=EC,ay=u.forwardRef(({className:e,...t},r)=>n.jsx(Lv,{ref:r,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ay.displayName=Lv.displayName;const Ek=vc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iy=u.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(_v,{ref:s,className:le(Ek({variant:t}),e),...r}));iy.displayName=_v.displayName;const Tk=u.forwardRef(({className:e,...t},r)=>n.jsx(Uv,{ref:r,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Tk.displayName=Uv.displayName;const oy=u.forwardRef(({className:e,...t},r)=>n.jsx(Bv,{ref:r,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(_n,{className:"h-4 w-4"})}));oy.displayName=Bv.displayName;const ly=u.forwardRef(({className:e,...t},r)=>n.jsx($v,{ref:r,className:le("text-sm font-semibold",e),...t}));ly.displayName=$v.displayName;const cy=u.forwardRef(({className:e,...t},r)=>n.jsx(zv,{ref:r,className:le("text-sm opacity-90",e),...t}));cy.displayName=zv.displayName;function Pk(){const{toasts:e}=qe();return n.jsxs(kk,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){const o=r==="Поисковый запрос сохранён"||r==="Поисковый запрос удален"||r==="Ошибка",l=r==="Поисковый запрос удален"||r==="Поисковый запрос сохранён"||r==="Ошибка"||r&&r.startsWith("Фотографии готовы");return n.jsxs(iy,{...i,duration:l?1e3:i.duration,onPause:l?void 0:i.onPause,onResume:l?void 0:i.onResume,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(ly,{children:r}),s&&n.jsx(cy,{children:s})]}),a,!o&&n.jsx(oy,{})]},t)}),n.jsx(ay,{})]})}var Ik=$x[" useId ".trim().toString()]||(()=>{}),Rk=0;function $r(e){const[t,r]=u.useState(Ik());return at(()=>{r(s=>s??String(Rk++))},[e]),t?`radix-${t}`:""}const Ak=["top","right","bottom","left"],qr=Math.min,Vt=Math.max,Bl=Math.round,Ko=Math.floor,On=e=>({x:e,y:e}),Dk={left:"right",right:"left",bottom:"top",top:"bottom"},Mk={start:"end",end:"start"};function qu(e,t,r){return Vt(e,qr(t,r))}function nr(e,t){return typeof e=="function"?e(t):e}function rr(e){return e.split("-")[0]}function ni(e){return e.split("-")[1]}function fh(e){return e==="x"?"y":"x"}function ph(e){return e==="y"?"height":"width"}function Kr(e){return["top","bottom"].includes(rr(e))?"y":"x"}function xh(e){return fh(Kr(e))}function Fk(e,t,r){r===void 0&&(r=!1);const s=ni(e),a=xh(e),i=ph(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Vl(o)),[o,Vl(o)]}function Ok(e){const t=Vl(e);return[Ku(e),t,Ku(t)]}function Ku(e){return e.replace(/start|end/g,t=>Mk[t])}function Lk(e,t,r){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function _k(e,t,r,s){const a=ni(e);let i=Lk(rr(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Ku)))),i}function Vl(e){return e.replace(/left|right|bottom|top/g,t=>Dk[t])}function $k(e){return{top:0,right:0,bottom:0,left:0,...e}}function dy(e){return typeof e!="number"?$k(e):{top:e,right:e,bottom:e,left:e}}function ql(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function $p(e,t,r){let{reference:s,floating:a}=e;const i=Kr(t),o=xh(t),l=ph(o),c=rr(t),d=i==="y",f=s.x+s.width/2-a.width/2,m=s.y+s.height/2-a.height/2,x=s[l]/2-a[l]/2;let y;switch(c){case"top":y={x:f,y:s.y-a.height};break;case"bottom":y={x:f,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:m};break;case"left":y={x:s.x-a.width,y:m};break;default:y={x:s.x,y:s.y}}switch(ni(t)){case"start":y[o]-=x*(r&&d?-1:1);break;case"end":y[o]+=x*(r&&d?-1:1);break}return y}const zk=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:m}=$p(d,s,c),x=s,y={},b=0;for(let p=0;p<l.length;p++){const{name:j,fn:h}=l[p],{x:v,y:g,data:w,reset:N}=await h({x:f,y:m,initialPlacement:s,placement:x,strategy:a,middlewareData:y,rects:d,platform:o,elements:{reference:e,floating:t}});f=v??f,m=g??m,y={...y,[j]:{...y[j],...w}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(x=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:f,y:m}=$p(d,x,c)),p=-1)}return{x:f,y:m,placement:x,strategy:a,middlewareData:y}};async function to(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:x=!1,padding:y=0}=nr(t,e),b=dy(y),j=l[x?m==="floating"?"reference":"floating":m],h=ql(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(j)))==null||r?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),v=m==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,g=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(g))?await(i.getScale==null?void 0:i.getScale(g))||{x:1,y:1}:{x:1,y:1},N=ql(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:g,strategy:c}):v);return{top:(h.top-N.top+b.top)/w.y,bottom:(N.bottom-h.bottom+b.bottom)/w.y,left:(h.left-N.left+b.left)/w.x,right:(N.right-h.right+b.right)/w.x}}const Uk=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:f=0}=nr(e,t)||{};if(d==null)return{};const m=dy(f),x={x:r,y:s},y=xh(a),b=ph(y),p=await o.getDimensions(d),j=y==="y",h=j?"top":"left",v=j?"bottom":"right",g=j?"clientHeight":"clientWidth",w=i.reference[b]+i.reference[y]-x[y]-i.floating[b],N=x[y]-i.reference[y],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=S?S[g]:0;(!E||!await(o.isElement==null?void 0:o.isElement(S)))&&(E=l.floating[g]||i.floating[b]);const P=w/2-N/2,C=E/2-p[b]/2-1,M=qr(m[h],C),q=qr(m[v],C),I=M,K=E-p[b]-q,U=E/2-p[b]/2+P,k=qu(I,U,K),F=!c.arrow&&ni(a)!=null&&U!==k&&i.reference[b]/2-(U<I?M:q)-p[b]/2<0,V=F?U<I?U-I:U-K:0;return{[y]:x[y]+V,data:{[y]:k,centerOffset:U-k-V,...F&&{alignmentOffset:V}},reset:F}}}),Bk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:p=!0,...j}=nr(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const h=rr(a),v=Kr(l),g=rr(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=x||(g||!p?[Vl(l)]:Ok(l)),S=b!=="none";!x&&S&&N.push(..._k(l,p,b,w));const E=[l,...N],P=await to(t,j),C=[];let M=((s=i.flip)==null?void 0:s.overflows)||[];if(f&&C.push(P[h]),m){const U=Fk(a,o,w);C.push(P[U[0]],P[U[1]])}if(M=[...M,{placement:a,overflows:C}],!C.every(U=>U<=0)){var q,I;const U=(((q=i.flip)==null?void 0:q.index)||0)+1,k=E[U];if(k)return{data:{index:U,overflows:M},reset:{placement:k}};let F=(I=M.filter(V=>V.overflows[0]<=0).sort((V,R)=>V.overflows[1]-R.overflows[1])[0])==null?void 0:I.placement;if(!F)switch(y){case"bestFit":{var K;const V=(K=M.filter(R=>{if(S){const A=Kr(R.placement);return A===v||A==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(A=>A>0).reduce((A,z)=>A+z,0)]).sort((R,A)=>R[1]-A[1])[0])==null?void 0:K[0];V&&(F=V);break}case"initialPlacement":F=l;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function zp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Up(e){return Ak.some(t=>e[t]>=0)}const Vk=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=nr(e,t);switch(s){case"referenceHidden":{const i=await to(t,{...a,elementContext:"reference"}),o=zp(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Up(o)}}}case"escaped":{const i=await to(t,{...a,altBoundary:!0}),o=zp(i,r.floating);return{data:{escapedOffsets:o,escaped:Up(o)}}}default:return{}}}}};async function qk(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=rr(r),l=ni(r),c=Kr(r)==="y",d=["left","top"].includes(o)?-1:1,f=i&&c?-1:1,m=nr(t,e);let{mainAxis:x,crossAxis:y,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof b=="number"&&(y=l==="end"?b*-1:b),c?{x:y*f,y:x*d}:{x:x*d,y:y*f}}const Kk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await qk(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},Qk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:j=>{let{x:h,y:v}=j;return{x:h,y:v}}},...c}=nr(e,t),d={x:r,y:s},f=await to(t,c),m=Kr(rr(a)),x=fh(m);let y=d[x],b=d[m];if(i){const j=x==="y"?"top":"left",h=x==="y"?"bottom":"right",v=y+f[j],g=y-f[h];y=qu(v,y,g)}if(o){const j=m==="y"?"top":"left",h=m==="y"?"bottom":"right",v=b+f[j],g=b-f[h];b=qu(v,b,g)}const p=l.fn({...t,[x]:y,[m]:b});return{...p,data:{x:p.x-r,y:p.y-s,enabled:{[x]:i,[m]:o}}}}}},Wk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=nr(e,t),f={x:r,y:s},m=Kr(a),x=fh(m);let y=f[x],b=f[m];const p=nr(l,t),j=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const g=x==="y"?"height":"width",w=i.reference[x]-i.floating[g]+j.mainAxis,N=i.reference[x]+i.reference[g]-j.mainAxis;y<w?y=w:y>N&&(y=N)}if(d){var h,v;const g=x==="y"?"width":"height",w=["top","left"].includes(rr(a)),N=i.reference[m]-i.floating[g]+(w&&((h=o.offset)==null?void 0:h[m])||0)+(w?0:j.crossAxis),S=i.reference[m]+i.reference[g]+(w?0:((v=o.offset)==null?void 0:v[m])||0)-(w?j.crossAxis:0);b<N?b=N:b>S&&(b=S)}return{[x]:y,[m]:b}}}},Hk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=nr(e,t),f=await to(t,d),m=rr(a),x=ni(a),y=Kr(a)==="y",{width:b,height:p}=i.floating;let j,h;m==="top"||m==="bottom"?(j=m,h=x===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(h=m,j=x==="end"?"top":"bottom");const v=p-f.top-f.bottom,g=b-f.left-f.right,w=qr(p-f[j],v),N=qr(b-f[h],g),S=!t.middlewareData.shift;let E=w,P=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=g),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(E=v),S&&!x){const M=Vt(f.left,0),q=Vt(f.right,0),I=Vt(f.top,0),K=Vt(f.bottom,0);y?P=b-2*(M!==0||q!==0?M+q:Vt(f.left,f.right)):E=p-2*(I!==0||K!==0?I+K:Vt(f.top,f.bottom))}await c({...t,availableWidth:P,availableHeight:E});const C=await o.getDimensions(l.floating);return b!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function bc(){return typeof window<"u"}function ri(e){return uy(e)?(e.nodeName||"").toLowerCase():"#document"}function Qt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function zn(e){var t;return(t=(uy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uy(e){return bc()?e instanceof Node||e instanceof Qt(e).Node:!1}function yn(e){return bc()?e instanceof Element||e instanceof Qt(e).Element:!1}function $n(e){return bc()?e instanceof HTMLElement||e instanceof Qt(e).HTMLElement:!1}function Bp(e){return!bc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qt(e).ShadowRoot}function go(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=jn(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(a)}function Gk(e){return["table","td","th"].includes(ri(e))}function wc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function gh(e){const t=vh(),r=yn(e)?jn(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function Xk(e){let t=Qr(e);for(;$n(t)&&!Ga(t);){if(gh(t))return t;if(wc(t))return null;t=Qr(t)}return null}function vh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ga(e){return["html","body","#document"].includes(ri(e))}function jn(e){return Qt(e).getComputedStyle(e)}function Nc(e){return yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qr(e){if(ri(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Bp(e)&&e.host||zn(e);return Bp(t)?t.host:t}function my(e){const t=Qr(e);return Ga(t)?e.ownerDocument?e.ownerDocument.body:e.body:$n(t)&&go(t)?t:my(t)}function no(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=my(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Qt(a);if(i){const l=Qu(o);return t.concat(o,o.visualViewport||[],go(a)?a:[],l&&r?no(l):[])}return t.concat(a,no(a,[],r))}function Qu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hy(e){const t=jn(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=$n(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=Bl(r)!==i||Bl(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function yh(e){return yn(e)?e:e.contextElement}function wa(e){const t=yh(e);if(!$n(t))return On(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=hy(t);let o=(i?Bl(r.width):r.width)/s,l=(i?Bl(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Jk=On(0);function fy(e){const t=Qt(e);return!vh()||!t.visualViewport?Jk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Yk(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qt(e)?!1:t}function Rs(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=yh(e);let o=On(1);t&&(s?yn(s)&&(o=wa(s)):o=wa(e));const l=Yk(i,r,s)?fy(i):On(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,f=a.width/o.x,m=a.height/o.y;if(i){const x=Qt(i),y=s&&yn(s)?Qt(s):s;let b=x,p=Qu(b);for(;p&&s&&y!==b;){const j=wa(p),h=p.getBoundingClientRect(),v=jn(p),g=h.left+(p.clientLeft+parseFloat(v.paddingLeft))*j.x,w=h.top+(p.clientTop+parseFloat(v.paddingTop))*j.y;c*=j.x,d*=j.y,f*=j.x,m*=j.y,c+=g,d+=w,b=Qt(p),p=Qu(b)}}return ql({width:f,height:m,x:c,y:d})}function jh(e,t){const r=Nc(e).scrollLeft;return t?t.left+r:Rs(zn(e)).left+r}function py(e,t,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(r?0:jh(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function Zk(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=zn(s),l=t?wc(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=On(1);const f=On(0),m=$n(s);if((m||!m&&!i)&&((ri(s)!=="body"||go(o))&&(c=Nc(s)),$n(s))){const y=Rs(s);d=wa(s),f.x=y.x+s.clientLeft,f.y=y.y+s.clientTop}const x=o&&!m&&!i?py(o,c,!0):On(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x+x.x,y:r.y*d.y-c.scrollTop*d.y+f.y+x.y}}function eE(e){return Array.from(e.getClientRects())}function tE(e){const t=zn(e),r=Nc(e),s=e.ownerDocument.body,a=Vt(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Vt(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+jh(e);const l=-r.scrollTop;return jn(s).direction==="rtl"&&(o+=Vt(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function nE(e,t){const r=Qt(e),s=zn(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=vh();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function rE(e,t){const r=Rs(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=$n(e)?wa(e):On(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function Vp(e,t,r){let s;if(t==="viewport")s=nE(e,r);else if(t==="document")s=tE(zn(e));else if(yn(t))s=rE(t,r);else{const a=fy(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ql(s)}function xy(e,t){const r=Qr(e);return r===t||!yn(r)||Ga(r)?!1:jn(r).position==="fixed"||xy(r,t)}function sE(e,t){const r=t.get(e);if(r)return r;let s=no(e,[],!1).filter(l=>yn(l)&&ri(l)!=="body"),a=null;const i=jn(e).position==="fixed";let o=i?Qr(e):e;for(;yn(o)&&!Ga(o);){const l=jn(o),c=gh(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||go(o)&&!c&&xy(e,o))?s=s.filter(f=>f!==o):a=l,o=Qr(o)}return t.set(e,s),s}function aE(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?wc(t)?[]:sE(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,f)=>{const m=Vp(t,f,a);return d.top=Vt(m.top,d.top),d.right=qr(m.right,d.right),d.bottom=qr(m.bottom,d.bottom),d.left=Vt(m.left,d.left),d},Vp(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function iE(e){const{width:t,height:r}=hy(e);return{width:t,height:r}}function oE(e,t,r){const s=$n(t),a=zn(t),i=r==="fixed",o=Rs(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=On(0);if(s||!s&&!i)if((ri(t)!=="body"||go(a))&&(l=Nc(t)),s){const x=Rs(t,!0,i,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else a&&(c.x=jh(a));const d=a&&!s&&!i?py(a,l):On(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function wd(e){return jn(e).position==="static"}function qp(e,t){if(!$n(e)||jn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return zn(e)===r&&(r=r.ownerDocument.body),r}function gy(e,t){const r=Qt(e);if(wc(e))return r;if(!$n(e)){let a=Qr(e);for(;a&&!Ga(a);){if(yn(a)&&!wd(a))return a;a=Qr(a)}return r}let s=qp(e,t);for(;s&&Gk(s)&&wd(s);)s=qp(s,t);return s&&Ga(s)&&wd(s)&&!gh(s)?r:s||Xk(e)||r}const lE=async function(e){const t=this.getOffsetParent||gy,r=this.getDimensions,s=await r(e.floating);return{reference:oE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function cE(e){return jn(e).direction==="rtl"}const dE={convertOffsetParentRelativeRectToViewportRelativeRect:Zk,getDocumentElement:zn,getClippingRect:aE,getOffsetParent:gy,getElementRects:lE,getClientRects:eE,getDimensions:iE,getScale:wa,isElement:yn,isRTL:cE};function vy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function uE(e,t){let r=null,s;const a=zn(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:f,top:m,width:x,height:y}=d;if(l||t(),!x||!y)return;const b=Ko(m),p=Ko(a.clientWidth-(f+x)),j=Ko(a.clientHeight-(m+y)),h=Ko(f),g={rootMargin:-b+"px "+-p+"px "+-j+"px "+-h+"px",threshold:Vt(0,qr(1,c))||1};let w=!0;function N(S){const E=S[0].intersectionRatio;if(E!==c){if(!w)return o();E?o(!1,E):s=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!vy(d,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(N,{...g,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,g)}r.observe(e)}return o(!0),i}function mE(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=yh(e),f=a||i?[...d?no(d):[],...no(t)]:[];f.forEach(h=>{a&&h.addEventListener("scroll",r,{passive:!0}),i&&h.addEventListener("resize",r)});const m=d&&l?uE(d,r):null;let x=-1,y=null;o&&(y=new ResizeObserver(h=>{let[v]=h;v&&v.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var g;(g=y)==null||g.observe(t)})),r()}),d&&!c&&y.observe(d),y.observe(t));let b,p=c?Rs(e):null;c&&j();function j(){const h=Rs(e);p&&!vy(p,h)&&r(),p=h,b=requestAnimationFrame(j)}return r(),()=>{var h;f.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),m==null||m(),(h=y)==null||h.disconnect(),y=null,c&&cancelAnimationFrame(b)}}const hE=Kk,fE=Qk,pE=Bk,xE=Hk,gE=Vk,Kp=Uk,vE=Wk,yE=(e,t,r)=>{const s=new Map,a={platform:dE,...r},i={...a.platform,_c:s};return zk(e,t,{...a,platform:i})};var ul=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Kl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Kl(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Kl(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function yy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Qp(e,t){const r=yy(e);return Math.round(t*r)/r}function Nd(e){const t=u.useRef(e);return ul(()=>{t.current=e}),t}function jE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[f,m]=u.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,y]=u.useState(s);Kl(x,s)||y(s);const[b,p]=u.useState(null),[j,h]=u.useState(null),v=u.useCallback(R=>{R!==S.current&&(S.current=R,p(R))},[]),g=u.useCallback(R=>{R!==E.current&&(E.current=R,h(R))},[]),w=i||b,N=o||j,S=u.useRef(null),E=u.useRef(null),P=u.useRef(f),C=c!=null,M=Nd(c),q=Nd(a),I=Nd(d),K=u.useCallback(()=>{if(!S.current||!E.current)return;const R={placement:t,strategy:r,middleware:x};q.current&&(R.platform=q.current),yE(S.current,E.current,R).then(A=>{const z={...A,isPositioned:I.current!==!1};U.current&&!Kl(P.current,z)&&(P.current=z,zs.flushSync(()=>{m(z)}))})},[x,t,r,q,I]);ul(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,m(R=>({...R,isPositioned:!1})))},[d]);const U=u.useRef(!1);ul(()=>(U.current=!0,()=>{U.current=!1}),[]),ul(()=>{if(w&&(S.current=w),N&&(E.current=N),w&&N){if(M.current)return M.current(w,N,K);K()}},[w,N,K,M,C]);const k=u.useMemo(()=>({reference:S,floating:E,setReference:v,setFloating:g}),[v,g]),F=u.useMemo(()=>({reference:w,floating:N}),[w,N]),V=u.useMemo(()=>{const R={position:r,left:0,top:0};if(!F.floating)return R;const A=Qp(F.floating,f.x),z=Qp(F.floating,f.y);return l?{...R,transform:"translate("+A+"px, "+z+"px)",...yy(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:z}},[r,l,F.floating,f.x,f.y]);return u.useMemo(()=>({...f,update:K,refs:k,elements:F,floatingStyles:V}),[f,K,k,F,V])}const bE=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?Kp({element:s.current,padding:a}).fn(r):{}:s?Kp({element:s,padding:a}).fn(r):{}}}},wE=(e,t)=>({...hE(e),options:[e,t]}),NE=(e,t)=>({...fE(e),options:[e,t]}),SE=(e,t)=>({...vE(e),options:[e,t]}),CE=(e,t)=>({...pE(e),options:[e,t]}),kE=(e,t)=>({...xE(e),options:[e,t]}),EE=(e,t)=>({...gE(e),options:[e,t]}),TE=(e,t)=>({...bE(e),options:[e,t]});var PE="Arrow",jy=u.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(de.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});jy.displayName=PE;var IE=jy;function Sc(e){const[t,r]=u.useState(void 0);return at(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var bh="Popper",[by,Cc]=zt(bh),[RE,wy]=by(bh),Ny=e=>{const{__scopePopper:t,children:r}=e,[s,a]=u.useState(null);return n.jsx(RE,{scope:t,anchor:s,onAnchorChange:a,children:r})};Ny.displayName=bh;var Sy="PopperAnchor",Cy=u.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=wy(Sy,r),o=u.useRef(null),l=Re(t,o);return u.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(de.div,{...a,ref:l})});Cy.displayName=Sy;var wh="PopperContent",[AE,DE]=by(wh),ky=u.forwardRef((e,t)=>{var ne,ue,O,re,ee,ie;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:y="optimized",onPlaced:b,...p}=e,j=wy(wh,r),[h,v]=u.useState(null),g=Re(t,ke=>v(ke)),[w,N]=u.useState(null),S=Sc(w),E=(S==null?void 0:S.width)??0,P=(S==null?void 0:S.height)??0,C=s+(i!=="center"?"-"+i:""),M=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},q=Array.isArray(d)?d:[d],I=q.length>0,K={padding:M,boundary:q.filter(FE),altBoundary:I},{refs:U,floatingStyles:k,placement:F,isPositioned:V,middlewareData:R}=jE({strategy:"fixed",placement:C,whileElementsMounted:(...ke)=>mE(...ke,{animationFrame:y==="always"}),elements:{reference:j.anchor},middleware:[wE({mainAxis:a+P,alignmentAxis:o}),c&&NE({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?SE():void 0,...K}),c&&CE({...K}),kE({...K,apply:({elements:ke,rects:xt,availableWidth:sn,availableHeight:an})=>{const{width:Ge,height:on}=xt.reference,ot=ke.floating.style;ot.setProperty("--radix-popper-available-width",`${sn}px`),ot.setProperty("--radix-popper-available-height",`${an}px`),ot.setProperty("--radix-popper-anchor-width",`${Ge}px`),ot.setProperty("--radix-popper-anchor-height",`${on}px`)}}),w&&TE({element:w,padding:l}),OE({arrowWidth:E,arrowHeight:P}),x&&EE({strategy:"referenceHidden",...K})]}),[A,z]=Py(F),Q=Tt(b);at(()=>{V&&(Q==null||Q())},[V,Q]);const H=(ne=R.arrow)==null?void 0:ne.x,oe=(ue=R.arrow)==null?void 0:ue.y,be=((O=R.arrow)==null?void 0:O.centerOffset)!==0,[ge,Te]=u.useState();return at(()=>{h&&Te(window.getComputedStyle(h).zIndex)},[h]),n.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:V?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(re=R.transformOrigin)==null?void 0:re.x,(ee=R.transformOrigin)==null?void 0:ee.y].join(" "),...((ie=R.hide)==null?void 0:ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(AE,{scope:r,placedSide:A,onArrowChange:N,arrowX:H,arrowY:oe,shouldHideArrow:be,children:n.jsx(de.div,{"data-side":A,"data-align":z,...p,ref:g,style:{...p.style,animation:V?void 0:"none"}})})})});ky.displayName=wh;var Ey="PopperArrow",ME={top:"bottom",right:"left",bottom:"top",left:"right"},Ty=u.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=DE(Ey,s),o=ME[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(IE,{...a,ref:r,style:{...a.style,display:"block"}})})});Ty.displayName=Ey;function FE(e){return e!==null}var OE=e=>({name:"transformOrigin",options:e,fn(t){var j,h,v;const{placement:r,rects:s,middlewareData:a}=t,o=((j=a.arrow)==null?void 0:j.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,f]=Py(r),m={start:"0%",center:"50%",end:"100%"}[f],x=(((h=a.arrow)==null?void 0:h.x)??0)+l/2,y=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let b="",p="";return d==="bottom"?(b=o?m:`${x}px`,p=`${-c}px`):d==="top"?(b=o?m:`${x}px`,p=`${s.floating.height+c}px`):d==="right"?(b=`${-c}px`,p=o?m:`${y}px`):d==="left"&&(b=`${s.floating.width+c}px`,p=o?m:`${y}px`),{data:{x:b,y:p}}}});function Py(e){const[t,r="center"]=e.split("-");return[t,r]}var LE=Ny,Iy=Cy,Ry=ky,Ay=Ty,[kc,aP]=zt("Tooltip",[Cc]),Nh=Cc(),Dy="TooltipProvider",_E=700,Wp="tooltip.open",[$E,My]=kc(Dy),Fy=e=>{const{__scopeTooltip:t,delayDuration:r=_E,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=u.useRef(!0),l=u.useRef(!1),c=u.useRef(0);return u.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx($E,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:u.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:u.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:u.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};Fy.displayName=Dy;var Oy="Tooltip",[iP,Ec]=kc(Oy),Wu="TooltipTrigger",zE=u.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=Ec(Wu,r),i=My(Wu,r),o=Nh(r),l=u.useRef(null),c=Re(t,l,a.onTriggerChange),d=u.useRef(!1),f=u.useRef(!1),m=u.useCallback(()=>d.current=!1,[]);return u.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),n.jsx(Iy,{asChild:!0,...o,children:n.jsx(de.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:ae(e.onPointerMove,x=>{x.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:ae(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:ae(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ae(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:ae(e.onBlur,a.onClose),onClick:ae(e.onClick,a.onClose)})})});zE.displayName=Wu;var UE="TooltipPortal",[oP,BE]=kc(UE,{forceMount:void 0}),Xa="TooltipContent",Ly=u.forwardRef((e,t)=>{const r=BE(Xa,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=Ec(Xa,e.__scopeTooltip);return n.jsx(ir,{present:s||o.open,children:o.disableHoverableContent?n.jsx(_y,{side:a,...i,ref:t}):n.jsx(VE,{side:a,...i,ref:t})})}),VE=u.forwardRef((e,t)=>{const r=Ec(Xa,e.__scopeTooltip),s=My(Xa,e.__scopeTooltip),a=u.useRef(null),i=Re(t,a),[o,l]=u.useState(null),{trigger:c,onClose:d}=r,f=a.current,{onPointerInTransitChange:m}=s,x=u.useCallback(()=>{l(null),m(!1)},[m]),y=u.useCallback((b,p)=>{const j=b.currentTarget,h={x:b.clientX,y:b.clientY},v=HE(h,j.getBoundingClientRect()),g=GE(h,v),w=XE(p.getBoundingClientRect()),N=YE([...g,...w]);l(N),m(!0)},[m]);return u.useEffect(()=>()=>x(),[x]),u.useEffect(()=>{if(c&&f){const b=j=>y(j,f),p=j=>y(j,c);return c.addEventListener("pointerleave",b),f.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",p)}}},[c,f,y,x]),u.useEffect(()=>{if(o){const b=p=>{const j=p.target,h={x:p.clientX,y:p.clientY},v=(c==null?void 0:c.contains(j))||(f==null?void 0:f.contains(j)),g=!JE(h,o);v?x():g&&(x(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,f,o,d,x]),n.jsx(_y,{...e,ref:i})}),[qE,KE]=kc(Oy,{isInside:!1}),QE=yv("TooltipContent"),_y=u.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Ec(Xa,r),d=Nh(r),{onClose:f}=c;return u.useEffect(()=>(document.addEventListener(Wp,f),()=>document.removeEventListener(Wp,f)),[f]),u.useEffect(()=>{if(c.trigger){const m=x=>{const y=x.target;y!=null&&y.contains(c.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,f]),n.jsx(fo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:n.jsxs(Ry,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(QE,{children:s}),n.jsx(qE,{scope:r,isInside:!0,children:n.jsx(cC,{id:c.contentId,role:"tooltip",children:a||s})})]})})});Ly.displayName=Xa;var $y="TooltipArrow",WE=u.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=Nh(r);return KE($y,r).isInside?null:n.jsx(Ay,{...a,...s,ref:t})});WE.displayName=$y;function HE(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function GE(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function XE(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function JE(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,f=t[o].y;c>s!=f>s&&r<(d-l)*(s-c)/(f-c)+l&&(a=!a)}return a}function YE(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),ZE(t)}function ZE(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var e4=Fy,zy=Ly;const t4=e4,n4=u.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(zy,{ref:s,sideOffset:t,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));n4.displayName=zy.displayName;class r4{constructor(){this.cache=new Map}set(t,r,s=30){this.cache.set(t,{data:r,timestamp:Date.now(),expiry:s*60*1e3});try{localStorage.setItem(`fast_cache_${t}`,JSON.stringify({data:r,timestamp:Date.now(),expiry:s*60*1e3}))}catch{}}get(t){const r=this.cache.get(t);if(r&&Date.now()-r.timestamp<r.expiry)return r.data;try{const s=localStorage.getItem(`fast_cache_${t}`);if(s){const a=JSON.parse(s);if(Date.now()-a.timestamp<a.expiry)return this.cache.set(t,a),a.data;localStorage.removeItem(`fast_cache_${t}`)}}catch{}return null}has(t){return this.get(t)!==null}clear(t){if(t){const r=Array.from(this.cache.keys());for(const s of r)s.includes(t)&&(this.cache.delete(s),localStorage.removeItem(`fast_cache_${s}`))}else{this.cache.clear();for(let r=localStorage.length-1;r>=0;r--){const s=localStorage.key(r);s!=null&&s.startsWith("fast_cache_")&&localStorage.removeItem(s)}}}}const Uy=new r4,Hp=(e,t)=>{Uy.set(`user_${e}`,t,60)},s4=e=>Uy.get(`user_${e}`),a4={"+992 (55) 555-55-55":{phoneNumber:"+992 (55) 555-55-55",isActive:!0,userId:19,fullName:"Тестовый пользователь"},"+992 (88) 888-88-88":{phoneNumber:"+992 (88) 888-88-88",isActive:!0,userId:17,fullName:"Ericson"},"+992 (22) 222-22-22":{phoneNumber:"+992 (22) 222-22-22",isActive:!0,userId:18,fullName:"Sony Vaio0"},"seller@autoauction.tj":{phoneNumber:"seller@autoauction.tj",isActive:!0,userId:2,fullName:"Продавец"}},i4=e=>a4[e]||null,By=u.createContext(void 0);function o4({children:e}){const[t,r]=u.useState(()=>{try{const l=localStorage.getItem("demo-user");if(l){console.log("🔄 Синхронная загрузка пользователя при инициализации");const c=JSON.parse(l);return c.role=c.role||"buyer",c}}catch(l){console.error("❌ Ошибка синхронной загрузки пользователя:",l)}return null}),[s,a]=u.useState(!0);qe(),u.useEffect(()=>{t===null?(console.log("🔍 AuthContext: user стал null"),console.trace("🔍 Трейс сброса пользователя в null")):t===void 0?(console.log("🔍 AuthContext: user стал undefined"),console.trace("🔍 Трейс сброса пользователя в undefined")):console.log("🔍 AuthContext: user обновлен:",{phoneNumber:t==null?void 0:t.phoneNumber,userId:t.userId})},[t]),u.useEffect(()=>{(async()=>{console.log("🔄 Начинается загрузка пользователя из localStorage");const c=localStorage.getItem("demo-user");if(c){console.log("👤 Найден пользователь в localStorage:",c.substring(0,100)+"...");try{const d=JSON.parse(c);d.role=d.role||"buyer";const f=i4(d.phoneNumber);if(f){d.isActive=f.isActive,d.userId=f.userId,d.fullName=f.fullName,r(d),a(!1);return}const m=s4(d.phoneNumber);if(m){d.isActive=m.isActive,d.userId=m.userId,r(d),a(!1);return}const x=d.phoneNumber.replace(/\D/g,"");if(x==="992903331332"){d.isActive=!0,d.userId=4;try{const y=await fetch("/api/users/4");if(y.ok){const b=await y.json();d.fullName=b.fullName,d.username=b.username}}catch(y){console.error("Failed to load user data:",y)}}else if(x==="992111111111"){d.isActive=!0,d.userId=3;try{const y=await fetch("/api/users/3");if(y.ok){const b=await y.json();d.fullName=b.fullName,d.username=b.username}}catch(y){console.error("Failed to load user data:",y)}}else d.isActive=!1,d.userId=null,(async()=>{try{const y=x+"@autoauction.tj";let b=await fetch(`/api/users/by-email/${encodeURIComponent(y)}`),p;if(b.ok)p=await b.json();else{console.log(`Creating new user for phone: ${d.phoneNumber}`);const h=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:y,username:d.phoneNumber,fullName:null,isActive:!1,role:"buyer",phoneNumber:d.phoneNumber})});if(h.ok)p=await h.json(),console.log(`Created new user with ID: ${p.id}`);else{console.error("Failed to create user");return}}const j={...d,isActive:p.isActive,userId:p.id,fullName:p.fullName};r(j),Hp(d.phoneNumber,{isActive:p.isActive,userId:p.id}),localStorage.setItem("demo-user",JSON.stringify(j))}catch(y){console.error("User creation failed:",y)}})();r(d)}catch(d){console.error("❌ Ошибка загрузки пользователя:",d)}}a(!1)})()},[]);const i=async()=>{if(t!=null&&t.userId)try{const l=await fetch(`/api/users/${t.userId}`);if(l.ok){const c=await l.json(),d={...t,isActive:c.isActive,fullName:c.fullName,username:c.username};r(d),t!=null&&t.phoneNumber&&Hp((t==null?void 0:t.phoneNumber)||"",{isActive:c.isActive,userId:c.id}),localStorage.setItem("demo-user",JSON.stringify(d))}}catch(l){console.error("Failed to refresh user status:",l)}},o=async()=>{try{console.log("🚪 Пользователь выходит из системы (вызван logout)"),localStorage.removeItem("demo-user"),r(null)}catch(l){console.error("Logout error:",l)}};return n.jsx(By.Provider,{value:{user:t,loading:s,logout:o,refreshUserStatus:i},children:e})}function it(){const e=u.useContext(By);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const ds=class ds{constructor(){this.ws=null,this.isConnected=!1,this.reconnectTimeout=null,this.messageHandlers=new Set,this.connectionHandlers=new Set,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.currentUserId=null}static getInstance(){return ds.instance||(ds.instance=new ds),ds.instance}connect(t){var r,s;if(this.isConnected&&((r=this.ws)==null?void 0:r.readyState)===WebSocket.OPEN){console.log("🔌 WebSocket уже подключен, переиспользуем соединение"),t&&t!==this.currentUserId&&this.identifyUser(t),this.connectionHandlers.forEach(a=>a());return}if(((s=this.ws)==null?void 0:s.readyState)===WebSocket.CONNECTING){console.log("🔄 WebSocket подключается, ждем...");return}try{const i=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;console.log("🔌 Создание ЕДИНОГО WebSocket соединения:",i),this.ws=new WebSocket(i),this.ws.onopen=()=>{console.log("✅ ЕДИНОЕ WebSocket соединение установлено"),this.isConnected=!0,this.reconnectAttempts=0,t&&this.identifyUser(t),this.connectionHandlers.forEach(o=>o())},this.ws.onmessage=o=>{try{const l=JSON.parse(o.data);console.log("📨 WebSocket сообщение получено:",l.type),this.messageHandlers.forEach(c=>{try{c(l)}catch(d){console.error("Ошибка в обработчике сообщения:",d)}})}catch(l){console.error("Ошибка обработки WebSocket сообщения:",l)}},this.ws.onclose=()=>{console.log("❌ WebSocket соединение закрыто"),this.isConnected=!1,this.ws=null,this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,console.log(`🔄 Переподключение WebSocket (попытка ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.reconnectTimeout=setTimeout(()=>{this.connect(this.currentUserId||void 0)},Math.min(1e3*this.reconnectAttempts,5e3)))},this.ws.onerror=o=>{console.error("❌ WebSocket ошибка:",o),this.isConnected=!1}}catch(a){console.error("❌ Ошибка создания WebSocket:",a)}}identifyUser(t){var r;this.isConnected&&((r=this.ws)==null?void 0:r.readyState)===WebSocket.OPEN&&(this.currentUserId=t,console.log("👤 Идентификация пользователя через ЕДИНОЕ соединение:",t),this.ws.send(JSON.stringify({type:"identify_user",userId:t})))}send(t){var r;this.isConnected&&((r=this.ws)==null?void 0:r.readyState)===WebSocket.OPEN?this.ws.send(JSON.stringify(t)):console.warn("⚠️ WebSocket не подключен, сообщение не отправлено:",t)}addMessageHandler(t){return this.messageHandlers.add(t),()=>{this.messageHandlers.delete(t)}}addConnectionHandler(t){return this.connectionHandlers.add(t),()=>{this.connectionHandlers.delete(t)}}getConnectionStatus(){var t;return{isConnected:this.isConnected,readyState:(t=this.ws)==null?void 0:t.readyState,reconnectAttempts:this.reconnectAttempts}}disconnect(){console.log("🔌 Принудительное отключение WebSocket"),this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.ws&&(this.ws.close(),this.ws=null),this.isConnected=!1,this.currentUserId=null,this.messageHandlers.clear(),this.connectionHandlers.clear()}};ds.instance=null;let Hu=ds;function l4(e={}){const{enableWebSocket:t=!0,enablePolling:r=!1,pollingInterval:s=5e3,retryAttempts:a=3}=e,i=Le(),o=Hu.getInstance(),l=u.useRef(Date.now()),c=u.useRef(null);u.useRef(null);const d=u.useCallback(async b=>{l.current=Date.now();try{if(b)console.log(`🔄 Умное обновление аукциона ${b}`),i.invalidateQueries({queryKey:[`/api/listings/${b}`]}),i.invalidateQueries({queryKey:[`/api/listings/${b}/bids`]});else{console.log("🔄 Умное фоновое обновление данных");const j=await(await fetch("/api/listings")).json(),h=i.getQueryData(["/api/listings"]);JSON.stringify(h)!==JSON.stringify(j)?(console.log("✅ Обнаружены изменения, плавно обновляем"),i.setQueryData(["/api/listings"],j)):(console.log("📋 Данные не изменились, но принудительно обновляем кэш для корректности"),i.setQueryData(["/api/listings"],j))}}catch(p){console.error("⚠️ Ошибка умного обновления:",p),i.invalidateQueries({queryKey:["/api/listings"]})}},[i]),f=u.useCallback(async()=>{console.log("🔄 Мягкое принудительное обновление"),await d()},[d]),m=u.useCallback(b=>{var p,j;if(b.type==="bid_update"){if(console.log("💰 Получено обновление ставки:",b.listingId),(p=b.data)!=null&&p.listing){const h=i.getQueryData(["/api/listings"]);if(Array.isArray(h)){const v=h.map(g=>g.id===b.listingId?{...g,currentBid:b.data.listing.currentBid}:g);console.log("💰 WebSocket обновление: принудительное обновление кэша для аукциона",b.listingId,", новая ставка:",b.data.listing.currentBid,"сомони"),i.setQueryData(["/api/listings"],v)}}d((j=b.listingId)==null?void 0:j.toString())}else if(b.type==="auction_update")console.log("🏁 Получено обновление аукциона"),d(),i.invalidateQueries({queryKey:["/api/listings"]});else if(b.type==="listing_update"){if(console.log("📝 Получено обновление объявления:",b),console.log("📊 Данные для обновления:",b.data),b.data&&b.data.id){i.setQueryData(["/api/listings"],v=>Array.isArray(v)?(console.log("🔄 Обновляем главный список аукционов через WebSocket для ID:",b.data.id),v.map(g=>g.id===b.data.id?(console.log("✅ Найден аукцион для обновления:",{oldCurrentBid:g.currentBid,newCurrentBid:b.data.currentBid,oldBidCount:g.bidCount||0,newBidCount:b.data.bidCount||0}),{...g,currentBid:b.data.currentBid||g.currentBid,bidCount:b.data.bidCount!==void 0?b.data.bidCount:g.bidCount}):g)):v);const h=b.data.id.toString();i.setQueryData(["/api/listings",h],v=>v&&{...v,currentBid:b.data.currentBid||v.currentBid,bidCount:b.data.bidCount!==void 0?b.data.bidCount:v.bidCount})}console.log("🔄 Принудительное обновление через smartUpdateAuctionData"),d()}},[d]),x=u.useCallback(()=>o.getConnectionStatus(),[o]),{data:y}=xe({queryKey:["/api/bid-updates/timestamp"],enabled:r&&!x().isConnected,refetchInterval:s,staleTime:30*1e3,gcTime:2*60*1e3,retry:2,retryDelay:1e3});return u.useEffect(()=>{r&&y&&!x().isConnected&&(console.log("🔄 Fallback polling обновление"),d())},[y,r,d,x]),u.useEffect(()=>{if(t){const p=JSON.parse(localStorage.getItem("user")||"{}").userId;return console.log("🔌 Инициализация ЕДИНОГО WebSocket соединения"),c.current=o.addMessageHandler(m),o.connect(p),()=>{c.current&&(c.current(),c.current=null)}}},[t,m,o]),{isConnected:x().isConnected,reconnectAttempts:x().reconnectAttempts,forceUpdate:f,wsManager:o}}const Vy=u.createContext(void 0);function c4({children:e}){const[t,r]=u.useState(null),{isConnected:s,forceUpdate:a}=l4({enableWebSocket:!0,enablePolling:!1,pollingInterval:5e3}),{data:i=[],isLoading:o,refetch:l}=xe({queryKey:["/api/listings"],staleTime:5*60*1e3,gcTime:15*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!0,refetchInterval:!1,retry:2,retryDelay:1e3}),c=Array.isArray(i)?i.map(f=>{const m=new Date(f.auctionEndTime||Date.now()+864e5),x=m<=new Date;return{id:f.id.toString(),lotNumber:f.lotNumber||"N/A",make:f.make||"Unknown",model:f.model||"Unknown",year:f.year||new Date().getFullYear(),mileage:f.mileage||0,photos:Array.isArray(f.photos)?f.photos:[],currentBid:parseFloat(f.currentBid)||parseFloat(f.startingPrice)||0,startingPrice:f.startingPrice||"0",bidCount:f.bidCount||0,endTime:m,status:f.status==="ended"||x?"ended":"active",customsCleared:f.customsCleared||!1,recycled:f.recycled||!1,technicalInspectionValid:f.technicalInspectionValid||!1,technicalInspectionDate:f.technicalInspectionDate,tinted:f.tinted||!1,tintingDate:f.tintingDate,condition:f.condition||"good",fuelType:f.fuelType,electricRange:f.electricRange,batteryCapacity:f.batteryCapacity}}):[],d=()=>{a(),l()};return n.jsx(Vy.Provider,{value:{auctions:c,loading:o,selectedAuction:t,setSelectedAuction:r,refreshAuctions:d},children:e})}function Sh(){const e=u.useContext(Vy);if(e===void 0)throw new Error("useAuctions must be used within an AuctionProvider");return e}const Wh=class Wh{static setItem(t,r){try{const s={data:r,timestamp:Date.now()};return localStorage.setItem(t,JSON.stringify(s)),!0}catch(s){if(s instanceof DOMException&&s.name==="QuotaExceededError"){console.warn("🧹 localStorage переполнен, очищаем старые данные"),this.clearOldData();try{const a={data:r,timestamp:Date.now()};return localStorage.setItem(t,JSON.stringify(a)),!0}catch(a){return console.error("❌ Не удалось сохранить данные даже после очистки:",a),!1}}else return console.error("❌ Ошибка сохранения в localStorage:",s),!1}}static getItem(t){try{const r=localStorage.getItem(t);if(!r)return null;const s=JSON.parse(r);return s.timestamp&&s.data?Date.now()-s.timestamp>this.maxAge?(localStorage.removeItem(t),null):s.data:s}catch(r){return console.error(`❌ Ошибка чтения ${t} из localStorage:`,r),null}}static clearOldData(){const t=[],r=Date.now();for(let s=0;s<localStorage.length;s++){const a=localStorage.key(s);if(a)try{const i=localStorage.getItem(a);if(!i)continue;const o=JSON.parse(i);o.timestamp?r-o.timestamp>this.maxAge&&t.push(a):(a.startsWith("userData_")||a.includes("tanstack"))&&t.push(a)}catch{t.push(a)}}t.forEach(s=>{try{localStorage.removeItem(s),console.log(`🗑️ Удален устаревший ключ: ${s}`)}catch(a){console.error(`❌ Не удалось удалить ключ ${s}:`,a)}}),console.log(`🧹 Очищено ${t.length} устаревших записей из localStorage`)}static getStorageSize(){let t=0;for(let r in localStorage)localStorage.hasOwnProperty(r)&&(t+=localStorage[r].length+r.length);return`${(t/1024).toFixed(2)} KB`}};Wh.maxAge=7*24*60*60*1e3;let xr=Wh;const qy=u.createContext(void 0);function d4({children:e}){const[t,r]=u.useState({fullName:"",phoneNumber:"",email:"",accountType:"individual",profilePhoto:null,passportFront:null,passportBack:null});u.useEffect(()=>{localStorage.removeItem("userData"),xr.clearOldData(),console.log(`📊 Размер localStorage: ${xr.getStorageSize()}`);const i=xr.getItem("demo-user");let o="";if(i&&(o=i.phoneNumber||"",r(l=>({...l,phoneNumber:o})),i.userId&&s(i.userId)),o){const l=`userData_${o}`,c=xr.getItem(l);r(c?d=>({...d,fullName:c.fullName||"",email:c.email||"",accountType:c.accountType||"individual"}):d=>({...d,fullName:"",email:"",accountType:"individual",profilePhoto:null}))}},[]);const s=async i=>{try{console.log("🔍 Загружаем фото профиля для пользователя:",i);const o=await fetch(`/api/users/${i}`);if(o.ok){const l=await o.json();console.log("📸 Получен ответ с фото:",!!l.profilePhoto),l.profilePhoto&&(r(c=>({...c,profilePhoto:l.profilePhoto})),console.log("✅ Фото профиля загружено из БД"))}}catch(o){console.error("❌ Ошибка загрузки фотографии профиля:",o)}},a=i=>{r(o=>{const l={...o,...i};if(l.phoneNumber){const c=`userData_${l.phoneNumber}`,d={fullName:l.fullName||"",email:l.email||"",accountType:l.accountType||"individual",profilePhoto:l.profilePhoto&&l.profilePhoto.length<1e4?l.profilePhoto:null};xr.setItem(c,d)?console.log(`✅ Данные пользователя сохранены (${xr.getStorageSize()})`):console.warn("⚠️ Не удалось сохранить данные пользователя в localStorage")}return l})};return n.jsx(qy.Provider,{value:{userData:t,updateUserData:a},children:e})}function Ky(){const e=u.useContext(qy);if(e===void 0)throw new Error("useUserData must be used within a UserDataProvider");return e}const u4=u.createContext(void 0);function m4({children:e}){const[t,r]=u.useState([]);u.useEffect(()=>{const o=localStorage.getItem("carAlerts");if(o)try{const l=JSON.parse(o);r(l)}catch(l){console.error("Error loading alerts:",l)}},[]),u.useEffect(()=>{localStorage.setItem("carAlerts",JSON.stringify(t))},[t]);const s=o=>{const l={id:Date.now(),...o,userId:1,createdAt:new Date().toISOString(),isActive:!0};r(c=>[l,...c])},a=o=>{r(l=>l.filter(c=>c.id!==o))},i=o=>{r(l=>l.map(c=>c.id===o?{...c,isActive:!c.isActive}:c))};return n.jsx(u4.Provider,{value:{alerts:t,addAlert:s,removeAlert:a,toggleAlert:i},children:e})}const Qy=u.createContext(void 0);function h4({children:e}){const[t,r]=u.useState(new Set),{user:s}=it(),a=Le(),o=(s==null?void 0:s.userId)||null,{data:l,isLoading:c}=xe({queryKey:[`/api/users/${o}/favorites`],enabled:!!o,staleTime:6e4,queryFn:async()=>{const p=await fetch(`/api/users/${o}/favorites`);if(!p.ok)throw new Error("Failed to fetch favorites");return p.json()}});u.useEffect(()=>{if(l){const p=l.map(j=>j.listingId.toString());r(new Set(p))}},[l]);const d=Ne({mutationFn:async p=>{if(!o)throw new Error("User not authenticated");const j=await fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o,listingId:parseInt(p)})});if(!j.ok)throw new Error("Failed to add favorite");return j.json()},onSuccess:(p,j)=>{r(h=>new Set(h).add(j)),a.invalidateQueries({queryKey:[`/api/users/${o}/favorites`]})}}),f=Ne({mutationFn:async p=>{if(!o)throw new Error("User not authenticated");let j=l==null?void 0:l.find(v=>v.listingId.toString()===p);if(!j)try{const v=await fetch(`/api/users/${o}/favorites`);v.ok&&(j=(await v.json()).find(w=>w.listingId.toString()===p))}catch(v){console.warn("Failed to fetch fresh favorites data:",v)}if(!j){if(!(await fetch(`/api/favorites/by-listing/${p}?userId=${o}`,{method:"DELETE"})).ok)throw new Error("Failed to remove favorite - item may already be removed");return}if(!(await fetch(`/api/favorites/${j.id}`,{method:"DELETE"})).ok)throw new Error("Failed to remove favorite")},onSuccess:(p,j)=>{r(h=>{const v=new Set(h);return v.delete(j),v}),a.invalidateQueries({queryKey:[`/api/users/${o}/favorites`]})}}),m=async p=>{await d.mutateAsync(p)},x=async p=>{await f.mutateAsync(p)},y=p=>t.has(p),b=()=>Array.from(t);return n.jsx(Qy.Provider,{value:{favorites:t,addToFavorites:m,removeFromFavorites:x,isFavorite:y,getFavoritesList:b,isLoading:c},children:e})}function Ch(){const e=u.useContext(Qy);if(e===void 0)throw new Error("useFavorites must be used within a FavoritesProvider");return e}const f4="modulepreload",p4=function(e){return"/"+e},Gp={},Sd=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=p4(c),c in Gp)return;Gp[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":f4,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((x,y)=>{m.addEventListener("load",x),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Tc(){const[e,t]=u.useState(!1),[r,s]=u.useState("disconnected"),[a,i]=u.useState(null),[o,l]=u.useState(0),[c,d]=u.useState(!1),f=u.useRef(null),m=u.useRef(),x=u.useRef(),y=u.useRef(null),{user:b}=it(),p=Le(),h=u.useCallback(()=>b!=null&&b.phoneNumber&&{"+992 (90) 333-13-32":4,"+992 (11) 111-11-11":3,"+992 (22) 222-22-22":18,"+992 (41) 111-11-11":15,"+992 (88) 888-88-88":17,"+992 (88) 747-77-00":19,"+992 (93) 805-88-33":20,"+992 (98) 766-77-39":22,"+992903331332":4,"+992111111111":3,"+992222222222":18,"+992411111111":15,"+992888888888":17,"+992887477700":19,"+992938058833":20,"+992987667739":22}[(b==null?void 0:b.phoneNumber)||""]||null,[b==null?void 0:b.phoneNumber])(),v=u.useCallback(()=>{var S;if(((S=f.current)==null?void 0:S.readyState)===WebSocket.OPEN){console.log("🔌 WebSocket уже подключен, пропускаем"),t(!0);return}f.current&&f.current.close();try{const E=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;console.log("🔌 Создание нового WebSocket соединения:",E),f.current=new WebSocket(E),f.current.onopen=()=>{if(t(!0),s("excellent"),console.log("🔌 WebSocket подключен для real-time аукционов"),x.current&&clearInterval(x.current),x.current=setInterval(()=>{var P;((P=f.current)==null?void 0:P.readyState)===WebSocket.OPEN&&f.current.send(JSON.stringify({type:"ping"}))},6e4),h&&f.current){const P={type:"identify_user",userId:h};console.log("👤 Идентификация пользователя для уведомлений:",P),f.current.send(JSON.stringify(P))}else console.log("👤 Пользователь не определен при WebSocket подключении");if(y.current&&f.current){const P={type:"join_auction",listingId:y.current,userId:h||null};console.log("🔄 Переподключение к аукциону:",P),f.current.send(JSON.stringify(P))}},f.current.onmessage=P=>{try{const C=JSON.parse(P.data);console.log("📩 Получено WebSocket сообщение:",C),g(C)}catch(C){console.error("Ошибка парсинга WebSocket сообщения:",C)}},f.current.onclose=()=>{t(!1),s("disconnected"),m.current=setTimeout(()=>{v()},1e4)},f.current.onerror=P=>{console.error("WebSocket ошибка:",P),s("poor")}}catch(E){console.error("Ошибка создания WebSocket соединения:",E),s("disconnected")}},[b]);u.useEffect(()=>{var S;if(h&&((S=f.current)==null?void 0:S.readyState)===WebSocket.OPEN){console.log("🔄 Пользователь загружен, отправляем идентификацию:",h);const E={type:"identify_user",userId:h};f.current.send(JSON.stringify(E))}},[h]);const g=S=>{var E,P,C,M,q,I,K,U;switch(S.type!=="pong"&&console.log("📩 WebSocket сообщение:",S.type,S.listingId||""),S.type){case"connected":console.log("✅ WebSocket соединение установлено"),t(!0),s("excellent");break;case"user_identified":console.log("👤 Пользователь успешно идентифицирован для WebSocket уведомлений:",S.userId);break;case"joined_auction":l(((E=S.data)==null?void 0:E.participantCount)||0);break;case"bid_update":if(console.log("💰 WebSocket обновление: принудительное обновление кэша для аукциона",S.listingId,", новая ставка:",(C=(P=S.data)==null?void 0:P.bid)==null?void 0:C.amount,"сомони"),i({...S,receivedAt:Date.now()}),S.listingId&&((M=S.data)!=null&&M.bid)){const k=S.data.bid,F=parseFloat(k.amount);p.setQueryData(["/api/listings"],V=>Array.isArray(V)?V.map(R=>R.id===S.listingId?{...R,currentBid:F.toString(),bidCount:(R.bidCount||0)+1}:R):V),p.setQueryData([`/api/listings/${S.listingId}`],V=>V&&{...V,currentBid:F.toString(),bidCount:(V.bidCount||0)+1}),p.invalidateQueries({queryKey:[`/api/listings/${S.listingId}`]}),p.setQueryData([`/api/listings/${S.listingId}/bids`],V=>Array.isArray(V)&&!V.find(A=>A.id===k.id)?[k,...V]:V)}break;case"notification":if(S.data&&h){const k=S.data,F=k.userId||k.user_id;console.log("📞 Получено WebSocket уведомление, для пользователя:",F,", текущий пользователь:",h),F===h?(console.log("🔔 Уведомление для текущего пользователя, показываем:",k),h&&typeof h=="number"&&p.invalidateQueries({queryKey:[`/api/notifications/${h}`]}),Notification.permission==="granted"&&new Notification(k.title,{body:k.message,icon:"/favicon.ico"})):console.log("❌ Уведомление НЕ для текущего пользователя, игнорируем")}break;case"bid_outbid":console.log("🏆 Получено уведомление о перебитой ставке:",S),Sd(async()=>{const{toast:k}=await Promise.resolve().then(()=>yd);return{toast:k}},void 0).then(({toast:k})=>{k({title:"Ваша ставка перебита!",description:S.message,variant:"destructive",duration:3e3})}),h&&typeof h=="number"&&(console.log("🔔 Принудительно обновляем кэш уведомлений для колокольчика после WebSocket bid_outbid"),p.removeQueries({queryKey:[`/api/notifications/${h}`]}),p.invalidateQueries({queryKey:[`/api/notifications/${h}`]}),p.refetchQueries({queryKey:[`/api/notifications/${h}`]}),setTimeout(()=>{p.refetchQueries({queryKey:[`/api/notifications/${h}`]})},50)),Notification.permission==="granted"&&new Notification("Ваша ставка перебита!",{body:S.message,icon:"/favicon.ico"});break;case"bid_processed":console.log("✅ Подтверждение обработки ставки:",S),S.success?console.log("🎉 Ставка успешно обработана:",S.message):console.error("❌ Ошибка обработки ставки:",S.message);break;case"new_message":console.log("💬 Получено уведомление о новом сообщении:",S),h&&typeof h=="number"&&(console.log("🔄 REAL-TIME: Обновляем кэш сообщений для пользователя",h),p.invalidateQueries({queryKey:["/api/conversations",h]}),(q=S.data)!=null&&q.conversationId&&(console.log("🔄 REAL-TIME: Обновляем сообщения переписки",S.data.conversationId),p.invalidateQueries({queryKey:["/api/conversations",S.data.conversationId,"messages"]})),p.invalidateQueries({queryKey:[`/api/messages/unread-count/${h}`]}),console.log("🔄 REAL-TIME: Отправляем сигнал странице сообщений для принудительного обновления"),localStorage.setItem("force-refresh-messages",Date.now().toString()),Sd(async()=>{const{toast:k}=await Promise.resolve().then(()=>yd);return{toast:k}},void 0).then(({toast:k})=>{var F;k({title:"💬 Новое сообщение",description:`От ${((F=S.data)==null?void 0:F.senderName)||"пользователя"}`,duration:3e3})}));break;case"new_message_notification":console.log("💬 Получено уведомление о новом сообщении:",S),h&&typeof h=="number"&&(console.log("🔄 REAL-TIME: МГНОВЕННО перезагружаем все данные для пользователя",h),p.refetchQueries({queryKey:["/api/conversations",h]}),(I=S.messageData)!=null&&I.conversationId&&(console.log("🔄 REAL-TIME: ПРИНУДИТЕЛЬНО перезагружаем сообщения переписки",S.messageData.conversationId),p.refetchQueries({queryKey:[`/api/conversations/${S.messageData.conversationId}/messages`]})),p.refetchQueries({queryKey:[`/api/messages/unread-count/${h}`]}),console.log("🔄 REAL-TIME: Отправляем сигнал странице сообщений для принудительного обновления"),localStorage.setItem("force-refresh-messages",Date.now().toString()),Sd(async()=>{const{toast:k}=await Promise.resolve().then(()=>yd);return{toast:k}},void 0).then(({toast:k})=>{k({title:"💬 Новое сообщение",duration:3e3})}));break;case"hot_auction_mode":d(((K=S.data)==null?void 0:K.isHot)||!1),console.log(`🔥 Режим горячего аукциона: ${(U=S.data)!=null&&U.isHot?"ВКЛЮЧЕН":"отключен"}`);break;case"auction_ended":console.log(`🏁 Аукцион ${S.listingId} завершен`),d(!1);break;case"pong":break;default:console.log("Неизвестное WebSocket сообщение:",S)}},w=u.useCallback(S=>{var E,P;if(y.current=S,console.log(`🎯 Попытка подключения к аукциону ${S}, пользователь:`,h||"загружается"),console.log("📊 Состояние WebSocket:",(E=f.current)==null?void 0:E.readyState,"isConnected:",e),((P=f.current)==null?void 0:P.readyState)===WebSocket.OPEN){const C={type:"join_auction",listingId:S,userId:h||null};console.log("📤 Отправляем сообщение join_auction:",C),f.current.send(JSON.stringify(C))}else{console.log("⚠️ WebSocket не подключен, подключаемся и будем ждать..."),v();const C=setInterval(()=>{var M;if(((M=f.current)==null?void 0:M.readyState)===WebSocket.OPEN){clearInterval(C);const q={type:"join_auction",listingId:S,userId:h||null};console.log("📤 Отправляем сообщение join_auction после подключения:",q),f.current.send(JSON.stringify(q))}},100);setTimeout(()=>clearInterval(C),5e3)}},[b,v,e]),N=u.useCallback(()=>{var S;y.current=null,l(0),d(!1),((S=f.current)==null?void 0:S.readyState)===WebSocket.OPEN&&f.current.send(JSON.stringify({type:"leave_auction"}))},[]);return u.useEffect(()=>(v(),()=>{m.current&&clearTimeout(m.current),x.current&&clearInterval(x.current),f.current&&f.current.close()}),[v]),u.useEffect(()=>{s(e?"excellent":"disconnected")},[e]),{isConnected:e,connectionQuality:r,joinAuction:w,leaveAuction:N,lastBidUpdate:a,participantCount:o,isHotAuction:c}}const G=u.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));G.displayName="Input";const kh=vc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),L=u.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?BS:"button";return n.jsx(o,{className:le(kh({variant:t,size:r,className:e})),ref:i,...a})});L.displayName="Button";const Z=u.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Z.displayName="Card";const ye=u.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:le("flex flex-col space-y-1.5 p-6",e),...t}));ye.displayName="CardHeader";const je=u.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:le("text-2xl font-semibold leading-none tracking-tight",e),...t}));je.displayName="CardTitle";const bn=u.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:le("text-sm text-muted-foreground",e),...t}));bn.displayName="CardDescription";const te=u.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:le("p-6 pt-0",e),...t}));te.displayName="CardContent";const x4=u.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:le("flex items-center p-6 pt-0",e),...t}));x4.displayName="CardFooter";function Xp(e,[t,r]){return Math.min(r,Math.max(t,e))}var g4=u.createContext(void 0);function Pc(e){const t=u.useContext(g4);return e||t||"ltr"}var Cd=0;function Wy(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jp()),document.body.insertAdjacentElement("beforeend",e[1]??Jp()),Cd++,()=>{Cd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Cd--}},[])}function Jp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var kd="focusScope.autoFocusOnMount",Ed="focusScope.autoFocusOnUnmount",Yp={bubbles:!1,cancelable:!0},v4="FocusScope",Eh=u.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=u.useState(null),d=Tt(a),f=Tt(i),m=u.useRef(null),x=Re(t,p=>c(p)),y=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(s){let p=function(g){if(y.paused||!l)return;const w=g.target;l.contains(w)?m.current=w:hr(m.current,{select:!0})},j=function(g){if(y.paused||!l)return;const w=g.relatedTarget;w!==null&&(l.contains(w)||hr(m.current,{select:!0}))},h=function(g){if(document.activeElement===document.body)for(const N of g)N.removedNodes.length>0&&hr(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",j);const v=new MutationObserver(h);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",j),v.disconnect()}}},[s,l,y.paused]),u.useEffect(()=>{if(l){ex.add(y);const p=document.activeElement;if(!l.contains(p)){const h=new CustomEvent(kd,Yp);l.addEventListener(kd,d),l.dispatchEvent(h),h.defaultPrevented||(y4(S4(Hy(l)),{select:!0}),document.activeElement===p&&hr(l))}return()=>{l.removeEventListener(kd,d),setTimeout(()=>{const h=new CustomEvent(Ed,Yp);l.addEventListener(Ed,f),l.dispatchEvent(h),h.defaultPrevented||hr(p??document.body,{select:!0}),l.removeEventListener(Ed,f),ex.remove(y)},0)}}},[l,d,f,y]);const b=u.useCallback(p=>{if(!r&&!s||y.paused)return;const j=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,h=document.activeElement;if(j&&h){const v=p.currentTarget,[g,w]=j4(v);g&&w?!p.shiftKey&&h===w?(p.preventDefault(),r&&hr(g,{select:!0})):p.shiftKey&&h===g&&(p.preventDefault(),r&&hr(w,{select:!0})):h===v&&p.preventDefault()}},[r,s,y.paused]);return n.jsx(de.div,{tabIndex:-1,...o,ref:x,onKeyDown:b})});Eh.displayName=v4;function y4(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(hr(s,{select:t}),document.activeElement!==r)return}function j4(e){const t=Hy(e),r=Zp(t,e),s=Zp(t.reverse(),e);return[r,s]}function Hy(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Zp(e,t){for(const r of e)if(!b4(r,{upTo:t}))return r}function b4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function w4(e){return e instanceof HTMLInputElement&&"select"in e}function hr(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&w4(e)&&t&&e.select()}}var ex=N4();function N4(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=tx(e,t),e.unshift(t)},remove(t){var r;e=tx(e,t),(r=e[0])==null||r.resume()}}}function tx(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function S4(e){return e.filter(t=>t.tagName!=="A")}function Ic(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var C4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ws=new WeakMap,Qo=new WeakMap,Wo={},Td=0,Gy=function(e){return e&&(e.host||Gy(e.parentNode))},k4=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=Gy(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},E4=function(e,t,r,s){var a=k4(t,Array.isArray(e)?e:[e]);Wo[r]||(Wo[r]=new WeakMap);var i=Wo[r],o=[],l=new Set,c=new Set(a),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};a.forEach(d);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(x){if(l.has(x))f(x);else try{var y=x.getAttribute(s),b=y!==null&&y!=="false",p=(Ws.get(x)||0)+1,j=(i.get(x)||0)+1;Ws.set(x,p),i.set(x,j),o.push(x),p===1&&b&&Qo.set(x,!0),j===1&&x.setAttribute(r,"true"),b||x.setAttribute(s,"true")}catch(h){console.error("aria-hidden: cannot operate on ",x,h)}})};return f(t),l.clear(),Td++,function(){o.forEach(function(m){var x=Ws.get(m)-1,y=i.get(m)-1;Ws.set(m,x),i.set(m,y),x||(Qo.has(m)||m.removeAttribute(s),Qo.delete(m)),y||m.removeAttribute(r)}),Td--,Td||(Ws=new WeakMap,Ws=new WeakMap,Qo=new WeakMap,Wo={})}},Xy=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=C4(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),E4(s,a,r,"aria-hidden")):function(){return null}},Dn=function(){return Dn=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Dn.apply(this,arguments)};function Jy(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function T4(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var ml="right-scroll-bar-position",hl="width-before-scroll-bar",P4="with-scroll-bars-hidden",I4="--removed-body-scroll-bar-size";function Pd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function R4(e,t){var r=u.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var A4=typeof window<"u"?u.useLayoutEffect:u.useEffect,nx=new WeakMap;function D4(e,t){var r=R4(null,function(s){return e.forEach(function(a){return Pd(a,s)})});return A4(function(){var s=nx.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Pd(l,null)}),i.forEach(function(l){a.has(l)||Pd(l,o)})}nx.set(r,e)},[e]),r}function M4(e){return e}function F4(e,t){t===void 0&&(t=M4);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return a}function O4(e){e===void 0&&(e={});var t=F4(null);return t.options=Dn({async:!0,ssr:!1},e),t}var Yy=function(e){var t=e.sideCar,r=Jy(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return u.createElement(s,Dn({},r))};Yy.isSideCarExport=!0;function L4(e,t){return e.useMedium(t),Yy}var Zy=O4(),Id=function(){},Rc=u.forwardRef(function(e,t){var r=u.useRef(null),s=u.useState({onScrollCapture:Id,onWheelCapture:Id,onTouchMoveCapture:Id}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,f=e.enabled,m=e.shards,x=e.sideCar,y=e.noIsolation,b=e.inert,p=e.allowPinchZoom,j=e.as,h=j===void 0?"div":j,v=e.gapMode,g=Jy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=x,N=D4([r,t]),S=Dn(Dn({},g),a);return u.createElement(u.Fragment,null,f&&u.createElement(w,{sideCar:Zy,removeScrollBar:d,shards:m,noIsolation:y,inert:b,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:v}),o?u.cloneElement(u.Children.only(l),Dn(Dn({},S),{ref:N})):u.createElement(h,Dn({},S,{className:c,ref:N}),l))});Rc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rc.classNames={fullWidth:hl,zeroRight:ml};var _4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_4();return t&&e.setAttribute("nonce",t),e}function z4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function U4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var B4=function(){var e=0,t=null;return{add:function(r){e==0&&(t=$4())&&(z4(t,r),U4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},V4=function(){var e=B4();return function(t,r){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ej=function(){var e=V4(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},q4={left:0,top:0,right:0,gap:0},Rd=function(e){return parseInt(e||"",10)||0},K4=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Rd(r),Rd(s),Rd(a)]},Q4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return q4;var t=K4(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},W4=ej(),Na="data-scroll-locked",H4=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(P4,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Na,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ml,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(hl,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(ml," .").concat(ml,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(hl," .").concat(hl,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Na,`] {
    `).concat(I4,": ").concat(l,`px;
  }
`)},rx=function(){var e=parseInt(document.body.getAttribute(Na)||"0",10);return isFinite(e)?e:0},G4=function(){u.useEffect(function(){return document.body.setAttribute(Na,(rx()+1).toString()),function(){var e=rx()-1;e<=0?document.body.removeAttribute(Na):document.body.setAttribute(Na,e.toString())}},[])},X4=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;G4();var i=u.useMemo(function(){return Q4(a)},[a]);return u.createElement(W4,{styles:H4(i,!t,a,r?"":"!important")})},Gu=!1;if(typeof window<"u")try{var Ho=Object.defineProperty({},"passive",{get:function(){return Gu=!0,!0}});window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{Gu=!1}var Hs=Gu?{passive:!1}:!1,J4=function(e){return e.tagName==="TEXTAREA"},tj=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!J4(e)&&r[t]==="visible")},Y4=function(e){return tj(e,"overflowY")},Z4=function(e){return tj(e,"overflowX")},sx=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=nj(e,s);if(a){var i=rj(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},eT=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},tT=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},nj=function(e,t){return e==="v"?Y4(t):Z4(t)},rj=function(e,t){return e==="v"?eT(t):tT(t)},nT=function(e,t){return e==="h"&&t==="rtl"?-1:1},rT=function(e,t,r,s,a){var i=nT(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,f=o>0,m=0,x=0;do{var y=rj(e,l),b=y[0],p=y[1],j=y[2],h=p-j-i*b;(b||h)&&nj(e,l)&&(m+=h,x+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(m)<1||!a)||!f&&(Math.abs(x)<1||!a))&&(d=!0),d},Go=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ax=function(e){return[e.deltaX,e.deltaY]},ix=function(e){return e&&"current"in e?e.current:e},sT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},aT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},iT=0,Gs=[];function oT(e){var t=u.useRef([]),r=u.useRef([0,0]),s=u.useRef(),a=u.useState(iT++)[0],i=u.useState(ej)[0],o=u.useRef(e);u.useEffect(function(){o.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=T4([e.lockRef.current],(e.shards||[]).map(ix),!0).filter(Boolean);return p.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(p,j){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var h=Go(p),v=r.current,g="deltaX"in p?p.deltaX:v[0]-h[0],w="deltaY"in p?p.deltaY:v[1]-h[1],N,S=p.target,E=Math.abs(g)>Math.abs(w)?"h":"v";if("touches"in p&&E==="h"&&S.type==="range")return!1;var P=sx(E,S);if(!P)return!0;if(P?N=E:(N=E==="v"?"h":"v",P=sx(E,S)),!P)return!1;if(!s.current&&"changedTouches"in p&&(g||w)&&(s.current=N),!N)return!0;var C=s.current||N;return rT(C,j,p,C==="h"?g:w,!0)},[]),c=u.useCallback(function(p){var j=p;if(!(!Gs.length||Gs[Gs.length-1]!==i)){var h="deltaY"in j?ax(j):Go(j),v=t.current.filter(function(N){return N.name===j.type&&(N.target===j.target||j.target===N.shadowParent)&&sT(N.delta,h)})[0];if(v&&v.should){j.cancelable&&j.preventDefault();return}if(!v){var g=(o.current.shards||[]).map(ix).filter(Boolean).filter(function(N){return N.contains(j.target)}),w=g.length>0?l(j,g[0]):!o.current.noIsolation;w&&j.cancelable&&j.preventDefault()}}},[]),d=u.useCallback(function(p,j,h,v){var g={name:p,delta:j,target:h,should:v,shadowParent:lT(h)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(w){return w!==g})},1)},[]),f=u.useCallback(function(p){r.current=Go(p),s.current=void 0},[]),m=u.useCallback(function(p){d(p.type,ax(p),p.target,l(p,e.lockRef.current))},[]),x=u.useCallback(function(p){d(p.type,Go(p),p.target,l(p,e.lockRef.current))},[]);u.useEffect(function(){return Gs.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",c,Hs),document.addEventListener("touchmove",c,Hs),document.addEventListener("touchstart",f,Hs),function(){Gs=Gs.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Hs),document.removeEventListener("touchmove",c,Hs),document.removeEventListener("touchstart",f,Hs)}},[]);var y=e.removeScrollBar,b=e.inert;return u.createElement(u.Fragment,null,b?u.createElement(i,{styles:aT(a)}):null,y?u.createElement(X4,{gapMode:e.gapMode}):null)}function lT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const cT=L4(Zy,oT);var Th=u.forwardRef(function(e,t){return u.createElement(Rc,Dn({},e,{ref:t,sideCar:cT}))});Th.classNames=Rc.classNames;var dT=[" ","Enter","ArrowUp","ArrowDown"],uT=[" ","Enter"],vo="Select",[Ac,Dc,mT]=sh(vo),[si,lP]=zt(vo,[mT,Cc]),Mc=Cc(),[hT,as]=si(vo),[fT,pT]=si(vo),sj=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:m,disabled:x,required:y,form:b}=e,p=Mc(t),[j,h]=u.useState(null),[v,g]=u.useState(null),[w,N]=u.useState(!1),S=Pc(d),[E=!1,P]=tr({prop:s,defaultProp:a,onChange:i}),[C,M]=tr({prop:o,defaultProp:l,onChange:c}),q=u.useRef(null),I=j?b||!!j.closest("form"):!0,[K,U]=u.useState(new Set),k=Array.from(K).map(F=>F.props.value).join(";");return n.jsx(LE,{...p,children:n.jsxs(hT,{required:y,scope:t,trigger:j,onTriggerChange:h,valueNode:v,onValueNodeChange:g,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:$r(),value:C,onValueChange:M,open:E,onOpenChange:P,dir:S,triggerPointerDownPosRef:q,disabled:x,children:[n.jsx(Ac.Provider,{scope:t,children:n.jsx(fT,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(F=>{U(V=>new Set(V).add(F))},[]),onNativeOptionRemove:u.useCallback(F=>{U(V=>{const R=new Set(V);return R.delete(F),R})},[]),children:r})}),I?n.jsxs(Pj,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:m,value:C,onChange:F=>M(F.target.value),disabled:x,form:b,children:[C===void 0?n.jsx("option",{value:""}):null,Array.from(K)]},k):null]})})};sj.displayName=vo;var aj="SelectTrigger",ij=u.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=Mc(r),o=as(aj,r),l=o.disabled||s,c=Re(t,o.onTriggerChange),d=Dc(r),f=u.useRef("touch"),[m,x,y]=Ij(p=>{const j=d().filter(g=>!g.disabled),h=j.find(g=>g.value===o.value),v=Rj(j,p,h);v!==void 0&&o.onValueChange(v.value)}),b=p=>{l||(o.onOpenChange(!0),y()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return n.jsx(Iy,{asChild:!0,...i,children:n.jsx(de.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Tj(o.value)?"":void 0,...a,ref:c,onClick:ae(a.onClick,p=>{p.currentTarget.focus(),f.current!=="mouse"&&b(p)}),onPointerDown:ae(a.onPointerDown,p=>{f.current=p.pointerType;const j=p.target;j.hasPointerCapture(p.pointerId)&&j.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(b(p),p.preventDefault())}),onKeyDown:ae(a.onKeyDown,p=>{const j=m.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&x(p.key),!(j&&p.key===" ")&&dT.includes(p.key)&&(b(),p.preventDefault())})})})});ij.displayName=aj;var oj="SelectValue",lj=u.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=as(oj,r),{onValueNodeHasChildrenChange:d}=c,f=i!==void 0,m=Re(t,c.onValueNodeChange);return at(()=>{d(f)},[d,f]),n.jsx(de.span,{...l,ref:m,style:{pointerEvents:"none"},children:Tj(c.value)?n.jsx(n.Fragment,{children:o}):i})});lj.displayName=oj;var xT="SelectIcon",cj=u.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(de.span,{"aria-hidden":!0,...a,ref:t,children:s||"▼"})});cj.displayName=xT;var gT="SelectPortal",dj=e=>n.jsx(pc,{asChild:!0,...e});dj.displayName=gT;var As="SelectContent",uj=u.forwardRef((e,t)=>{const r=as(As,e.__scopeSelect),[s,a]=u.useState();if(at(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?zs.createPortal(n.jsx(mj,{scope:e.__scopeSelect,children:n.jsx(Ac.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(hj,{...e,ref:t})});uj.displayName=As;var cn=10,[mj,is]=si(As),vT="SelectContentImpl",yT=Qa("SelectContent.RemoveScroll"),hj=u.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:x,collisionPadding:y,sticky:b,hideWhenDetached:p,avoidCollisions:j,...h}=e,v=as(As,r),[g,w]=u.useState(null),[N,S]=u.useState(null),E=Re(t,ne=>w(ne)),[P,C]=u.useState(null),[M,q]=u.useState(null),I=Dc(r),[K,U]=u.useState(!1),k=u.useRef(!1);u.useEffect(()=>{if(g)return Xy(g)},[g]),Wy();const F=u.useCallback(ne=>{const[ue,...O]=I().map(ie=>ie.ref.current),[re]=O.slice(-1),ee=document.activeElement;for(const ie of ne)if(ie===ee||(ie==null||ie.scrollIntoView({block:"nearest"}),ie===ue&&N&&(N.scrollTop=0),ie===re&&N&&(N.scrollTop=N.scrollHeight),ie==null||ie.focus(),document.activeElement!==ee))return},[I,N]),V=u.useCallback(()=>F([P,g]),[F,P,g]);u.useEffect(()=>{K&&V()},[K,V]);const{onOpenChange:R,triggerPointerDownPosRef:A}=v;u.useEffect(()=>{if(g){let ne={x:0,y:0};const ue=re=>{var ee,ie;ne={x:Math.abs(Math.round(re.pageX)-(((ee=A.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(re.pageY)-(((ie=A.current)==null?void 0:ie.y)??0))}},O=re=>{ne.x<=10&&ne.y<=10?re.preventDefault():g.contains(re.target)||R(!1),document.removeEventListener("pointermove",ue),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",O,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",O,{capture:!0})}}},[g,R,A]),u.useEffect(()=>{const ne=()=>R(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[R]);const[z,Q]=Ij(ne=>{const ue=I().filter(ee=>!ee.disabled),O=ue.find(ee=>ee.ref.current===document.activeElement),re=Rj(ue,ne,O);re&&setTimeout(()=>re.ref.current.focus())}),H=u.useCallback((ne,ue,O)=>{const re=!k.current&&!O;(v.value!==void 0&&v.value===ue||re)&&(C(ne),re&&(k.current=!0))},[v.value]),oe=u.useCallback(()=>g==null?void 0:g.focus(),[g]),be=u.useCallback((ne,ue,O)=>{const re=!k.current&&!O;(v.value!==void 0&&v.value===ue||re)&&q(ne)},[v.value]),ge=s==="popper"?Xu:fj,Te=ge===Xu?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:x,collisionPadding:y,sticky:b,hideWhenDetached:p,avoidCollisions:j}:{};return n.jsx(mj,{scope:r,content:g,viewport:N,onViewportChange:S,itemRefCallback:H,selectedItem:P,onItemLeave:oe,itemTextRefCallback:be,focusSelectedItem:V,selectedItemText:M,position:s,isPositioned:K,searchRef:z,children:n.jsx(Th,{as:yT,allowPinchZoom:!0,children:n.jsx(Eh,{asChild:!0,trapped:v.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:ae(a,ne=>{var ue;(ue=v.trigger)==null||ue.focus({preventScroll:!0}),ne.preventDefault()}),children:n.jsx(fo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:n.jsx(ge,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ne=>ne.preventDefault(),...h,...Te,onPlaced:()=>U(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...h.style},onKeyDown:ae(h.onKeyDown,ne=>{const ue=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!ue&&ne.key.length===1&&Q(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let re=I().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const ee=ne.target,ie=re.indexOf(ee);re=re.slice(ie+1)}setTimeout(()=>F(re)),ne.preventDefault()}})})})})})})});hj.displayName=vT;var jT="SelectItemAlignedPosition",fj=u.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=as(As,r),o=is(As,r),[l,c]=u.useState(null),[d,f]=u.useState(null),m=Re(t,E=>f(E)),x=Dc(r),y=u.useRef(!1),b=u.useRef(!0),{viewport:p,selectedItem:j,selectedItemText:h,focusSelectedItem:v}=o,g=u.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&p&&j&&h){const E=i.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),M=h.getBoundingClientRect();if(i.dir!=="rtl"){const ee=M.left-P.left,ie=C.left-ee,ke=E.left-ie,xt=E.width+ke,sn=Math.max(xt,P.width),an=window.innerWidth-cn,Ge=Xp(ie,[cn,Math.max(cn,an-sn)]);l.style.minWidth=xt+"px",l.style.left=Ge+"px"}else{const ee=P.right-M.right,ie=window.innerWidth-C.right-ee,ke=window.innerWidth-E.right-ie,xt=E.width+ke,sn=Math.max(xt,P.width),an=window.innerWidth-cn,Ge=Xp(ie,[cn,Math.max(cn,an-sn)]);l.style.minWidth=xt+"px",l.style.right=Ge+"px"}const q=x(),I=window.innerHeight-cn*2,K=p.scrollHeight,U=window.getComputedStyle(d),k=parseInt(U.borderTopWidth,10),F=parseInt(U.paddingTop,10),V=parseInt(U.borderBottomWidth,10),R=parseInt(U.paddingBottom,10),A=k+F+K+R+V,z=Math.min(j.offsetHeight*5,A),Q=window.getComputedStyle(p),H=parseInt(Q.paddingTop,10),oe=parseInt(Q.paddingBottom,10),be=E.top+E.height/2-cn,ge=I-be,Te=j.offsetHeight/2,ne=j.offsetTop+Te,ue=k+F+ne,O=A-ue;if(ue<=be){const ee=q.length>0&&j===q[q.length-1].ref.current;l.style.bottom="0px";const ie=d.clientHeight-p.offsetTop-p.offsetHeight,ke=Math.max(ge,Te+(ee?oe:0)+ie+V),xt=ue+ke;l.style.height=xt+"px"}else{const ee=q.length>0&&j===q[0].ref.current;l.style.top="0px";const ke=Math.max(be,k+p.offsetTop+(ee?H:0)+Te)+O;l.style.height=ke+"px",p.scrollTop=ue-be+p.offsetTop}l.style.margin=`${cn}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=I+"px",s==null||s(),requestAnimationFrame(()=>y.current=!0)}},[x,i.trigger,i.valueNode,l,d,p,j,h,i.dir,s]);at(()=>g(),[g]);const[w,N]=u.useState();at(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const S=u.useCallback(E=>{E&&b.current===!0&&(g(),v==null||v(),b.current=!1)},[g,v]);return n.jsx(wT,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:S,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:n.jsx(de.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});fj.displayName=jT;var bT="SelectPopperPosition",Xu=u.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=cn,...i}=e,o=Mc(r);return n.jsx(Ry,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Xu.displayName=bT;var[wT,Ph]=si(As,{}),Ju="SelectViewport",pj=u.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=is(Ju,r),o=Ph(Ju,r),l=Re(t,i.onViewportChange),c=u.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(Ac.Slot,{scope:r,children:n.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ae(a.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=o;if(x!=null&&x.current&&m){const y=Math.abs(c.current-f.scrollTop);if(y>0){const b=window.innerHeight-cn*2,p=parseFloat(m.style.minHeight),j=parseFloat(m.style.height),h=Math.max(p,j);if(h<b){const v=h+y,g=Math.min(b,v),w=v-g;m.style.height=g+"px",m.style.bottom==="0px"&&(f.scrollTop=w>0?w:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});pj.displayName=Ju;var xj="SelectGroup",[NT,ST]=si(xj),CT=u.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=$r();return n.jsx(NT,{scope:r,id:a,children:n.jsx(de.div,{role:"group","aria-labelledby":a,...s,ref:t})})});CT.displayName=xj;var gj="SelectLabel",vj=u.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=ST(gj,r);return n.jsx(de.div,{id:a.id,...s,ref:t})});vj.displayName=gj;var Ql="SelectItem",[kT,yj]=si(Ql),jj=u.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=as(Ql,r),c=is(Ql,r),d=l.value===s,[f,m]=u.useState(i??""),[x,y]=u.useState(!1),b=Re(t,v=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,v,s,a)}),p=$r(),j=u.useRef("touch"),h=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(kT,{scope:r,value:s,disabled:a,textId:p,isSelected:d,onItemTextChange:u.useCallback(v=>{m(g=>g||((v==null?void 0:v.textContent)??"").trim())},[]),children:n.jsx(Ac.ItemSlot,{scope:r,value:s,disabled:a,textValue:f,children:n.jsx(de.div,{role:"option","aria-labelledby":p,"data-highlighted":x?"":void 0,"aria-selected":d&&x,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:b,onFocus:ae(o.onFocus,()=>y(!0)),onBlur:ae(o.onBlur,()=>y(!1)),onClick:ae(o.onClick,()=>{j.current!=="mouse"&&h()}),onPointerUp:ae(o.onPointerUp,()=>{j.current==="mouse"&&h()}),onPointerDown:ae(o.onPointerDown,v=>{j.current=v.pointerType}),onPointerMove:ae(o.onPointerMove,v=>{var g;j.current=v.pointerType,a?(g=c.onItemLeave)==null||g.call(c):j.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(o.onPointerLeave,v=>{var g;v.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:ae(o.onKeyDown,v=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&v.key===" "||(uT.includes(v.key)&&h(),v.key===" "&&v.preventDefault())})})})})});jj.displayName=Ql;var Ci="SelectItemText",bj=u.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=as(Ci,r),l=is(Ci,r),c=yj(Ci,r),d=pT(Ci,r),[f,m]=u.useState(null),x=Re(t,h=>m(h),c.onItemTextChange,h=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,h,c.value,c.disabled)}),y=f==null?void 0:f.textContent,b=u.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:p,onNativeOptionRemove:j}=d;return at(()=>(p(b),()=>j(b)),[p,j,b]),n.jsxs(n.Fragment,{children:[n.jsx(de.span,{id:c.textId,...i,ref:x}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?zs.createPortal(i.children,o.valueNode):null]})});bj.displayName=Ci;var wj="SelectItemIndicator",Nj=u.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return yj(wj,r).isSelected?n.jsx(de.span,{"aria-hidden":!0,...s,ref:t}):null});Nj.displayName=wj;var Yu="SelectScrollUpButton",Sj=u.forwardRef((e,t)=>{const r=is(Yu,e.__scopeSelect),s=Ph(Yu,e.__scopeSelect),[a,i]=u.useState(!1),o=Re(t,s.onScrollButtonChange);return at(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(kj,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Sj.displayName=Yu;var Zu="SelectScrollDownButton",Cj=u.forwardRef((e,t)=>{const r=is(Zu,e.__scopeSelect),s=Ph(Zu,e.__scopeSelect),[a,i]=u.useState(!1),o=Re(t,s.onScrollButtonChange);return at(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;i(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(kj,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Cj.displayName=Zu;var kj=u.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=is("SelectScrollButton",r),o=u.useRef(null),l=Dc(r),c=u.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),at(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),n.jsx(de.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ae(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:ae(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:ae(a.onPointerLeave,()=>{c()})})}),ET="SelectSeparator",Ej=u.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(de.div,{"aria-hidden":!0,...s,ref:t})});Ej.displayName=ET;var em="SelectArrow",TT=u.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Mc(r),i=as(em,r),o=is(em,r);return i.open&&o.position==="popper"?n.jsx(Ay,{...a,...s,ref:t}):null});TT.displayName=em;function Tj(e){return e===""||e===void 0}var Pj=u.forwardRef((e,t)=>{const{value:r,...s}=e,a=u.useRef(null),i=Re(t,a),o=Ic(r);return u.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&f){const m=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(m)}},[o,r]),n.jsx(po,{asChild:!0,children:n.jsx("select",{...s,ref:i,defaultValue:r})})});Pj.displayName="BubbleSelect";function Ij(e){const t=Tt(e),r=u.useRef(""),s=u.useRef(0),a=u.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=u.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function Rj(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=PT(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function PT(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var IT=sj,Aj=ij,RT=lj,AT=cj,DT=dj,Dj=uj,MT=pj,Mj=vj,Fj=jj,FT=bj,OT=Nj,Oj=Sj,Lj=Cj,_j=Ej;const Ae=IT,De=RT,Pe=u.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Aj,{ref:s,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(AT,{asChild:!0,children:n.jsx(Wv,{className:"h-4 w-4 opacity-50"})})]}));Pe.displayName=Aj.displayName;const $j=u.forwardRef(({className:e,...t},r)=>n.jsx(Oj,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Gv,{className:"h-4 w-4"})}));$j.displayName=Oj.displayName;const zj=u.forwardRef(({className:e,...t},r)=>n.jsx(Lj,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Wv,{className:"h-4 w-4"})}));zj.displayName=Lj.displayName;const Ie=u.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(DT,{children:n.jsxs(Dj,{ref:a,className:le("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx($j,{}),n.jsx(MT,{className:le("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(zj,{})]})}));Ie.displayName=Dj.displayName;const LT=u.forwardRef(({className:e,...t},r)=>n.jsx(Mj,{ref:r,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));LT.displayName=Mj.displayName;const $=u.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Fj,{ref:s,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(OT,{children:n.jsx(yc,{className:"h-4 w-4"})})}),n.jsx(FT,{children:t})]}));$.displayName=Fj.displayName;const _T=u.forwardRef(({className:e,...t},r)=>n.jsx(_j,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));_T.displayName=_j.displayName;function Fc({endTime:e,size:t="small",onTimeUp:r}){const[s,a]=u.useState({days:0,hours:0,minutes:0,seconds:0,total:0}),[i,o]=u.useState(!1);u.useEffect(()=>{if(!e){a({days:0,hours:0,minutes:0,seconds:0,total:0}),o(!0);return}const d=()=>{const m=new Date().getTime();let x;if(typeof e=="string")x=new Date(e);else if(e instanceof Date)x=e;else{a({days:0,hours:0,minutes:0,seconds:0,total:0}),o(!0);return}if(isNaN(x.getTime())){a({days:0,hours:0,minutes:0,seconds:0,total:0}),o(!0);return}const y=x.getTime()-m;if(y<=0){a({days:0,hours:0,minutes:0,seconds:0,total:0}),r==null||r(),o(!0);return}const b=Math.floor(y/(1e3*60*60*24)),p=Math.floor(y%(1e3*60*60*24)/(1e3*60*60)),j=Math.floor(y%(1e3*60*60)/(1e3*60)),h=Math.floor(y%(1e3*60)/1e3);a({days:b,hours:p,minutes:j,seconds:h,total:y}),i||o(!0)};d();const f=setInterval(d,1e3);return()=>clearInterval(f)},[e,r]);const l=()=>s.total<3e5?"from-red-600 to-red-800":s.total<36e5?"from-orange-500 to-orange-700":"from-red-600 to-red-700",c=d=>d.toString().padStart(2,"0");return e?t==="large"?i?n.jsxs("div",{className:`bg-gradient-to-r ${l()} text-white p-6 rounded-2xl text-center ${s.total<3e5?"animate-pulse":""}`,children:[n.jsx("div",{className:"text-sm mb-2",children:"Аукцион завершится через"}),n.jsxs("div",{className:"text-3xl font-bold font-mono mb-2",children:[s.days>0&&`${s.days}д `,c(s.hours),":",c(s.minutes),":",c(s.seconds)]}),n.jsxs("div",{className:"text-sm opacity-90",children:[s.days>0&&`${s.days} дней `,s.hours>0&&`${s.hours} часов `,s.minutes," минут ",s.seconds," секунд"]})]}):n.jsxs("div",{className:"bg-gradient-to-r from-gray-400 to-gray-600 text-white p-6 rounded-2xl text-center animate-pulse",children:[n.jsx("div",{className:"text-sm mb-2",children:"Загрузка времени..."}),n.jsx("div",{className:"text-3xl font-bold font-mono mb-2",children:"--:--:--"}),n.jsx("div",{className:"text-sm opacity-90",children:"Инициализация таймера"})]}):i?s.total<=0?n.jsxs("div",{className:"bg-gray-400 text-white px-2 py-0.5 rounded-full text-xs font-semibold",children:[n.jsx(Ir,{className:"w-2.5 h-2.5 inline mr-0.5"}),"Завершен"]}):n.jsxs("div",{className:`bg-red-600 text-white px-2 py-0.5 rounded-full text-xs font-semibold ${s.total<3e5?"animate-pulse":""}`,children:[n.jsx(Ir,{className:"w-2.5 h-2.5 inline mr-0.5"}),s.days>0?`${s.days}д `:"",s.hours>0?`${s.hours}ч `:"",s.minutes,"м ",s.seconds,"с"]}):n.jsxs("div",{className:"bg-gray-400 text-white px-2 py-0.5 rounded-full text-xs font-semibold animate-pulse",children:[n.jsx(Ir,{className:"w-2.5 h-2.5 inline mr-0.5"}),"--м --с"]}):t==="large"?n.jsxs("div",{className:"bg-gray-400 text-white p-6 rounded-2xl text-center",children:[n.jsx("div",{className:"text-sm mb-2",children:"Аукцион завершен"}),n.jsx("div",{className:"text-3xl font-bold font-mono mb-2",children:"00:00:00"}),n.jsx("div",{className:"text-sm opacity-90",children:"Время истекло"})]}):n.jsxs("div",{className:"bg-gray-400 text-white px-2 py-0.5 rounded-full text-xs font-semibold",children:[n.jsx(Ir,{className:"w-2.5 h-2.5 inline mr-0.5"}),"Завершен"]})}const ox="/assets/default-car-placeholder-Bt_lc23G.jpg";function Oc({listingId:e,make:t,model:r,year:s,photos:a=[],className:i=""}){const[o,l]=u.useState(0),[c,d]=u.useState(!1),[f,m]=u.useState(new Set),[x,y]=u.useState(!1),b=u.useRef(null),p=j=>{x||j===o||(y(!0),setTimeout(()=>{l(j),setTimeout(()=>y(!1),50)},150))};return u.useEffect(()=>{const j=new IntersectionObserver(([h])=>{h.isIntersecting&&(d(!0),j.disconnect())},{threshold:.1,rootMargin:"50px"});return b.current&&j.observe(b.current),()=>j.disconnect()},[]),u.useEffect(()=>{!c||a.length<=1||a.forEach((j,h)=>{if(!f.has(h)){const v=new Image;v.onload=()=>{m(g=>new Set(g).add(h))},v.src=j}})},[a,c,f]),u.useEffect(()=>{if(!c||a.length<=1||x)return;const j=setInterval(()=>{const h=(o+1)%a.length;p(h)},3e3);return()=>clearInterval(j)},[a.length,c,o,x]),!c||a.length===0?n.jsxs("div",{ref:b,className:`relative overflow-hidden ${i}`,children:[n.jsx("img",{src:ox,alt:"Автомобиль под тканью",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:n.jsx("div",{className:"bg-white/90 text-gray-700 text-sm px-3 py-1 rounded-full",children:"Загрузка..."})})]}):n.jsxs("div",{ref:b,className:`relative overflow-hidden ${i}`,children:[n.jsx("img",{src:a[o],alt:`${s} ${t} ${r}`,className:`w-full h-full object-cover select-none transition-all duration-300 ease-out ${f.has(o)?x?"opacity-30 scale-105":"opacity-100 scale-100":"opacity-0"}`,loading:"lazy",onLoad:()=>m(j=>new Set(j).add(o)),onError:()=>console.error(`Ошибка загрузки фото ${o} для ${t} ${r}`)},`car-image-${o}`),!f.has(o)&&n.jsxs("div",{className:"absolute inset-0 bg-gray-100 flex items-center justify-center",children:[n.jsx("img",{src:ox,alt:"Автомобиль под тканью",className:"w-full h-full object-cover opacity-50"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"bg-white/90 text-gray-700 text-sm px-3 py-1 rounded-full animate-pulse",children:"Загрузка фото..."})})]}),a.length>1&&f.has(o)&&n.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded-full backdrop-blur-sm transition-all duration-200",children:[o+1,"/",a.length]})]})}const $T=vc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ve({className:e,variant:t,...r}){return n.jsx("div",{className:le($T({variant:t}),e),...r})}function Uj({reservePrice:e,currentBid:t,startingPrice:r,size:s="md",showProgress:a=!1}){if(!e)return null;const i=parseFloat(e),l=parseFloat(t||r||"0")>=i,c={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return a&&!l?n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ha,{className:"h-4 w-4 text-orange-500"}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Резервная цена не достигнута"})]})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Продолжайте торги для достижения резерва"})]}):n.jsx(ve,{variant:l?"default":"secondary",className:`
        ${c[s]}
        ${l?"bg-green-100 text-green-800 border-green-200 dark:bg-green-900 dark:text-green-100":"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900 dark:text-orange-100"}
        flex items-center space-x-1
      `,children:l?n.jsxs(n.Fragment,{children:[n.jsx(VC,{className:"h-3 w-3"}),n.jsx("span",{children:"РЕЗЕРВ ДОСТИГНУТ"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Ha,{className:"h-3 w-3"}),n.jsx("span",{children:"РЕЗЕРВ НЕ ДОСТИГНУТ"})]})})}const tm=u.memo(function({searchQuery:t="",customListings:r}){const{auctions:s,loading:a,refreshAuctions:i}=Sh(),{isFavorite:o,addToFavorites:l,removeFromFavorites:c}=Ch(),d=Le(),[,f]=He(),[m,x]=u.useState(1),[y,b]=u.useState(!1),[p,j]=u.useState(!0),[h,v]=u.useState("recent"),[g,w]=u.useState(!1),N=u.useRef([]),S=u.useRef(""),E=20,P=r||s,C=u.useMemo(()=>{const k=JSON.stringify([P.length,t,h]),F=JSON.stringify([N.current.length,S.current,h]);if(k===F&&N.current.length>0)return N.current;const z=[...P.filter(Q=>Q.status==="active"||Q.status==="ended").filter(Q=>{var ge;if(!t.trim())return!0;const H=t.toLowerCase(),oe=(ge=Q.lotNumber)==null?void 0:ge.toLowerCase().includes(H),be=`${Q.make} ${Q.model}`.toLowerCase().includes(H);return oe||be})].sort((Q,H)=>{switch(h){case"price-low":return parseFloat(Q.currentBid||"0")-parseFloat(H.currentBid||"0");case"price-high":return parseFloat(H.currentBid||"0")-parseFloat(Q.currentBid||"0");case"year-new":return H.year-Q.year;case"year-old":return Q.year-H.year;case"time-ending":return new Date(Q.endTime).getTime()-new Date(H.endTime).getTime();case"recent":default:return new Date(H.endTime).getTime()-new Date(Q.endTime).getTime()}}).slice(0,m*E);return N.current=z,S.current=t,z},[P,t,h,m]),[M,q]=u.useState(null),I=k=>{M&&clearTimeout(M);const F=setTimeout(()=>{d.prefetchQuery({queryKey:[`/api/listings/${k}`],queryFn:async()=>(await fetch(`/api/listings/${k}`)).json(),staleTime:3e4}),d.prefetchQuery({queryKey:[`/api/listings/${k}/bids`],queryFn:async()=>(await fetch(`/api/listings/${k}/bids`)).json(),staleTime:15e3})},500);q(F)},K=async k=>{d.invalidateQueries({queryKey:[`/api/listings/${k}`]}),d.prefetchQuery({queryKey:[`/api/listings/${k}`],staleTime:1e3}),d.prefetchQuery({queryKey:[`/api/listings/${k}/bids`],staleTime:1e3}),f(`/auction/${k}`)},U=async(k,F)=>{F.stopPropagation();try{o(k)?await c(k):await l(k)}catch(V){console.error("Error toggling favorite:",V)}};return u.useEffect(()=>{x(1),j(!0)},[h]),u.useEffect(()=>{const k=()=>{if(!y&&p&&window.innerHeight+window.scrollY>=document.body.offsetHeight-1e3){b(!0);const F=m+1,V=P.length;F*E>=V&&j(!1),x(F),b(!1)}};return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[m,y,p,s.length]),u.useEffect(()=>{if(a){const k=setTimeout(()=>{console.warn("⚠️ Принудительное обновление - слишком долгая загрузка"),w(!0),i()},1e4);return()=>clearTimeout(k)}else w(!1)},[a,i]),a&&!g?n.jsx("div",{className:"grid grid-cols-2 gap-3 mb-20",children:[1,2,3,4,5,6].map(k=>n.jsxs(Z,{className:"animate-pulse rounded-xl overflow-hidden",children:[n.jsx("div",{className:"h-48 bg-gray-200"}),n.jsxs(te,{className:"p-4",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded mb-3"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded mb-3"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]})]},k))}):n.jsxs("div",{className:"mb-20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(FC,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Сортировка:"})]}),n.jsxs(Ae,{value:h,onValueChange:v,children:[n.jsx(Pe,{className:"w-40 h-8 text-xs",children:n.jsx(De,{})}),n.jsxs(Ie,{children:[n.jsx($,{value:"recent",children:"По умолчанию"}),n.jsx($,{value:"price-low",children:"Дешевые"}),n.jsx($,{value:"price-high",children:"Дорогие"}),n.jsx($,{value:"year-new",children:"Новые"}),n.jsx($,{value:"year-old",children:"Старые"}),n.jsx($,{value:"time-ending",children:"Скоро закончатся"})]})]})]}),C.length===0&&!a?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ze,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Нет активных аукционов"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Новые автомобили появятся скоро"}),n.jsx(L,{onClick:()=>{console.log("🔄 Ручное обновление данных"),i()},variant:"outline",className:"mx-auto",children:"Обновить"})]}):n.jsx("div",{className:"grid grid-cols-2 gap-3",children:C.map((k,F)=>n.jsxs(Z,{className:"group relative rounded-xl overflow-hidden bg-white shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer",onClick:()=>K(k.id),onMouseEnter:()=>I(k.id),children:[n.jsxs("div",{className:"relative",children:[n.jsx(Oc,{listingId:k.id,make:k.make,model:k.model,year:k.year,photos:k.photos||[],className:"h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 group-hover:bg-opacity-10 transition-all duration-300"}),n.jsx("div",{className:"absolute top-3 left-3",children:n.jsx(Fc,{endTime:k.endTime||k.auctionEndTime,size:"small"})}),n.jsx("div",{className:"absolute top-3 right-3",children:n.jsx(L,{variant:"ghost",size:"icon",className:"w-8 h-8 bg-black/50 text-white hover:bg-black/70 backdrop-blur-sm",onClick:V=>U(k.id,V),children:n.jsx(xo,{className:`h-4 w-4 ${o(k.id)?"fill-red-500 text-red-500":"text-white"}`})})}),n.jsx("div",{className:"absolute bottom-3 left-3",children:k.status==="ended"?n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold text-white bg-green-600",children:"ВЫИГРАНО"}):n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold text-white ${k.bidCount>5?"bg-red-600":k.bidCount>2?"bg-orange-600":"bg-green-600"}`,children:k.bidCount>5?"ГОРЯЧИЙ АУКЦИОН":k.bidCount>2?"АКТИВНЫЙ":"НОВЫЙ"})})]}),n.jsxs(te,{className:"p-4",children:[n.jsx("div",{className:"mb-2",children:n.jsxs("span",{className:"text-xs font-mono bg-blue-100 text-blue-700 px-2 py-1 rounded",children:["Номер лота: ",k.lotNumber]})}),n.jsxs("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:[k.make," ",k.model]}),n.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:[k.year," • ",k.mileage.toLocaleString()," км • ",k.location||"Душанбе"]}),k.status==="ended"&&k.winnerInfo&&n.jsxs("div",{className:"mb-3 p-2 bg-green-50 rounded border border-green-200",children:[n.jsxs("p",{className:"text-xs text-green-700",children:[n.jsx("span",{className:"font-semibold",children:"Победитель:"})," ",k.winnerInfo.fullName]}),n.jsxs("p",{className:"text-xs text-green-700",children:[n.jsx("span",{className:"font-semibold",children:"Выигрышная ставка:"})," ",parseFloat(k.winnerInfo.currentBid).toLocaleString()," с."]})]}),n.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[(console.log(`🔋 Проверка электромобиля ${k.make} ${k.model}:`,{fuelType:k.fuelType,electricRange:k.electricRange,batteryCapacity:k.batteryCapacity,id:k.id}),(k.fuelType==="Электро"||k.fuelType==="electric")&&k.electricRange&&k.electricRange>0?n.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-blue-100 text-blue-700",children:["⚡ Запас хода: ",k.electricRange," км"]}):null),k.customsCleared&&n.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-700",children:"Растаможен"}),k.recycled&&n.jsx("span",{className:"text-xs px-2 py-1 rounded bg-blue-100 text-blue-700",children:"Утилизация"}),k.technicalInspectionValid&&n.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-purple-100 text-purple-700",children:["ТО до ",k.technicalInspectionDate||"н/д"]}),k.tinted&&n.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-indigo-100 text-indigo-700",children:["Тонировка ",k.tintingDate?`до ${k.tintingDate}`:""]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{children:k.currentBid&&k.currentBid!=="0"&&k.currentBid!==""&&!isNaN(parseFloat(k.currentBid))?n.jsxs("span",{className:"text-blue-600 font-bold",children:[parseFloat(k.currentBid).toLocaleString()," с."]}):n.jsxs("span",{className:"text-blue-600 font-bold",children:[parseFloat(k.startingPrice||"0").toLocaleString()," с."]})}),n.jsxs("span",{className:"text-xs text-gray-500",children:[k.bidCount," ставок"]})]}),n.jsx("div",{className:"mt-2",children:n.jsx(Uj,{reservePrice:k.reservePrice,currentBid:k.currentBid,startingPrice:k.startingPrice,size:"sm"})})]})]},`${k.id}-${F}`))}),y&&n.jsx("div",{className:"text-center mt-8 p-4",children:n.jsx("p",{className:"text-gray-500",children:"Загружаем еще автомобили..."})})]})}),zT="/assets/rodan-can-6cqJPeTIuls-unsplash_1754479984557-CFGXCr5x.jpg";function UT(){const[,e]=He(),{user:t}=it(),{data:r}=xe({queryKey:["/api/sell-car-banner"],enabled:!0,staleTime:10*60*1e3,gcTime:30*60*1e3,refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:!1}),s=b=>r!=null&&r.id?`/api/images/sell-car-banner/${r.id}/${b}`:"",i=(()=>{if(!r)return[];const b=[];return r.rotationImage1&&b.push(s("rotation1")),r.rotationImage2&&b.push(s("rotation2")),r.rotationImage3&&b.push(s("rotation3")),r.rotationImage4&&b.push(s("rotation4")),b.length>0?b:r.backgroundImageUrl?[s("background")]:[]})(),o=((r==null?void 0:r.rotationInterval)||3)*1e3,[l,c]=u.useState(0),[d,f]=u.useState({}),[m,x]=u.useState(!1);u.useEffect(()=>{if(m&&i.length>0){const b=i.findIndex(p=>d[p]==="loaded");b!==-1&&c(b)}},[m,i,d]),u.useEffect(()=>{if(i.length===0)return;const b=i[0];if(b&&!d[b]){f(j=>({...j,[b]:"loading"}));const p=new Image;p.onload=()=>{f(j=>({...j,[b]:"loaded"})),x(!0)},p.onerror=()=>{f(j=>({...j,[b]:"error"}))},p.crossOrigin="anonymous",p.src=b}i.slice(1).forEach(p=>{if(p&&!d[p]){f(h=>({...h,[p]:"loading"}));const j=new Image;j.onload=()=>{f(h=>({...h,[p]:"loaded"}))},j.onerror=()=>{f(h=>({...h,[p]:"error"}))},j.crossOrigin="anonymous",j.src=p}})},[i]),u.useEffect(()=>{if(!m||i.length<=1)return;const b=setInterval(()=>{c(p=>{let j=(p+1)%i.length,h=0;for(;d[i[j]]!=="loaded"&&h<i.length;)j=(j+1)%i.length,h++;return j})},o);return()=>clearInterval(b)},[m,i.length,o,d]);const y=()=>{if(console.log("КЛИК РАБОТАЕТ! Переход на /sell"),!t){console.log("Пользователь не авторизован, перенаправляем на /login"),e("/login");return}e("/sell")};return n.jsxs("div",{onClick:y,className:"relative h-44 rounded-2xl p-6 text-white overflow-hidden shadow-2xl cursor-pointer hover:shadow-3xl transition-all duration-300",children:[n.jsx("div",{className:`absolute inset-0 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-900 bg-cover bg-center bg-no-repeat transition-opacity duration-1000 ease-in-out ${m?"opacity-0":"opacity-100"}`,style:{backgroundImage:`linear-gradient(135deg, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.4) 100%), url('${zT}')`}}),i.map((b,p)=>n.jsx("div",{className:`absolute inset-0 rounded-2xl bg-cover bg-center bg-no-repeat transition-opacity duration-1000 ease-in-out ${m&&p===l&&d[b]==="loaded"?"opacity-100":"opacity-0"}`,style:{backgroundImage:d[b]==="loaded"?`linear-gradient(135deg, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.4) 100%), url('${b}')`:"none"}},`${b}-${p}`)),n.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-center items-center text-center space-y-2",children:[n.jsx("h2",{className:"text-2xl font-bold text-white h-8 flex items-center",children:(r==null?void 0:r.title)||"Продай свое авто"}),n.jsx("p",{className:"text-base leading-relaxed opacity-90 text-white h-12 flex items-center",children:(r==null?void 0:r.description)||"Получи максимальную цену за свой автомобиль на нашем аукционе"}),n.jsx("div",{className:"mt-4",children:n.jsxs("span",{className:"px-4 py-2 rounded-full text-sm font-bold hover:opacity-90 transition-all duration-300 cursor-pointer inline-flex items-center gap-1 min-w-[180px] justify-center",style:{backgroundColor:"#ffffff",color:"#059669"},children:[n.jsx(vn,{className:"w-4 h-4"}),(r==null?void 0:r.buttonText)||"Начать продажу"]})})]})]})}var Ih="Dialog",[Bj,Vj]=zt(Ih),[BT,wn]=Bj(Ih),qj=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=u.useRef(null),c=u.useRef(null),[d=!1,f]=tr({prop:s,defaultProp:a,onChange:i});return n.jsx(BT,{scope:t,triggerRef:l,contentRef:c,contentId:$r(),titleId:$r(),descriptionId:$r(),open:d,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(m=>!m),[f]),modal:o,children:r})};qj.displayName=Ih;var Kj="DialogTrigger",Qj=u.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=wn(Kj,r),i=Re(t,a.triggerRef);return n.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Dh(a.open),...s,ref:i,onClick:ae(e.onClick,a.onOpenToggle)})});Qj.displayName=Kj;var Rh="DialogPortal",[VT,Wj]=Bj(Rh,{forceMount:void 0}),Hj=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=wn(Rh,t);return n.jsx(VT,{scope:t,forceMount:r,children:u.Children.map(s,o=>n.jsx(ir,{present:r||i.open,children:n.jsx(pc,{asChild:!0,container:a,children:o})}))})};Hj.displayName=Rh;var Wl="DialogOverlay",Gj=u.forwardRef((e,t)=>{const r=Wj(Wl,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=wn(Wl,e.__scopeDialog);return i.modal?n.jsx(ir,{present:s||i.open,children:n.jsx(KT,{...a,ref:t})}):null});Gj.displayName=Wl;var qT=Qa("DialogOverlay.RemoveScroll"),KT=u.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=wn(Wl,r);return n.jsx(Th,{as:qT,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(de.div,{"data-state":Dh(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Ds="DialogContent",Xj=u.forwardRef((e,t)=>{const r=Wj(Ds,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=wn(Ds,e.__scopeDialog);return n.jsx(ir,{present:s||i.open,children:i.modal?n.jsx(QT,{...a,ref:t}):n.jsx(WT,{...a,ref:t})})});Xj.displayName=Ds;var QT=u.forwardRef((e,t)=>{const r=wn(Ds,e.__scopeDialog),s=u.useRef(null),a=Re(t,r.contentRef,s);return u.useEffect(()=>{const i=s.current;if(i)return Xy(i)},[]),n.jsx(Jj,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ae(e.onFocusOutside,i=>i.preventDefault())})}),WT=u.forwardRef((e,t)=>{const r=wn(Ds,e.__scopeDialog),s=u.useRef(!1),a=u.useRef(!1);return n.jsx(Jj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Jj=u.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=wn(Ds,r),c=u.useRef(null),d=Re(t,c);return Wy(),n.jsxs(n.Fragment,{children:[n.jsx(Eh,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(fo,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Dh(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(GT,{titleId:l.titleId}),n.jsx(JT,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ah="DialogTitle",Yj=u.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=wn(Ah,r);return n.jsx(de.h2,{id:a.titleId,...s,ref:t})});Yj.displayName=Ah;var Zj="DialogDescription",eb=u.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=wn(Zj,r);return n.jsx(de.p,{id:a.descriptionId,...s,ref:t})});eb.displayName=Zj;var tb="DialogClose",nb=u.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=wn(tb,r);return n.jsx(de.button,{type:"button",...s,ref:t,onClick:ae(e.onClick,()=>a.onOpenChange(!1))})});nb.displayName=tb;function Dh(e){return e?"open":"closed"}var rb="DialogTitleWarning",[HT,sb]=zS(rb,{contentName:Ds,titleName:Ah,docsSlug:"dialog"}),GT=({titleId:e})=>{const t=sb(rb),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},XT="DialogDescriptionWarning",JT=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sb(XT).contentName}}.`;return u.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},ab=qj,YT=Qj,ib=Hj,Mh=Gj,Fh=Xj,Oh=Yj,Lh=eb,ob=nb;const Ms=ab,ZT=ib,lb=u.forwardRef(({className:e,...t},r)=>n.jsx(Mh,{ref:r,className:le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));lb.displayName=Mh.displayName;const Wr=u.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(ZT,{children:[n.jsx(lb,{}),n.jsx(Fh,{ref:s,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:t})]}));Wr.displayName=Fh.displayName;const Hr=({className:e,...t})=>n.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Hr.displayName="DialogHeader";const cb=({className:e,...t})=>n.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});cb.displayName="DialogFooter";const Gr=u.forwardRef(({className:e,...t},r)=>n.jsx(Oh,{ref:r,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));Gr.displayName=Oh.displayName;const ai=u.forwardRef(({className:e,...t},r)=>n.jsx(Lh,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));ai.displayName=Lh.displayName;function e3({isOpen:e,onClose:t}){const{toast:r}=qe(),{user:s}=it(),[a,i]=u.useState(!1),o=async()=>{if(s!=null&&s.phoneNumber)try{await navigator.clipboard.writeText((s==null?void 0:s.phoneNumber)||""),i(!0),r({title:"Скопировано!",description:"Ваш номер телефона скопирован в буфер обмена"}),setTimeout(()=>i(!1),2e3)}catch{const x=r({title:"Ошибка",description:"Не удалось скопировать номер",variant:"destructive",duration:1e3,action:void 0});setTimeout(()=>{x.dismiss()},1e3)}},l=`Присоединяйтесь к AUTOBID.TJ - лучшей площадке автомобильных аукционов! При регистрации укажите мой номер телефона: ${(s==null?void 0:s.phoneNumber)||"номер не указан"}`,c=async()=>{if(navigator.share)try{await navigator.share({title:"AUTOBID.TJ - Реферальная программа",text:l})}catch{o()}else o()},d=m=>{m||t()},f=m=>{m&&(m.preventDefault(),m.stopPropagation()),t()};return n.jsx(Ms,{open:e,onOpenChange:d,children:n.jsxs(Wr,{className:"max-w-md mx-auto z-50",children:[n.jsxs("button",{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 z-50 bg-white hover:bg-gray-100 p-1 cursor-pointer",onClick:f,onMouseDown:m=>{m.preventDefault(),m.stopPropagation()},type:"button",style:{pointerEvents:"auto"},children:[n.jsx(_n,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"}),n.jsx("span",{className:"sr-only",children:"Close"})]}),n.jsxs(Hr,{children:[n.jsxs(Gr,{className:"text-center text-xl font-bold text-green-600 flex items-center justify-center gap-2",children:[n.jsx(Wa,{className:"w-6 h-6"}),"Пригласи друга получи 1000 сомони с первой покупки"]}),n.jsx(ai,{className:"text-center text-gray-600",children:"Реферальная программа AUTOBID.TJ"})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[n.jsx("h3",{className:"font-semibold text-green-800 mb-3",children:"Как это работает:"}),n.jsxs("div",{className:"space-y-2 text-green-700 text-sm leading-relaxed",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"font-bold text-green-600",children:"1."}),n.jsx("span",{children:"Вы приглашаете друга через реферальную ссылку"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"font-bold text-green-600",children:"2."}),n.jsx("span",{children:"Друг регистрируется и покупает свою первую машину на аукционе"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"font-bold text-green-600",children:"3."}),n.jsx("span",{children:"После успешной покупки вы получаете 1000 сомони на ваш счет"})]})]}),n.jsxs("div",{className:"mt-4 pt-3 border-t border-green-200",children:[n.jsxs("p",{className:"text-green-700 text-sm",children:[n.jsx("strong",{children:"Как друг должен регистрироваться:"}),n.jsx("br",{}),"Попросите Вашего друга кликнуть при входе в приложение по промокоду и написать ваш номер телефона"]}),n.jsx("p",{className:"text-green-600 text-xs mt-2 font-medium",children:"⚠️ Максимум 5 человек можно пригласить"})]})]}),(s==null?void 0:s.phoneNumber)&&n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(jc,{className:"w-5 h-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Ваш номер для друзей:"}),n.jsx("p",{className:"font-mono font-bold text-lg",children:s==null?void 0:s.phoneNumber})]})]}),n.jsxs(L,{variant:"outline",size:"sm",onClick:m=>{m.preventDefault(),m.stopPropagation(),o()},className:`${a?"bg-green-100 border-green-300":""}`,children:[n.jsx(DC,{className:"w-4 h-4"}),a?"Скопировано!":"Копировать"]})]})}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs(L,{onClick:m=>{m.preventDefault(),m.stopPropagation(),c()},className:"w-full bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Поделиться приглашением"]}),n.jsx(L,{variant:"outline",onClick:m=>{m.preventDefault(),m.stopPropagation(),f()},className:"w-full",type:"button",children:"Понятно"})]}),n.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Бонус начисляется после первой успешной покупки приглашенного друга"})]})]})})}var db="AlertDialog",[t3,cP]=zt(db,[Vj]),or=Vj(),ub=e=>{const{__scopeAlertDialog:t,...r}=e,s=or(t);return n.jsx(ab,{...s,...r,modal:!0})};ub.displayName=db;var n3="AlertDialogTrigger",mb=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=or(r);return n.jsx(YT,{...a,...s,ref:t})});mb.displayName=n3;var r3="AlertDialogPortal",hb=e=>{const{__scopeAlertDialog:t,...r}=e,s=or(t);return n.jsx(ib,{...s,...r})};hb.displayName=r3;var s3="AlertDialogOverlay",fb=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=or(r);return n.jsx(Mh,{...a,...s,ref:t})});fb.displayName=s3;var Sa="AlertDialogContent",[a3,i3]=t3(Sa),o3=yv("AlertDialogContent"),pb=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=or(r),o=u.useRef(null),l=Re(t,o),c=u.useRef(null);return n.jsx(HT,{contentName:Sa,titleName:xb,docsSlug:"alert-dialog",children:n.jsx(a3,{scope:r,cancelRef:c,children:n.jsxs(Fh,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ae(a.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(o3,{children:s}),n.jsx(c3,{contentRef:o})]})})})});pb.displayName=Sa;var xb="AlertDialogTitle",gb=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=or(r);return n.jsx(Oh,{...a,...s,ref:t})});gb.displayName=xb;var vb="AlertDialogDescription",yb=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=or(r);return n.jsx(Lh,{...a,...s,ref:t})});yb.displayName=vb;var l3="AlertDialogAction",jb=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=or(r);return n.jsx(ob,{...a,...s,ref:t})});jb.displayName=l3;var bb="AlertDialogCancel",wb=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=i3(bb,r),i=or(r),o=Re(t,a);return n.jsx(ob,{...i,...s,ref:o})});wb.displayName=bb;var c3=({contentRef:e})=>{const t=`\`${Sa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Sa}\` by passing a \`${vb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Sa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},d3=ub,u3=mb,m3=hb,Nb=fb,Sb=pb,Cb=jb,kb=wb,Eb=gb,Tb=yb;const Fs=d3,Hl=u3,h3=m3,Pb=u.forwardRef(({className:e,...t},r)=>n.jsx(Nb,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Pb.displayName=Nb.displayName;const Xr=u.forwardRef(({className:e,...t},r)=>n.jsxs(h3,{children:[n.jsx(Pb,{}),n.jsx(Sb,{ref:r,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Xr.displayName=Sb.displayName;const Jr=({className:e,...t})=>n.jsx("div",{className:le("flex flex-col space-y-2 text-center sm:text-left",e),...t});Jr.displayName="AlertDialogHeader";const Yr=({className:e,...t})=>n.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Yr.displayName="AlertDialogFooter";const Zr=u.forwardRef(({className:e,...t},r)=>n.jsx(Eb,{ref:r,className:le("text-lg font-semibold",e),...t}));Zr.displayName=Eb.displayName;const es=u.forwardRef(({className:e,...t},r)=>n.jsx(Tb,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));es.displayName=Tb.displayName;const Os=u.forwardRef(({className:e,...t},r)=>n.jsx(Cb,{ref:r,className:le(kh(),e),...t}));Os.displayName=Cb.displayName;const Ls=u.forwardRef(({className:e,...t},r)=>n.jsx(kb,{ref:r,className:le(kh({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ls.displayName=kb.displayName;const lx=new Set;function f3(){const[e,t]=u.useState(0),[r,s]=u.useState(!1),[a,i]=u.useState(!1),[o,l]=u.useState(!1),[c,d]=u.useState(0),[,f]=He(),{data:m=[],isLoading:x}=xe({queryKey:["/api/advertisement-carousel"],staleTime:5*60*1e3,gcTime:10*60*1e3,refetchInterval:30*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1,retry:3,retryDelay:C=>Math.min(1e3*2**C,3e4)}),y=m.filter(C=>C.isActive).sort((C,M)=>C.order-M.order),b=y[e],p=(C,M)=>`/api/images/carousel/${C.id}/${M}`,j=C=>{const M=[p(C,"main")];return C.rotationImage1&&M.push(p(C,"rotation1")),C.rotationImage2&&M.push(p(C,"rotation2")),C.rotationImage3&&M.push(p(C,"rotation3")),C.rotationImage4&&M.push(p(C,"rotation4")),M},h=()=>{if(!b)return"";const C=j(b);return C[c%C.length]||p(b,"main")};console.log("🎠 Активные объявления карусели:",y.length),y.length>0&&y[0].imageUrl&&console.log("🔗 Загружаем изображение карусели через API:",p(y[0],"main")),u.useEffect(()=>{y.forEach(C=>{j(C).forEach(q=>{if(q&&!lx.has(q)){lx.add(q);const I=new Image;I.src=q,I.onload=()=>console.log(`✅ Предзагружено изображение карусели: ${q}`),I.onerror=()=>console.warn(`❌ Ошибка предзагрузки: ${q}`);const K=document.createElement("link");K.rel="preload",K.as="image",K.href=q,document.head.appendChild(K)}})})},[y]),u.useEffect(()=>{if(y.length<=1||r)return;const C=setInterval(()=>{t(M=>(M+1)%y.length)},5e3);return()=>clearInterval(C)},[y.length,r]),u.useEffect(()=>{if(!b||r)return;const C=j(b);if(C.length<=1)return;const M=Math.max(b.rotationInterval||8,8)*1e3,q=setInterval(()=>{d(I=>(I+1)%C.length)},M);return()=>clearInterval(q)},[b,r]),u.useEffect(()=>{d(0)},[e]);const v=C=>{t(C)},g=()=>{t(C=>(C+1)%y.length)},w=()=>{t(C=>(C-1+y.length)%y.length)},N=()=>{l(!0)},S=()=>{window.location.href="tel:+992903331332",l(!1)},E=()=>{window.open("https://wa.me/992903331332","_blank"),l(!1)},P=()=>{if(b!=null&&b.title.includes("друга")||b!=null&&b.title.includes("1000 Сомони")){i(!0);return}if(b!=null&&b.title.includes("помощь")||b!=null&&b.title.includes("Поддержка")){N();return}if(b!=null&&b.linkUrl){let C=b.linkUrl.trim();if(C.startsWith("tel:")){console.log("📞 Телефонная ссылка карусели:",C),window.location.href=C;return}if(C.startsWith("http")){console.log("🔗 Внешняя ссылка карусели:",C),window.open(C,"_blank");return}C.startsWith("/")||(C=`/${C}`),["/","/home","/auctions","/favorites","/sell","/bids","/profile","/notifications","/my-alerts","/user-data","/my-sales","/terms","/privacy","/login","/admin","/special-offers"].includes(C)?(console.log("🔗 Внутренняя навигация карусели:",C),f(C)):(console.log("❌ Неверный роут карусели:",C,"Перенаправляем на главную"),f("/"))}};return x?n.jsx("div",{className:"h-44 rounded-2xl animate-pulse bg-gray-200 dark:bg-gray-700"}):y.length===0?null:(b&&console.log("🖼️ Отображаем оптимизированное изображение:",h()),n.jsxs("div",{className:"relative h-44 rounded-2xl overflow-hidden cursor-pointer transition-all duration-300",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:P,children:[n.jsx("div",{className:"relative h-full",children:y.map((C,M)=>n.jsx("div",{className:`absolute inset-0 transition-all duration-500 ease-in-out ${M===e?"translate-x-0 opacity-100":M<e?"-translate-x-full opacity-0":"translate-x-full opacity-0"}`,children:n.jsxs("div",{className:"relative h-full p-6 text-white",children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl bg-cover bg-center bg-no-repeat transition-all duration-1000 ease-in-out opacity-100 scale-100",style:{backgroundImage:`linear-gradient(to bottom, rgba(0,0,0,0.2), rgba(0,0,0,0.6)), url('${h()}')`}}),n.jsx("div",{className:"absolute inset-0 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.2) 100%)"}}),n.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-center items-center text-center space-y-3",children:[n.jsx("h2",{className:"text-2xl font-bold drop-shadow-lg text-white text-center max-w-md leading-tight",children:C.title}),C.description&&n.jsx("p",{className:"text-base leading-relaxed opacity-95 drop-shadow-md max-w-md text-white text-center",children:C.description}),C.linkUrl&&n.jsx("div",{className:"mt-4",children:n.jsx("span",{className:"px-4 py-2 rounded-full text-sm font-bold hover:opacity-90 transition-all duration-300 cursor-pointer inline-flex items-center gap-1 min-w-[180px] justify-center shadow-lg hover:shadow-xl transform hover:scale-105 bg-white text-blue-600",children:C.buttonText})})]}),n.jsx("div",{className:"absolute top-4 right-4 w-12 h-12 rounded-full bg-white/10 blur-xl"}),n.jsx("div",{className:"absolute bottom-6 left-6 w-8 h-8 rounded-full bg-white/5 blur-lg"})]})},C.id))}),y.length>1&&n.jsxs(n.Fragment,{children:[n.jsx(L,{variant:"outline",size:"icon",className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 border-white/30 text-white opacity-0 hover:opacity-100 transition-all duration-300",onClick:C=>{C.stopPropagation(),w()},children:n.jsx(Hv,{className:"h-4 w-4"})}),n.jsx(L,{variant:"outline",size:"icon",className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 border-white/30 text-white opacity-0 hover:opacity-100 transition-all duration-300",onClick:C=>{C.stopPropagation(),g()},children:n.jsx(zl,{className:"h-4 w-4"})})]}),y.length>1&&n.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:y.map((C,M)=>n.jsx("button",{className:`w-3 h-3 rounded-full transition-colors ${M===e?"bg-white":"bg-white/50 hover:bg-white/70"}`,onClick:q=>{q.stopPropagation(),v(M)}},M))}),n.jsx(e3,{isOpen:a,onClose:()=>i(!1)}),n.jsx(Fs,{open:o,onOpenChange:C=>{C||l(!1)},children:n.jsxs(Xr,{className:"sm:max-w-[425px]",onClick:C=>C.stopPropagation(),children:[n.jsxs(Jr,{children:[n.jsx(Zr,{className:"text-center",children:"Свяжитесь с нами"}),n.jsx(es,{className:"text-center",children:"Выберите удобный способ связи с нашей службой поддержки"})]}),n.jsxs(Yr,{className:"flex flex-col gap-2",children:[n.jsxs(L,{onClick:S,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(jc,{className:"mr-2 h-4 w-4"}),"Позвонить"]}),n.jsxs(L,{onClick:E,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white",children:[n.jsx(Ns,{className:"mr-2 h-4 w-4"}),"WhatsApp"]}),n.jsxs(L,{onClick:C=>{C.preventDefault(),C.stopPropagation(),l(!1)},variant:"outline",className:"w-full",children:[n.jsx(_n,{className:"mr-2 h-4 w-4"}),"Отмена"]})]})]})})]}))}var Ib={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cx=kt.createContext&&kt.createContext(Ib),p3=["attr","size","title"];function x3(e,t){if(e==null)return{};var r=g3(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function g3(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Gl.apply(this,arguments)}function dx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Xl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dx(Object(r),!0).forEach(function(s){v3(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dx(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function v3(e,t,r){return t=y3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y3(e){var t=j3(e,"string");return typeof t=="symbol"?t:t+""}function j3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rb(e){return e&&e.map((t,r)=>kt.createElement(t.tag,Xl({key:r},t.attr),Rb(t.child)))}function b3(e){return t=>kt.createElement(w3,Gl({attr:Xl({},e.attr)},t),Rb(e.child))}function w3(e){var t=r=>{var{attr:s,size:a,title:i}=e,o=x3(e,p3),l=a||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),kt.createElement("svg",Gl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,o,{className:c,style:Xl(Xl({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&kt.createElement("title",null,i),e.children)};return cx!==void 0?kt.createElement(cx.Consumer,null,r=>t(r)):t(Ib)}function N3(e){return b3({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function S3({userId:e}){const[t,r]=u.useState(!1),s=Le();Tc();const[a,i]=u.useState(()=>{try{const h=localStorage.getItem(`deletedNotifications_${e}`);return h?new Set(JSON.parse(h)):new Set}catch{return console.log("Failed to load deleted notifications from localStorage"),new Set}}),o=h=>{i(h);try{const v=[];h.forEach(w=>v.push(w));const g=`deletedNotifications_${e}`;localStorage.setItem(g,JSON.stringify(v))}catch(v){console.warn("Failed to save deleted notifications to localStorage:",v)}},l=()=>{const h=!t;r(h),h&&!d.length&&s.refetchQueries({queryKey:[`/api/notifications/${e}`]})},[,c]=He(),{data:d=[],isLoading:f}=xe({queryKey:[`/api/notifications/${e}`],queryFn:async()=>{const h=await fetch(`/api/notifications/${e}`);if(!h.ok)throw new Error("Failed to fetch notifications");return await h.json()},enabled:!0,refetchInterval:30*1e3,staleTime:2*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!0,gcTime:5*60*1e3}),m=d.filter(h=>h.type==="alert_created"?!1:!a.has(h.id)),x=Ne({mutationFn:async h=>{const v=await fetch(`/api/notifications/${h}/read`,{method:"PATCH"});if(!v.ok)throw new Error("Failed to mark notification as read");return v.json()},onSuccess:()=>{s.invalidateQueries({queryKey:[`/api/notifications/${e}`]})}}),y=Ne({mutationFn:async h=>{const v=await fetch(`/api/notifications/${h}`,{method:"DELETE"});if(!v.ok&&v.status!==404)throw new Error(`Failed to delete notification: ${v.status}`);return h},onMutate:async h=>{const v=new Set(a).add(h);o(v)},onSuccess:()=>{},onError:(h,v)=>{console.error("Failed to delete notification:",h);const g=new Set(a);g.delete(v),o(g)}}),b=m.filter(h=>!h.isRead).length,p=h=>{h.isRead||x.mutate(h.id),(h.type==="car_found"||h.type==="bid_outbid")&&h.listingId&&(r(!1),c(`/auction/${h.listingId}`))},j=h=>new Date(h).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:l,className:"relative p-2 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white transition-colors",children:[n.jsx(ht,{className:"w-6 h-6"}),b>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:b>9?"9+":b})]}),t&&n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Уведомления"}),n.jsx("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:n.jsx(_n,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:f?n.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"Загрузка..."}):m.length===0?n.jsxs("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:[n.jsx(Ze,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm mb-1",children:"Нет новых уведомлений"}),n.jsx("p",{className:"text-xs",children:'Создайте поисковые запросы в разделе "Аукционы" для получения уведомлений о подходящих машинах'})]}):m.map(h=>n.jsx("div",{className:`p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-300 opacity-100 transform translate-y-0 ${h.isRead?"":"bg-blue-50 dark:bg-blue-900/20"}`,style:{animation:"fadeIn 0.2s ease-in-out"},children:n.jsxs("div",{className:"flex items-start gap-3",children:[h.type==="car_found"&&n.jsx(Ze,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),h.type==="bid_outbid"&&n.jsx(uh,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),h.type!=="car_found"&&h.type!=="bid_outbid"&&n.jsx(ht,{className:"w-5 h-5 text-gray-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>p(h),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:`text-sm font-medium ${h.isRead?"text-gray-900 dark:text-gray-100":"text-blue-900 dark:text-blue-100"}`,children:h.title}),!h.isRead&&n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),n.jsx("p",{className:`text-sm mt-1 ${h.isRead?"text-gray-600 dark:text-gray-400":"text-blue-700 dark:text-blue-200"}`,children:h.message}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:j(h.createdAt)})]}),n.jsx("button",{onClick:v=>{v.stopPropagation(),v.preventDefault(),console.log("🗑️ Удаление уведомления:",h.id),y.mutate(h.id)},disabled:y.isPending,className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex-shrink-0 z-10",title:"Удалить уведомление",children:n.jsx($t,{className:"w-4 h-4"})})]})},h.id))})]})]})}function ux({title:e,showBack:t=!1,backPath:r="/",showNotifications:s=!0}){var y,b;const[a,i]=He(),{user:o}=it(),l=()=>o!=null&&o.phoneNumber&&{"+992 (90) 333-13-32":4,"+992 (11) 111-11-11":3,"+992 (22) 222-22-22":18,"+992 (41) 111-11-11":15,"+992 (88) 888-88-88":17,"+992 (88) 747-77-00":19,"+992 (93) 805-88-33":20,"+992 (88) 603-01-01":21,"+992 (98) 766-77-39":22,"+992903331332":4,"+992111111111":3,"+992222222222":18,"+992411111111":15,"+992888888888":17,"+992886030101":21,"+992987667739":22,887477700:19,938058833:20}[(o==null?void 0:o.phoneNumber)||""]||18,c=(()=>{try{return l()}catch(p){return console.log("🔇 Ошибка получения userId в TopHeader подавлена:",p),18}})(),d=()=>{!o||!o.phoneNumber?i("/login"):i("/messages")},f=()=>{if(e)return e;switch(a){case"/":case"/home":return"AUTOBID.TJ";case"/auctions":return"Аукционы";case"/favorites":return"Избранное";case"/sell":return"Продать автомобиль";case"/bids":return"Мои ставки";case"/profile":return"Профиль";case"/notifications":return"Уведомления";case"/messages":return"Сообщения";default:return"AUTOBID.TJ"}},m=()=>!!(!s||a.startsWith("/auction/")||a==="/sell"),{data:x}=xe({queryKey:[`/api/messages/unread-count/${c}`],refetchInterval:!1,staleTime:6e4,gcTime:3e5,enabled:!m()&&!!c,refetchOnWindowFocus:!1});return n.jsxs("header",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[t&&n.jsx(Ln,{href:r,children:n.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:n.jsx(Pt,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})}),!m()&&n.jsx("button",{onClick:()=>window.open("https://wa.me/992903331332","_blank"),className:"p-2 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition-colors",title:"Связаться через WhatsApp",children:n.jsx(N3,{className:"w-6 h-6"})})]}),n.jsxs("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white absolute left-1/2 transform -translate-x-1/2 flex items-center gap-2",children:[f()==="AUTOBID.TJ"&&n.jsx(uh,{className:"w-5 h-5"}),f()]}),n.jsxs("div",{className:"flex items-center gap-2",children:[(((y=o==null?void 0:o.email)==null?void 0:y.includes("992903331332"))||((b=o==null?void 0:o.phoneNumber)==null?void 0:b.includes("333-13-32")))&&n.jsx(Ln,{href:"/admin",children:n.jsx("button",{className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 dark:text-gray-400 dark:hover:text-blue-400 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Админ панель",children:n.jsx(eo,{className:"w-5 h-5"})})}),!m()&&n.jsxs("button",{onClick:d,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 dark:text-gray-400 dark:hover:text-blue-400 dark:hover:bg-blue-900/20 rounded-lg transition-colors relative",title:"Сообщения",children:[n.jsx(Ns,{className:"w-5 h-5"}),(x==null?void 0:x.count)>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:x.count>9?"9+":x.count})]}),!m()&&n.jsx(S3,{userId:c})]})]})}function mx(){const[e,t]=u.useState("");He(),it();const{data:r,isLoading:s}=xe({queryKey:["/api/advertisement-carousel"],staleTime:30*60*1e3,gcTime:60*60*1e3}),{data:a,isLoading:i}=xe({queryKey:["/api/listings"],staleTime:10*1e3,gcTime:2*60*1e3}),o=i,l=c=>{c.preventDefault()};return o?n.jsxs("div",{className:"min-h-screen bg-gray-50 main-content",children:[n.jsx(ux,{}),n.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[n.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:n.jsx("div",{className:"h-12 bg-gray-200 rounded-lg animate-pulse"})}),n.jsx("div",{className:"h-44 rounded-2xl bg-gray-200 animate-pulse"}),n.jsx("div",{className:"h-44 rounded-2xl bg-gray-200 animate-pulse"}),n.jsx("div",{className:"h-16 rounded-xl bg-gray-200 animate-pulse"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"h-6 w-48 bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(c=>n.jsx("div",{className:"h-96 bg-gray-200 rounded-xl animate-pulse"},c))})]})]})]}):n.jsxs("div",{className:"min-h-screen bg-gray-50 main-content",children:[n.jsx(ux,{}),n.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[n.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:n.jsx("form",{onSubmit:l,className:"relative",children:n.jsxs("div",{className:"relative",children:[n.jsx(mh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx(G,{type:"text",placeholder:"Напишите номер лота или название автомобиля",value:e,onChange:c=>t(c.target.value),className:"pl-10 pr-4 py-3 text-base border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]})})}),n.jsx(UT,{}),s?n.jsx("div",{className:"h-44 rounded-2xl bg-gray-200 animate-pulse"}):n.jsx(f3,{}),n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ha,{className:"w-6 h-6 text-green-600"}),n.jsx("div",{className:"flex-1",children:n.jsx("h3",{className:"font-bold text-green-800 text-lg",children:"Безопасные сделки"})})]})}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Активные аукционы"}),n.jsx(tm,{searchQuery:e})]}),n.jsx("div",{className:"h-24"})]})]})}function hx({searchFilters:e={}}){const[t,r]=u.useState(!1),s=Le(),{toast:a}=qe(),{user:i}=it(),o=(i==null?void 0:i.userId)||3,l=Ne({mutationFn:async()=>{const d=await fetch("/api/car-alerts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o,make:e.brand||null,model:e.model||null,minPrice:e.priceFrom||null,maxPrice:e.priceTo||null,minYear:e.yearFrom?parseInt(e.yearFrom):null,maxYear:e.yearTo?parseInt(e.yearTo):null})});if(!d.ok)throw new Error("Ошибка создания уведомления");return d.json()},onSuccess:async()=>{s.removeQueries({queryKey:["/api/car-alerts",o]}),s.removeQueries({queryKey:["/api/car-alerts"]}),setTimeout(()=>{s.removeQueries({queryKey:["/api/car-alerts",o]})},100),r(!0);try{const d=[e.brand&&`марка: ${e.brand}`,e.model&&`модель: ${e.model}`,e.yearFrom&&`год от: ${e.yearFrom}`,e.yearTo&&`год до: ${e.yearTo}`,e.priceFrom&&`цена от: $${e.priceFrom}`,e.priceTo&&`цена до: $${e.priceTo}`].filter(Boolean).join(", ");await fetch("/api/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o,title:"Создан поисковый запрос",message:`Вы будете получать уведомления о машинах: ${d}`,type:"alert_created",isRead:!1})})}catch(d){console.error("Ошибка создания уведомления:",d)}a({title:"Поисковый запрос сохранён",description:"Мы сообщим вам в колокольчике о новых автомобилях по вашим параметрам",duration:1e3}),setTimeout(()=>r(!1),2e3)},onError:()=>{a({title:"Ошибка",description:"Не удалось создать уведомление. Попробуйте снова.",variant:"destructive",duration:2e3})}}),c=()=>{l.mutate()};return t?n.jsxs(L,{disabled:!0,className:"bg-green-600 text-white",children:[n.jsx(yc,{className:"h-4 w-4 mr-2"}),"Уведомление создано"]}):n.jsxs(L,{onClick:c,disabled:l.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[n.jsx(ht,{className:"h-4 w-4 mr-2"}),l.isPending?"Создаем...":"Уведомить когда появится"]})}const _h={BMW:["1 Series","2 Series","3 Series","4 Series","5 Series","6 Series","7 Series","8 Series","X1","X2","X3","X4","X5","X6","X7","XM","Z3","Z4","Z8","i3","i4","i7","iX","iX1","iX3","M1","M2","M3","M4","M5","M6","M8","1M","X3 M","X4 M","X5 M","X6 M"],"Mercedes-Benz":["A-Class","B-Class","C-Class","CLA","CLS","E-Class","S-Class","G-Class","GLA","GLB","GLC","GLE","GLS","SL","SLC","SLK","AMG GT","EQS","EQC","EQA","EQB","EQE","EQV","Maybach S-Class","Maybach GLS","AMG A35","AMG A45","AMG C43","AMG C63","AMG E53","AMG E63","AMG GLA35","AMG GLA45","AMG GLC43","AMG GLC63","AMG GLE53","AMG GLE63","AMG S63","AMG G63"],Audi:["A1","A3","A4","A5","A6","A7","A8","Q2","Q3","Q4 e-tron","Q5","Q7","Q8","TT","TTS","TT RS","R8","RS3","RS4","RS5","RS6","RS7","e-tron","e-tron GT","S1","S3","S4","S5","S6","S7","S8","SQ2","SQ3","SQ5","SQ7","SQ8","Q5 Sportback","Q8 e-tron"],Toyota:["Corolla","Corolla Cross","Camry","Prius","Prius Prime","RAV4","Highlander","4Runner","Tacoma","Tundra","Sienna","Avalon","C-HR","Venza","Supra","86","Yaris","Yaris Cross","Land Cruiser","Sequoia","Prado","Hilux","Fortuner","Innova","Alphard","Vellfire","Noah","Voxy","Harrier","Crown"],Honda:["Civic","Civic Type R","Accord","CR-V","HR-V","Pilot","Passport","Ridgeline","Odyssey","Insight","Fit","CR-V Hybrid","Accord Hybrid","Clarity","Element","S2000","NSX","City","Jazz","Freed","Vezel","Stepwgn","Shuttle"],Ford:["Fiesta","Focus","Focus ST","Focus RS","Mondeo","Mustang","Mustang Mach-E","F-150","F-250","F-350","Explorer","Escape","Edge","Expedition","Ranger","Bronco","Bronco Sport","Maverick","EcoSport","Kuga","Puma","Galaxy","S-Max","Transit","Fusion","Taurus","GT"],Volkswagen:["Golf","Golf GTI","Golf R","Polo","Polo GTI","Passat","Passat CC","Jetta","Jetta GLI","Tiguan","Tiguan R","Touareg","Atlas","Atlas Cross Sport","Arteon","Beetle","Scirocco","ID.3","ID.4","ID.5","ID.6","ID.7","ID. Buzz","Up!","T-Cross","T-Roc","Sharan","Touran","Caddy"],Nissan:["Sentra","Altima","Maxima","Rogue","Rogue Sport","Murano","Pathfinder","Armada","Frontier","Titan","Titan XD","370Z","400Z","GT-R","Kicks","Versa","Leaf","Ariya","Juke","Qashqai","X-Trail","Patrol","Navara","Note","Micra","Skyline","Silvia"],Hyundai:["Elantra","Elantra N","Sonata","Sonata N Line","Tucson","Santa Fe","Palisade","Kona","Kona Electric","Venue","Ioniq","Ioniq 5","Ioniq 6","Veloster","Veloster N","Accent","i10","i20","i30","i30 N","i40","Creta","Alcazar","Verna","Xcent","Santa Cruz"],Kia:["Rio","Forte","Forte GT","Optima","K5","Stinger","Soul","Soul EV","Seltos","Sportage","Sorento","Telluride","Carnival","EV6","EV9","Niro","Niro EV","Cadenza","Picanto","Ceed","Proceed","XCeed","Mohave","Carens","Venga","Cerato"],Lexus:["IS","IS F","ES","ES F Sport","GS","GS F","LS","LS F Sport","UX","NX","NX F Sport","RX","RX F Sport","GX","LX","LC","LC F","RC","RC F","CT","HS","LFA","SC","LS 430","GS 300"],Infiniti:["Q50","Q50 Red Sport","Q60","Q60 Red Sport","Q70","QX30","QX50","QX60","QX80","QX55","G35","G37","M35","M37","M45","M56","FX35","FX37","FX45","FX50","EX35","EX37"],Acura:["ILX","TLX","TLX Type S","RLX","RDX","MDX","MDX Type S","NSX","Integra","Integra Type S","TSX","TL","RL","RSX","Legend","Vigor","CL","ZDX"],Cadillac:["ATS","ATS-V","CTS","CTS-V","CT4","CT4-V","CT5","CT5-V","XT4","XT5","XT6","Escalade","Escalade ESV","Eldorado","DeVille","STS","DTS","XLR","SRX","ELR","Lyriq"],Chevrolet:["Spark","Sonic","Cruze","Malibu","Impala","Camaro","Camaro SS","Camaro ZL1","Corvette","Corvette Z06","Corvette ZR1","Trax","Equinox","Blazer","Traverse","Tahoe","Suburban","Silverado 1500","Silverado 2500HD","Silverado 3500HD","Colorado","Express","Bolt EV","Bolt EUV","Avalanche","S-10","SSR"],Mazda:["Mazda2","Mazda3","Mazda3 MPS","Mazda6","Mazda6 MPS","CX-3","CX-30","CX-5","CX-7","CX-9","CX-50","CX-60","CX-70","CX-90","MX-5 Miata","MX-5 RF","MX-30","RX-7","RX-8","Tribute","B-Series","MPV","Premacy","Demio"],Subaru:["Impreza","Impreza WRX","Legacy","Legacy GT","Outback","Outback XT","Forester","Forester XT","Ascent","WRX","WRX STI","BRZ","Crosstrek","XV","Tribeca","Baja","SVX","Solterra"],Mitsubishi:["Mirage","Lancer","Lancer Evolution","Eclipse","Eclipse Cross","Outlander","Outlander PHEV","Pajero","Pajero Sport","ASX","L200","Triton","Galant","Diamante","3000GT","Montero","Endeavor","Raider"],Volvo:["S60","S60 Polestar","S90","S90 Recharge","V60","V60 Polestar","V90","V90 Cross Country","XC40","XC40 Recharge","XC60","XC60 Recharge","XC90","XC90 Recharge","C40","EX30","EX90","S40","S80","V40","V50","V70","850","940","960","240","740"],Jaguar:["XE","XE SV Project 8","XF","XF Sportbrake","XJ","XJR","F-Pace","F-Pace SVR","E-Pace","I-Pace","F-Type","F-Type R","F-Type SVR","XK","XKR","S-Type","X-Type","XJS"],"Land Rover":["Defender","Defender 90","Defender 110","Defender 130","Discovery","Discovery Sport","Discovery 3","Discovery 4","Range Rover","Range Rover Sport","Range Rover Sport SVR","Range Rover Velar","Range Rover Evoque","Range Rover Autobiography","Freelander","LR2","LR3","LR4"],Porsche:["911","911 Turbo","911 GT3","911 GT2 RS","911 Carrera","718 Boxster","718 Cayman","718 Spyder","718 GT4","Panamera","Panamera Turbo","Panamera GTS","Cayenne","Cayenne Turbo","Cayenne GTS","Macan","Macan GTS","Macan Turbo","Taycan","Taycan Turbo","Taycan Cross Turismo","Carrera GT","918 Spyder","Boxster","Cayman"],Tesla:["Model S","Model S Plaid","Model 3","Model 3 Performance","Model X","Model X Plaid","Model Y","Model Y Performance","Cybertruck","Roadster","Semi"],Lada:["Granta","Granta Sport","Vesta","Vesta SW","Vesta Cross","Largus","Largus Cross","XRAY","XRAY Cross","Niva","Niva Travel","Niva Urban","Kalina","Priora","2107","2110","2114"],ВАЗ:["2101","2102","2103","2104","2105","2106","2107","2108","2109","2110","2111","2112","2113","2114","2115","Нива","Калина","Приора","Гранта"],ГАЗ:["Волга","3110","31105","3102","2410","Газель","Соболь","Hunter"],УАЗ:["Patriot","Hunter","3909","452","Буханка","3163","Pickup"],Genesis:["G70","G80","G90","GV60","GV70","GV80","Electrified G80","Electrified GV70"],"Alfa Romeo":["Giulia","Stelvio","Giulietta","4C","Tonale","Brera","159","Spider"],Fiat:["500","Panda","Tipo","500X","500L","Ducato","Doblo","Qubo"],Jeep:["Wrangler","Grand Cherokee","Cherokee","Compass","Renegade","Gladiator","Avenger"],Dodge:["Charger","Challenger","Durango","Journey","Grand Caravan","Ram 1500","Ram 2500"],Chrysler:["300","Pacifica","Voyager","Sebring","PT Cruiser"],Buick:["Encore","Envision","Enclave","Regal","LaCrosse","Verano"],GMC:["Sierra","Canyon","Acadia","Terrain","Yukon","Savana"],Lincoln:["Navigator","Aviator","Corsair","Nautilus","MKZ","Continental"],Ram:["1500","2500","3500","ProMaster","ProMaster City"],Saab:["9-3","9-5","900","9000","99","96"],Skoda:["Octavia","Octavia RS","Superb","Superb Combi","Fabia","Fabia Monte Carlo","Kodiaq","Kodiaq RS","Karoq","Kamiq","Scala","Enyaq","Citigo","Rapid","Rapid Spaceback","Yeti"],SEAT:["Leon","Leon Cupra","Leon ST","Ibiza","Ibiza Cupra","Arona","Ateca","Ateca Cupra","Tarraco","Alhambra","Mii","Toledo","Altea","Exeo","Cordoba"],Peugeot:["208","208 GTI","308","308 GTI","508","508 PSE","2008","3008","3008 GT","5008","Partner","Boxer","e-208","e-2008","e-308","107","206","207","307","407","607","RCZ","Rifter","Traveller","Expert"],Citroen:["C3","C3 Aircross","C4","C4 Cactus","C4 Picasso","C5","C5 Aircross","C1","C2","C6","C8","Berlingo","Jumper","Jumpy","DS3","DS4","DS5","Xsara","Xantia","XM","2CV","Saxo","AX"],Renault:["Clio","Clio RS","Megane","Megane RS","Scenic","Grand Scenic","Captur","Kadjar","Koleos","Talisman","Zoe","Twingo","Kangoo","Master","Trafic","Espace","Vel Satis","Laguna","Symbol","Logan","Sandero","Duster"],Dacia:["Duster","Logan","Sandero","Spring","Jogger","Lodgy"],Opel:["Corsa","Corsa OPC","Astra","Astra OPC","Astra GTC","Insignia","Insignia OPC","Crossland","Grandland","Grandland X","Mokka","Mokka X","Vivaro","Zafira","Zafira Tourer","Vectra","Omega","Kadett","Ascona","Manta","Antara","Meriva","Agila","Tigra","Calibra","Speedster","GT","Combo","Movano"],Smart:["Fortwo","Fortwo Cabrio","Fortwo Brabus","Forfour","Forfour Brabus","EQfortwo","EQforfour","Roadster","Roadster Brabus","Crossblade","City-Coupe"],Mini:["Cooper","Cooper S","Cooper SE","John Cooper Works","Countryman","Countryman S","Countryman JCW","Clubman","Clubman S","Clubman JCW","Convertible","Convertible S","Electric","Paceman","Coupe","Roadster"],"Rolls-Royce":["Phantom","Ghost","Wraith","Dawn","Cullinan","Spectre"],Bentley:["Continental","Flying Spur","Bentayga","Mulsanne"],Maserati:["Ghibli","Quattroporte","Levante","GranTurismo","GranCabrio","MC20"],Ferrari:["488","F8","SF90","Roma","Portofino","812","LaFerrari","296"],Lamborghini:["Huracan","Aventador","Urus","Revuelto","Countach"],McLaren:["570S","720S","765LT","Artura","GT","P1"],"Aston Martin":["Vantage","DB11","DBS","DBX","Valkyrie"],Lotus:["Evora","Elise","Exige","Emira","Evija"],Suzuki:["Swift","Vitara","S-Cross","Ignis","Baleno","Jimny","Alto"],Isuzu:["D-Max","MU-X","NPR","FRR","Trooper"],Daihatsu:["Terios","Sirion","Materia","Copen","Move"],Geely:["Atlas","Coolray","Emgrand","GC9","Tugella","Monjaro","Galaxy","Xingyue","Xingyue L","Boyue","Binyue"],Chery:["Tiggo 7","Tiggo 8","Tiggo 4","Tiggo 5","Arrizo 5","Arrizo 6","Arrizo 7","QQ","QQ Ice Cream","Bonus","CrossEastar"],BYD:["Han","Tang","Song","Song Plus","Qin","Qin Plus","Yuan","E6","F3","Atto 3","Seal","Dolphin","Destroyer 05"],"Great Wall":["Hover","Wingle","Sailor","Peri","Voleex"],Haval:["H6","H9","F7","Jolion","Dargo"],JAC:["S3","S5","T6","iEV7S","Refine"],Lifan:["X60","Solano","Breez","Cebrium","Myway"],GAC:["Trumpchi GS3","Trumpchi GS4","Trumpchi GS5","Trumpchi GS8","Trumpchi GA4","Trumpchi GA6","Trumpchi GA8","Aion S","Aion V","Aion Y"],Neta:["Neta V","Neta U","Neta S","Neta GT"],Hongqi:["H5","H7","H9","HS5","HS7","E-HS3","E-HS9"],Dongfeng:["AX7","AX5","AX3","AX4","E70","Fengshen"],Weltmeister:["EX5","EX6","W6","M7"],Leapmotor:["C01","C11","T03","C10"],Changan:["CS75","CS55","CS35","Uni-T","Uni-K","Eado"],Zeekr:["001","009","X","007"],Wuling:["Hongguang Mini EV","Asta","Victory","Confero"],Xpeng:["P5","P7","G3","G6","G9","X9"],Skyworth:["EV6","HT-i"],Beijing:["X3","X5","X7","EU5","EU7","EX3","EX5"],FAW:["Besturn B30","Besturn B50","Besturn B70","Besturn X40","Besturn X80","Besturn T77"],Xiaomi:["SU7","SU7 Pro","SU7 Max"],Huawei:["Aito M5","Aito M7","Aito M9","Luxeed S7"],Avatr:["11","12","E11","E12"],LiXiang:["L7","L8","L9","One"],BAIC:["X25","X35","X55","X65","BJ40","BJ80"],Aiways:["U5","U6","U7"],Venucia:["T60","T70","T90","D60","e30"],Arcfox:["αT","αS","GT"],HiPhi:["X","Z","Y"],Roewe:["RX3","RX5","RX8","i5","i6","Marvel R"],"Rising Auto":["R7","F7"],Marvel:["R","X"],Voyah:["Free","Dreamer","Passion"],"Другие марки":["Другая модель"]},fx=Object.keys(_h);function Ab(e){return _h[e]||[]}function C3(){const[e]=He();u.useState(!1);const[t,r]=u.useState(0),s=Le(),[a,i]=u.useState({query:"",brand:"",model:"",yearFrom:"",yearTo:"",bodyType:"",fuelType:"",transmission:"",engineVolumeFrom:"",engineVolumeTo:"",mileageFrom:"",mileageTo:"",priceFrom:"",priceTo:"",customsCleared:""});u.useEffect(()=>{const w=new URLSearchParams(e.split("?")[1]||"").get("search");w&&i(N=>({...N,query:w}))},[e]);const o=new Date().getFullYear(),l=Array.from({length:o-1970+1},(g,w)=>(o-w).toString()),c=["Седан","Кроссовер","Внедорожник","Хэтчбек","Универсал","Минивен","Купе","Кабриолет","Пикап"],d=["Бензин","Дизель","Газ","Газ+Бензин","Гибрид","Электро"],f=["Автомат","Механика","Вариатор"],m=(g,w)=>{i(N=>{const S={...N,[g]:w};return g==="brand"&&(S.model=""),g==="yearFrom"&&w&&!N.yearTo&&(S.yearTo=o.toString()),S})},x=Object.values(a).some(g=>g!==""),{data:y=[],isLoading:b}=xe({queryKey:["/api/listings"],queryFn:async()=>{const g=await fetch("/api/listings");if(!g.ok)throw new Error("Failed to fetch auctions");return g.json()},staleTime:3e4}),p=y.filter(g=>{if(g.status!=="active")return!1;const w=g.endTime||g.auctionEndTime;if(w&&new Date(w)<=new Date)return!1;if(a.query.trim()){const N=a.query.toLowerCase();if(!`${g.make} ${g.model} ${g.lotNumber}`.toLowerCase().includes(N))return!1}return!(a.brand&&g.make.toLowerCase()!==a.brand.toLowerCase()||a.model&&g.model!==a.model||a.yearFrom&&g.year<parseInt(a.yearFrom)||a.yearTo&&g.year>parseInt(a.yearTo)||a.priceFrom&&parseFloat(g.startingPrice)<parseFloat(a.priceFrom)||a.priceTo&&parseFloat(g.startingPrice)>parseFloat(a.priceTo))}),j=b,h=()=>{s.invalidateQueries({queryKey:["/api/listings/search"]}),r(g=>g+1)},v=()=>{i({query:"",brand:"",model:"",yearFrom:"",yearTo:"",bodyType:"",fuelType:"",transmission:"",engineVolumeFrom:"",engineVolumeTo:"",mileageFrom:"",mileageTo:"",priceFrom:"",priceTo:"",customsCleared:""})};return n.jsxs("div",{className:"min-h-screen bg-neutral-50 main-content",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-neutral-200",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsx("h1",{className:"text-2xl font-bold text-neutral-900 text-center",children:"Найди свой будущий автомобиль"})})}),n.jsxs("main",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-6 shadow-sm",children:[x&&n.jsx("div",{className:"flex justify-end mb-6",children:n.jsxs(L,{variant:"ghost",onClick:v,className:"text-sm",children:[n.jsx(_n,{className:"w-4 h-4 mr-1"}),"Очистить все"]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Марка"}),n.jsxs(Ae,{value:a.brand,onValueChange:g=>m("brand",g),children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Выберите марку"})}),n.jsx(Ie,{children:fx.map(g=>n.jsx($,{value:g.toLowerCase(),children:g},g))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Модель"}),n.jsxs(Ae,{value:a.model,onValueChange:g=>m("model",g),disabled:!a.brand,children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:a.brand?"Выберите модель":"Сначала выберите марку"})}),n.jsx(Ie,{children:a.brand&&Ab(fx.find(g=>g.toLowerCase()===a.brand)||"").map(g=>n.jsx($,{value:g.toLowerCase(),children:g},g))})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Год выпуска"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(Ae,{value:a.yearFrom,onValueChange:g=>m("yearFrom",g),children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"С"})}),n.jsx(Ie,{children:l.map(g=>n.jsx($,{value:g,children:g},g))})]}),n.jsxs(Ae,{value:a.yearTo,onValueChange:g=>m("yearTo",g),children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"По"})}),n.jsx(Ie,{children:l.map(g=>n.jsx($,{value:g,children:g},g))})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Тип кузова"}),n.jsxs(Ae,{value:a.bodyType,onValueChange:g=>m("bodyType",g),children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Выберите тип кузова"})}),n.jsx(Ie,{children:c.map(g=>n.jsx($,{value:g,children:g},g))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Тип топлива"}),n.jsxs(Ae,{value:a.fuelType,onValueChange:g=>m("fuelType",g),children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Тип топлива"})}),n.jsx(Ie,{children:d.map(g=>n.jsx($,{value:g,children:g},g))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Трансмиссия"}),n.jsxs(Ae,{value:a.transmission,onValueChange:g=>m("transmission",g),children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"КПП"})}),n.jsx(Ie,{children:f.map(g=>n.jsx($,{value:g,children:g},g))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Растаможен"}),n.jsxs(Ae,{value:a.customsCleared,onValueChange:g=>m("customsCleared",g),children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Растаможен"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"yes",children:"Да"}),n.jsx($,{value:"no",children:"Нет"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Объем двигателя (л)"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(G,{type:"number",step:"0.1",placeholder:"От",value:a.engineVolumeFrom,onChange:g=>m("engineVolumeFrom",g.target.value)}),n.jsx(G,{type:"number",step:"0.1",placeholder:"До",value:a.engineVolumeTo,onChange:g=>m("engineVolumeTo",g.target.value)})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[x&&n.jsx("div",{className:"text-center text-sm text-gray-600 mb-2",children:'Нажмите кнопку "Поиск" для применения фильтров'}),n.jsxs(L,{onClick:h,className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 text-lg font-semibold",disabled:!x,children:[n.jsx(mh,{className:"w-5 h-5 mr-2"}),"Найти автомобили"]})]})]})]}),x?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Результаты поиска (",p.length,")"]}),j&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Поиск автомобилей..."})]})]}),!j&&p.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(tm,{customListings:p}),n.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg text-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Не нашли подходящий автомобиль?"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Мы отправим уведомление, когда появятся новые автомобили по вашим критериям"}),n.jsx(hx,{searchFilters:a})]})]}),!j&&p.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"🔍"}),n.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg text-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Не нашли подходящий автомобиль?"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Мы отправим уведомление, когда появятся автомобили по вашим критериям"}),n.jsx(hx,{searchFilters:a})]})]})]}):n.jsx(n.Fragment,{children:n.jsx(tm,{})})]})]})}function k3({images:e,alt:t,className:r="",autoPlayInterval:s=3e3}){const[a,i]=u.useState(0),[o,l]=u.useState(!1),[c,d]=u.useState(new Set),[f,m]=u.useState(null),[x,y]=u.useState(null),[b,p]=u.useState(!1),[j,h]=u.useState(null),[v,g]=u.useState(null),[w,N]=u.useState(!1),[S,E]=u.useState(!1),P=A=>{S||A===a||(E(!0),setTimeout(()=>{i(A),setTimeout(()=>E(!1),50)},150))};u.useEffect(()=>{if(!e||e.length<=1||b)return;const A=Math.random()*2e3;let z;const Q=setTimeout(()=>{z=setInterval(()=>{P(a===e.length-1?0:a+1)},s)},A);return()=>{clearTimeout(Q),z&&clearInterval(z)}},[e,s,b,a,S]);const C=()=>{l(!0)},M=()=>{d(A=>new Set(A).add(a)),l(!1)},q=50,I=A=>{y(null),m(A.targetTouches[0].clientX),p(!0)},K=A=>{y(A.targetTouches[0].clientX)},U=()=>{if(!f||!x){p(!1);return}const A=f-x,z=A>q,Q=A<-q;z&&P(a===e.length-1?0:a+1),Q&&P(a===0?e.length-1:a-1),setTimeout(()=>p(!1),3e3)},k=A=>{N(!0),g(null),h(A.clientX),p(!0)},F=A=>{w&&g(A.clientX)},V=()=>{if(!w||!j||!v){N(!1),p(!1);return}const A=j-v,z=A>q,Q=A<-q;z&&P(a===e.length-1?0:a+1),Q&&P(a===0?e.length-1:a-1),N(!1),setTimeout(()=>p(!1),3e3)},R=()=>{N(!1),p(!1)};return!e||e.length===0||o?n.jsx("div",{className:`bg-gray-200 flex items-center justify-center ${r}`,children:n.jsx(Ze,{className:"w-8 h-8 text-gray-400"})}):n.jsxs("div",{className:`relative touch-none overflow-hidden ${w?"cursor-grabbing":"cursor-grab"} ${r}`,onTouchStart:I,onTouchMove:K,onTouchEnd:U,onMouseDown:k,onMouseMove:F,onMouseUp:V,onMouseLeave:R,children:[n.jsx("img",{src:e[a],alt:`${t} - Image ${a+1}`,className:`w-full h-full object-cover select-none transition-all duration-300 ease-out ${S?"opacity-30 scale-105":"opacity-100 scale-100"}`,onError:C,onLoad:M,draggable:!1},`image-${a}`),e.length>1&&n.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1 bg-black/20 rounded-full px-2 py-1 backdrop-blur-sm",children:e.map((A,z)=>n.jsx("div",{className:`rounded-full transition-all duration-300 ease-out ${z===a?"w-2 h-2 bg-white scale-110 shadow-sm":"w-1.5 h-1.5 bg-white/60 hover:bg-white/80"}`},z))})]})}function E3({isOpen:e,onConfirm:t,onCancel:r,bidAmount:s,currentBid:a,carTitle:i}){const o=parseFloat(s),l=parseFloat(a),c=o-l,d=l>0?(c/l*100).toFixed(1):0,f=o>l*3&&l>0;return n.jsx(Fs,{open:e,children:n.jsxs(Xr,{className:"max-w-md",children:[n.jsxs(Jr,{children:[n.jsxs(Zr,{className:"flex items-center gap-2",children:[f?n.jsx(Op,{className:"h-5 w-5 text-amber-500"}):n.jsx(Zv,{className:"h-5 w-5 text-green-500"}),"Подтвердите ставку"]}),n.jsx(es,{asChild:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:i}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Текущая максимальная ставка"}),n.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[l.toLocaleString()," Сомони"]})]}),n.jsxs("div",{className:`p-4 rounded-lg border-2 ${f?"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-700":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-700"}`,children:[n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Ваша ставка"}),n.jsxs("div",{className:`text-2xl font-bold ${f?"text-amber-700 dark:text-amber-300":"text-green-700 dark:text-green-300"}`,children:[o.toLocaleString()," Сомони"]}),n.jsxs("div",{className:"mt-2 text-sm",children:[n.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Увеличение: +",c.toLocaleString()," Сомони"]}),l>0&&n.jsxs("span",{className:`ml-2 ${f?"text-amber-600 dark:text-amber-400":"text-green-600 dark:text-green-400"}`,children:["(+",d,"%)"]})]})]}),f&&n.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-700 p-3 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Op,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[n.jsx("div",{className:"font-semibold mb-1",children:"Внимание!"}),n.jsx("div",{children:"Ваша ставка значительно превышает текущую. Пожалуйста, убедитесь, что сумма указана правильно."})]})]})}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Убедитесь, что сумма указана правильно перед подтверждением."})]})})]}),n.jsxs(Yr,{children:[n.jsx(Ls,{onClick:r,children:"Отменить"}),n.jsx(Os,{onClick:t,className:f?"bg-amber-600 hover:bg-amber-700 dark:bg-amber-600 dark:hover:bg-amber-700":"bg-green-600 hover:bg-green-700 dark:bg-green-600 dark:hover:bg-green-700",children:"Подтвердить ставку"})]})]})})}function T3(){var Gh,Xh,Jh,Yh,Zh;const{id:e}=Y0(),[,t]=He(),[r,s]=u.useState(""),[a,i]=u.useState({days:0,hours:0,minutes:0,seconds:0}),[o,l]=u.useState(null),[c,d]=u.useState(!1),[f,m]=u.useState(!1),[x,y]=u.useState(0),[b,p]=u.useState(null),[j,h]=u.useState(null);u.useState(0);const[v,g]=u.useState(null),[w,N]=u.useState(null),[S,E]=u.useState(!1),[P,C]=u.useState(!1),[M,q]=u.useState(!1),[I,K]=u.useState(!1);u.useState(!1);const[U,k]=u.useState(!1),[F,V]=u.useState(!1),[R,A]=u.useState(""),[z,Q]=u.useState(!1),{toast:H}=qe(),oe=Le();u.useEffect(()=>{e&&(oe.removeQueries({queryKey:[`/api/listings/${e}`]}),oe.removeQueries({queryKey:[`/api/listings/${e}/bids`]}),oe.removeQueries({queryKey:["/api/listings"]}),oe.invalidateQueries({queryKey:[`/api/listings/${e}`]}),oe.invalidateQueries({queryKey:[`/api/listings/${e}/bids`]}))},[e,oe]);const{isConnected:be,connectionQuality:ge,joinAuction:Te,leaveAuction:ne,lastBidUpdate:ue,participantCount:O,isHotAuction:re}=Tc(),ee=B=>({automatic:"Автомат",manual:"Механика",cvt:"Вариатор"})[B]||B||"Не указана",ie=B=>({gasoline:"Бензин",diesel:"Дизель",gas:"Газ",gas_gasoline:"Газ+бензин",hybrid:"Гибрид",electric:"Электро"})[B]||B||"Не указано",ke=B=>({sedan:"Седан",crossover:"Кроссовер",suv:"Внедорожник",hatchback:"Хэтчбек",wagon:"Универсал",minivan:"Минивен",coupe:"Купе",convertible:"Кабриолет",pickup:"Пикап"})[B]||B||"Не указан",xt=B=>({front:"Передний",rear:"Задний",all:"Полный"})[B]||B||"Не указан",sn=B=>({excellent:"Отличное",very_good:"Очень хорошее",good:"Хорошее",satisfactory:"Удовлетворительное",requires_repair:"Требует ремонта",accident:"После ДТП",not_running:"Не на ходу"})[B]||B||"Не указано",an=B=>({white:"Белый",black:"Черный",silver:"Серебристый",gray:"Серый",red:"Красный",blue:"Синий",green:"Зеленый",yellow:"Желтый",brown:"Коричневый",gold:"Золотистый",other:"Другой"})[B]||B||"Не указан",{data:Ge,refetch:on}=xe({queryKey:[`/api/listings/${e}`],enabled:!!e,refetchInterval:3e4,refetchIntervalInBackground:!1,staleTime:1e4,gcTime:3e5,refetchOnMount:!0,refetchOnWindowFocus:!1});u.useEffect(()=>{ue&&ue.listingId&&parseInt(ue.listingId)===parseInt(e||"0")&&(console.log(`🔄 Принудительное обновление аукциона ${e} после WebSocket обновления`),on())},[ue,e,on]);const{data:ot,isLoading:Us,refetch:Me}=xe({queryKey:[`/api/listings/${e}/bids`],enabled:!!e,refetchInterval:15e3,refetchIntervalInBackground:!1,staleTime:5e3,gcTime:3e5,refetchOnMount:!0,refetchOnWindowFocus:!1}),Bs=Array.isArray(ot)?ot.map(B=>B.bidderId).filter((B,X,we)=>we.indexOf(B)===X):[],{data:ii=[]}=xe({queryKey:["users",Bs.sort().join(",")],queryFn:async()=>{if(Bs.length===0)return[];const B=Bs.map(we=>fetch(`/api/users/${we}`).then(_e=>_e.ok?_e.json():null));return(await Promise.all(B)).filter(Boolean)},enabled:Bs.length>0}),oi=ii.reduce((B,X)=>(X&&X.id&&(B[X.id]=X),B),{});Sh();const{isFavorite:me,addToFavorites:lr,removeFromFavorites:Vs}=Ch(),{user:he}=it(),{data:qs}=xe({queryKey:[`/api/users/${he==null?void 0:he.userId}`],enabled:!!he&&!!(he!=null&&he.userId)}),[yo,Lw]=u.useState(null);u.useEffect(()=>{e&&e!==yo&&(yo&&oe.removeQueries({queryKey:[`/api/listings/${yo}/bids`]}),Lw(e))},[e,yo,oe]);const _=Ge,os=Array.isArray(ot)&&!Us?ot:[],Nn=()=>Array.isArray(ot)&&ot.length>0?parseFloat(ot[0].amount):Ge&&typeof Ge=="object"&&"currentBid"in Ge&&Ge.currentBid?parseFloat(Ge.currentBid):Ge&&typeof Ge=="object"&&"startingPrice"in Ge?parseFloat(Ge.startingPrice):0;u.useMemo(()=>Nn(),[ot,Ge]),_&&sn(_.condition);const zc=Ne({mutationFn:async B=>{console.log("📤 Отправляем POST запрос ставки:",B);try{const X=await In("POST",`/api/listings/${e}/bids`,B);return console.log("✅ Ставка успешно создана!"),X}catch(X){throw console.log("❌ Ошибка при создании ставки:",X),X}},onSuccess:(B,X)=>{console.log(`🎉 Ставка успешно принята! Сумма: ${X.amount}`),C(!0);try{const we=new(window.AudioContext||window.webkitAudioContext),_e=.8,gt=we.sampleRate,li=we.createBuffer(1,_e*gt,gt),ci=li.getChannelData(0);for(let No=0;No<ci.length;No++){const Ks=No/gt,Zw=Math.exp(-Ks*4)*(1-Math.exp(-Ks*8)),e1=523.25*(1+Ks*.2),t1=659.25*(1+Ks*.15),n1=Math.sin(2*Math.PI*e1*Ks)*.4+Math.sin(2*Math.PI*t1*Ks)*.3;ci[No]=n1*Zw*.2}const Uc=we.createBufferSource();Uc.buffer=li,Uc.connect(we.destination),Uc.start(),console.log("🔊 Звук успеха воспроизведен")}catch(we){console.log("🔇 Не удалось воспроизвести звук:",we)}me(e)||lr(e),H({title:"🎉 Ставка принята!",description:`Ваша ставка ${parseFloat(X.amount).toLocaleString()} Сомони успешно размещена!`,duration:1e3}),oe.invalidateQueries({queryKey:[`/api/listings/${e}`]}),oe.invalidateQueries({queryKey:[`/api/listings/${e}/bids`]}),oe.invalidateQueries({queryKey:["/api/listings"]})},onError:B=>{if(console.log("❌ Ошибка при создании ставки:",B),B.errorType==="Account not activated"){k(!0);return}if(B.message==="Already highest bidder"){H({title:"Упс! Вы уже лидер!",description:"Ваша ставка должна быть выше вашей предыдущей ставки.",variant:"destructive",duration:4e3});return}H({title:"Упс! Вы уже лидер!",description:"Ваша ставка должна быть выше вашей предыдущей ставки.",variant:"destructive",duration:4e3})}});async function _w(){if(!he){H({title:"Войдите в систему",description:"Для связи с продавцом необходимо войти в систему",variant:"destructive",duration:3e3}),t("/login");return}if(!he.isActive){k(!0);return}if(_){H({title:"Создание разговора...",description:"Подождите, создаем переписку с продавцом",duration:2e3});try{const B=await fetch("/api/conversations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({buyerId:he.userId,sellerId:_.sellerId,listingId:_.id})});if(!B.ok)throw new Error("Не удалось создать разговор");const X=await B.json();t(`/messages?conversationId=${X.id}`),H({title:"Разговор создан!",description:"Теперь вы можете общаться с продавцом",duration:2e3})}catch(B){console.error("Ошибка создания разговора:",B),H({title:"Ошибка",description:"Не удалось создать разговор. Попробуйте еще раз.",variant:"destructive",duration:3e3})}}}u.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),u.useEffect(()=>{if(!o&&(_!=null&&_.auctionEndTime)){const B=new Date(_.auctionEndTime);l(B),d(!0)}},[_,o]),u.useEffect(()=>{e&&on()},[e,oe,on]),u.useEffect(()=>{if(P){const B=setTimeout(()=>{C(!1),console.log("🎊 Конфетти автоматически скрыто через 2 секунды")},2e3);return()=>clearTimeout(B)}},[P]),u.useEffect(()=>{if(_!=null&&_.id)return console.log("🔗 Подключаемся к аукциону:",_.id),Te(parseInt(_.id)),()=>{console.log("🔗 Отключаемся от аукциона:",_.id),ne()}},[_==null?void 0:_.id]),u.useEffect(()=>{var B,X;if(ue&&ue.listingId===parseInt(e||"0")){if(console.log("🔥 Real-time обновление ставки:",ue),(X=(B=ue.data)==null?void 0:B.bid)!=null&&X.amount){const we=parseFloat(ue.data.bid.amount);s((we+1e3).toString()),oe.setQueryData([`/api/listings/${e}`],_e=>_e&&(console.log(`🔄 Обновляем кэш аукциона ${e}: ${_e.currentBid} → ${we}`),{..._e,currentBid:we.toString(),bidCount:(_e.bidCount||0)+1})),console.log("🔄 Принудительно обновляем auction данные для характеристик"),on(),Me(),H({title:"🔥 Новая ставка!",description:`${we.toLocaleString()} Сомони`,duration:1e3})}oe.invalidateQueries({queryKey:["/api/listings"],refetchType:"none"})}},[ue,e,oe,H]),u.useEffect(()=>{const B=()=>{if(!o)return;const X=o.getTime()-new Date().getTime();X>0?i({days:Math.floor(X/864e5),hours:Math.floor(X/36e5%24),minutes:Math.floor(X/1e3/60%60),seconds:Math.floor(X/1e3%60)}):(i({days:0,hours:0,minutes:0,seconds:0}),c&&$w())};if(c){B();const X=setInterval(B,1e3);return()=>clearInterval(X)}},[o,c]),u.useEffect(()=>{const B=Nn();s((B+1e3).toString())},[ot,Ge]),u.useEffect(()=>{const B=X=>{f&&(X.key==="Escape"?Hh():X.key==="ArrowLeft"?bo():X.key==="ArrowRight"&&jo())};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[f]);const $w=()=>{if(z)return;const B=os||[];if(B.length===0){me(e)&&Vs(e),Q(!0);return}const X=B[0];let we;try{we=(he==null?void 0:he.userId)||(he==null?void 0:he.id)}catch{we=null}he&&we&&X.bidderId===we?(C(!0),setTimeout(()=>C(!1),5e3),H({title:"🏆 Поздравляем! Вы победили!",description:`Вы выиграли аукцион со ставкой ${parseFloat(X.amount).toLocaleString()} Сомони`,duration:1e4})):me(e)&&(Vs(e),H({title:"Аукцион завершен",description:"К сожалению, вы не выиграли этот аукцион",duration:5e3})),Q(!0)},zw=B=>{if(!B)return{days:0,hours:0,minutes:0,seconds:0};const X=new Date(B),we=new Date,_e=X.getTime()-we.getTime();return _e>0?{days:Math.floor(_e/(1e3*60*60*24)),hours:Math.floor(_e/(1e3*60*60)%24),minutes:Math.floor(_e/1e3/60%60),seconds:Math.floor(_e/1e3%60)}:{days:0,hours:0,minutes:0,seconds:0}},Uw=async()=>{if(console.log('🎯 handlePlaceBid нажата кнопка "Подтвердить ставку"!'),console.log("💰 Введенная сумма:",r),!he){console.log("❌ Пользователь не авторизован"),H({title:"Войдите в систему",description:"Для участия в аукционе необходимо войти в систему",variant:"destructive",duration:1e3}),t("/login");return}if(!((qs==null?void 0:qs.isActive)??(he==null?void 0:he.isActive)??!1)){console.log("❌ Пользователь не активирован"),k(!0);return}const X=zw(_.auctionEndTime);if(X.days===0&&X.hours===0&&X.minutes===0&&X.seconds===0){console.log("❌ Аукцион завершен"),H({title:"Аукцион завершен",description:"К сожалению, ваша ставка не была высокой. Аукцион уже завершен.",variant:"destructive",duration:1e3});return}const _e=parseFloat(r),gt=Nn();if(_e<=gt){console.log("❌ Ставка слишком низкая:",_e,"<=",gt),H({title:"Ставка слишком низкая",description:`Минимальная ставка: ${(gt+100).toLocaleString()} Сомони`,variant:"destructive",duration:1e3});return}console.log("✅ Все проверки пройдены, показываем диалог подтверждения"),A(r),V(!0)},Bw=()=>{console.log("🚀 handleConfirmBid вызван!"),V(!1);let B;try{B=(he==null?void 0:he.userId)||(he==null?void 0:he.id)}catch{B=null}console.log("👤 User ID для ставки:",B),console.log("💰 Сумма ставки:",R),console.log("📤 Вызываем bidMutation.mutate..."),console.log("🔍 bidMutation объект:",zc),console.log("🔍 bidMutation.mutate функция:",typeof zc.mutate),zc.mutate({bidderId:B,amount:R}),console.log("✅ bidMutation.mutate вызван успешно!"),s(""),A("")},Vw=()=>{V(!1),A("")},qw=async()=>{if(!he){H({title:"Войдите в систему",description:"Для добавления в избранное необходимо войти в систему",variant:"destructive",duration:3e3});return}try{me(e)?(await Vs(e),H({title:"Удалено из избранного",description:"Аукцион удален из вашего списка избранного",duration:2e3})):(await lr(e),H({title:"Добавлено в избранное",description:"Аукцион добавлен в ваш список избранного",duration:2e3}))}catch(B){console.error("Error toggling favorite:",B),H({title:"Ошибка",description:"Не удалось обновить избранное",variant:"destructive",duration:3e3})}},Kw=B=>{y(B),m(!0)},Hh=()=>{m(!1)},jo=()=>{_!=null&&_.photos&&_.photos.length>1&&y(B=>(B+1)%_.photos.length)},bo=()=>{_!=null&&_.photos&&_.photos.length>1&&y(B=>(B-1+_.photos.length)%_.photos.length)},wo=50,Qw=B=>{h(null),p(B.targetTouches[0].clientX)},Ww=B=>{h(B.targetTouches[0].clientX)},Hw=()=>{if(!b||!j)return;const B=b-j,X=B>wo,we=B<-wo;X?jo():we&&bo()},Gw=B=>{N(null),g(B.clientX),E(!0)},Xw=B=>{S&&N(B.clientX)},Jw=()=>{if(!v||!w||!S){E(!1);return}const B=v-w,X=B>wo,we=B<-wo;X?jo():we&&bo(),E(!1)},Yw=()=>{E(!1)};return _?n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 page-content",children:[n.jsx("div",{className:"bg-white dark:bg-gray-900 shadow-sm border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{variant:"ghost",onClick:()=>t("/"),className:"hover:bg-blue-100 dark:hover:bg-gray-700",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Назад к аукционам"]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(L,{variant:"ghost",size:"sm",onClick:qw,children:n.jsx(xo,{className:`h-4 w-4 ${me(e)?"fill-red-500 text-red-500":""}`})})})]})})}),n.jsxs("main",{className:"container mx-auto px-4 py-8 grid lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs(Z,{className:"overflow-hidden relative",children:[n.jsx("div",{className:"h-64 cursor-pointer",onClick:()=>Kw(0),children:n.jsx(k3,{images:(_==null?void 0:_.photos)||[],alt:`${_==null?void 0:_.year} ${_==null?void 0:_.make} ${_==null?void 0:_.model}`,className:"h-64",autoPlayInterval:3e3})}),n.jsx("div",{className:"absolute bottom-4 left-4 bg-black/50 text-white px-2 py-1 rounded text-sm",children:"Нажмите для просмотра галереи"}),n.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white px-2 py-1 rounded text-sm",children:[((Gh=_==null?void 0:_.photos)==null?void 0:Gh.length)||0," фото"]})]}),n.jsxs(Z,{className:"overflow-hidden",children:[n.jsx(ye,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Ze,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(je,{className:"text-xl text-gray-900",children:"Характеристики автомобиля"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Полная информация о транспортном средстве"})]})]})}),n.jsxs(te,{className:"p-6",children:[n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[_.make," ",_.model]}),n.jsx(ve,{className:"bg-green-100 text-green-800 border-green-200",children:"Активный"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(ve,{variant:"outline",className:"font-mono text-blue-700 bg-blue-50 border-blue-200",children:["Лот № ",_.lotNumber]}),(_.fuelType==="Электро"||_.fuelType==="electric")&&_.electricRange&&n.jsxs(ve,{variant:"outline",className:"text-blue-700 bg-blue-100 border-blue-200",children:["⚡ Запас хода: ",_.electricRange," км"]}),n.jsx(ve,{variant:"outline",className:`${_.customsCleared?"text-green-700 bg-green-50 border-green-200":"text-red-700 bg-red-50 border-red-200"}`,children:_.customsCleared?"✓ Растаможен":"✗ Не растаможен"}),n.jsx(ve,{variant:"outline",className:`${_.recycled?"text-blue-700 bg-blue-50 border-blue-200":"text-orange-700 bg-orange-50 border-orange-200"}`,children:_.recycled?"Утилизация: есть":"Утилизация: нет"}),n.jsx(ve,{variant:"outline",className:`${_.technicalInspectionValid?"text-purple-700 bg-purple-50 border-purple-200":"text-gray-700 bg-gray-50 border-gray-200"}`,children:_.technicalInspectionValid?`Техосмотр до ${_.technicalInspectionDate}`:"Техосмотр: нет"}),n.jsx(ve,{variant:"outline",className:`${_.tinted?"text-indigo-700 bg-indigo-50 border-indigo-200":"text-gray-700 bg-gray-50 border-gray-200"}`,children:_.tinted?`Тонировка (${_.tintingDate||"дата не указана"})`:"Тонировка: нет"})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(eo,{className:"w-5 h-5 text-blue-600"}),"Основные характеристики"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"flex justify-between items-center py-2 px-3 rounded-lg bg-white border border-gray-100",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Год выпуска"}),n.jsx("span",{className:"font-semibold text-gray-900",children:_.year})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 px-3 rounded-lg bg-white border border-gray-100",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Пробег"}),n.jsxs("span",{className:"font-semibold text-gray-900",children:[(Xh=_.mileage)==null?void 0:Xh.toLocaleString()," км"]})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 px-3 rounded-lg bg-white border border-gray-100",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Состояние"}),n.jsx("span",{className:"font-semibold text-gray-900",children:sn(_.condition)})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 px-3 rounded-lg bg-white border border-gray-100",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Двигатель"}),n.jsx("span",{className:"font-semibold text-gray-900",children:_.engine||"Не указан"})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 px-3 rounded-lg bg-white border border-gray-100",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Коробка"}),n.jsx("span",{className:"font-semibold text-gray-900",children:ee(_.transmission)})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 px-3 rounded-lg bg-white border border-gray-100",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Привод"}),n.jsx("span",{className:"font-semibold text-gray-900",children:xt(_.driveType)})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 px-3 rounded-lg bg-white border border-gray-100",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Топливо"}),n.jsx("span",{className:"font-semibold text-gray-900",children:ie(_.fuelType)})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 px-3 rounded-lg bg-green-50 border border-green-200 transition-all duration-300",children:[n.jsx("span",{className:"text-green-700 font-medium",children:"Текущая цена"}),n.jsxs("span",{className:"font-semibold text-green-900",children:[Nn().toLocaleString()," Сомони"]})]}),(_.fuelType==="Электро"||_.fuelType==="electric")&&n.jsxs(n.Fragment,{children:[_.batteryCapacity&&n.jsxs("div",{className:"flex justify-between items-center py-2 px-3 rounded-lg bg-blue-50 border border-blue-200",children:[n.jsx("span",{className:"text-blue-700 font-medium",children:"Батарея"}),n.jsxs("span",{className:"font-semibold text-blue-900",children:[_.batteryCapacity," кВт·ч"]})]}),_.electricRange&&n.jsxs("div",{className:"flex justify-between items-center py-2 px-3 rounded-lg bg-blue-50 border border-blue-200",children:[n.jsx("span",{className:"text-blue-700 font-medium",children:"Запас хода"}),n.jsxs("span",{className:"font-semibold text-blue-900",children:[_.electricRange," км"]})]})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(UC,{className:"w-5 h-5 text-blue-600"}),"Внешний вид и идентификация"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{className:"flex justify-between items-center py-2 px-3 rounded-lg bg-white border border-gray-100",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Кузов"}),n.jsx("span",{className:"font-semibold text-gray-900",children:ke(_.bodyType)})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 px-3 rounded-lg bg-white border border-gray-100",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Цвет"}),n.jsx("span",{className:"font-semibold text-gray-900",children:an(_.color)})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 px-3 rounded-lg bg-white border border-gray-100",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"VIN"}),n.jsx("span",{className:"font-semibold text-gray-900 font-mono text-sm",children:_.vin||"Не указан"})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx($C,{className:"w-5 h-5 text-blue-600"}),"Местоположение"]}),n.jsxs("div",{className:"flex justify-between items-center py-2 px-3 rounded-lg bg-white border border-gray-100",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Город"}),n.jsx("span",{className:"font-semibold text-gray-900",children:_.location||"Не указан"})]})]}),_.description&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Ze,{className:"w-5 h-5 text-blue-600"}),"Описание"]}),n.jsx("div",{className:"py-3 px-4 rounded-lg bg-blue-50 border border-blue-200",children:n.jsx("p",{className:"text-blue-900 text-sm leading-relaxed whitespace-pre-wrap",children:_.description})})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsxs(je,{className:"flex items-center gap-2",children:[n.jsx(Zv,{className:"h-5 w-5 text-green-600"}),"Текущая ставка"]})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[Nn().toLocaleString()," Сомони"]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Стартовая цена: ",parseFloat(_.startingPrice).toLocaleString()," Сомони"]}),n.jsx("div",{className:"mt-3",children:n.jsx(Uj,{reservePrice:_.reservePrice,currentBid:Nn().toString(),startingPrice:_.startingPrice,size:"md",showProgress:!1})})]}),(()=>{const B=_.status==="ended"||_.status==="archived",X=os&&os.length>0?os[0]:null;let we;try{we=(he==null?void 0:he.userId)||(he==null?void 0:he.id)}catch{we=null}const _e=B&&X&&we&&X.bidderId===we;return B&&_e?n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"🏆"})}),n.jsx("span",{className:"font-bold text-green-800 text-lg",children:"Поздравляем! Вы выиграли!"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600 mb-1",children:[parseFloat(X.amount).toLocaleString()," Сомони"]}),n.jsx("div",{className:"text-sm text-green-700 mb-2",children:"Ваша выигрышная ставка"}),n.jsxs("div",{className:"text-xs text-green-600",children:["Аукцион завершен ",new Date(_.endDate||_.auctionEndTime).toLocaleDateString("ru-RU")]})]})]}):B?n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ir,{className:"h-4 w-4 text-gray-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Аукцион завершен"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-medium text-gray-600 mb-1",children:"Торги окончены"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Завершен ",new Date(_.endDate||_.auctionEndTime).toLocaleDateString("ru-RU")]})]})]}):n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ir,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Время до окончания"})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xl font-bold text-blue-600",children:a.days}),n.jsx("div",{className:"text-xs text-gray-600",children:"дни"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xl font-bold text-blue-600",children:a.hours}),n.jsx("div",{className:"text-xs text-gray-600",children:"часы"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xl font-bold text-blue-600",children:a.minutes}),n.jsx("div",{className:"text-xs text-gray-600",children:"мин"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xl font-bold text-blue-600",children:a.seconds}),n.jsx("div",{className:"text-xs text-gray-600",children:"сек"})]})]})]})})(),_.status==="ended"||_.status==="archived"?n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 text-center",children:[n.jsx("div",{className:"text-gray-600 font-medium mb-2",children:"Аукцион завершен"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Торги по данному лоту окончены"})]}):_.sellerId===(he==null?void 0:he.userId)?n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[n.jsx("div",{className:"text-blue-800 font-medium mb-2",children:"Ваш автомобиль"}),n.jsx("p",{className:"text-sm text-blue-600",children:"Вы не можете делать ставки на собственный автомобиль"})]}):M?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ваша ставка (минимум: ",(Nn()+100).toLocaleString()," Сомони)"]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"Сомони"}),n.jsx("input",{type:"number",value:r,onChange:X=>s(X.target.value),className:"w-full pl-20 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Введите сумму",min:Nn()+100,step:"100"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(L,{onClick:Uw,disabled:I||!r||parseFloat(r)<=Nn(),className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:I?"Размещение...":"Подтвердить ставку"}),n.jsx(L,{variant:"outline",onClick:()=>q(!1),children:"Отмена"})]})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx(L,{onClick:()=>{if(!he){H({title:"Войдите в систему",description:"Для участия в аукционе необходимо войти в систему",variant:"destructive",duration:3e3}),t("/login");return}if(!he.isActive){k(!0);return}q(!0)},className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3",size:"lg",children:"Сделать ставку"}),n.jsxs(L,{onClick:_w,variant:"outline",className:"w-full border-blue-500 text-blue-600 hover:bg-blue-50 font-medium py-3",size:"lg",children:[n.jsx(zC,{className:"h-4 w-4 mr-2"}),"Связаться с продавцом"]})]})]})]}),n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsxs(je,{className:"flex items-center gap-2",children:[n.jsx(ja,{className:"h-5 w-5 text-blue-600"}),"История ставок"]})}),n.jsx(te,{children:n.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:os.length>0?os.map((B,X)=>{var we,_e,gt;return n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium ${X===0?"bg-yellow-500":"bg-gray-400"}`,children:X+1}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:(we=oi[B.bidderId])!=null&&we.fullName&&((_e=oi[B.bidderId])==null?void 0:_e.fullName.trim())!==""?(gt=oi[B.bidderId])==null?void 0:gt.fullName:"(не указано)"}),n.jsx("div",{className:"text-sm text-gray-600",children:new Date(B.createdAt).toLocaleString("ru-RU")})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:`font-bold ${X===0?"text-green-600":"text-gray-700"}`,children:[parseFloat(B.amount).toLocaleString()," Сомони"]}),X===0&&n.jsx("div",{className:"text-xs text-green-600 font-medium",children:"Лидирующая ставка"})]})]},B.id)}):Us&&os.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ja,{className:"w-12 h-12 mx-auto mb-3 text-gray-300 animate-pulse"}),n.jsx("p",{children:"Загружаем ставки..."})]}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ja,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{children:"Пока нет ставок"}),n.jsx("p",{className:"text-sm",children:"Станьте первым участником!"})]})})})]})]})]}),f&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center",children:n.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[n.jsx("button",{onClick:Hh,className:"absolute top-4 right-4 text-white z-10 bg-black/50 p-3 rounded-full hover:bg-black/70 transition-colors",children:"✕"}),n.jsx("button",{onClick:bo,className:"absolute left-4 text-white z-10 bg-black/50 p-3 rounded-full hover:bg-black/70 transition-colors",children:n.jsx(Hv,{className:"w-6 h-6"})}),n.jsx("button",{onClick:jo,className:"absolute right-4 text-white z-10 bg-black/50 p-3 rounded-full hover:bg-black/70 transition-colors",children:n.jsx(zl,{className:"w-6 h-6"})}),n.jsx("div",{className:"max-w-full max-h-full flex items-center justify-center cursor-grab active:cursor-grabbing select-none",onTouchStart:Qw,onTouchMove:Ww,onTouchEnd:Hw,onMouseDown:Gw,onMouseMove:Xw,onMouseUp:Jw,onMouseLeave:Yw,children:n.jsx("img",{src:((Jh=_==null?void 0:_.photos)==null?void 0:Jh[x])||"",alt:`${_.year} ${_.make} ${_.model} - фото ${x+1}`,className:"max-w-full max-h-full object-contain select-none pointer-events-none",onError:B=>{B.currentTarget.style.display="none"},draggable:!1})}),n.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex items-center gap-2",children:(Yh=_==null?void 0:_.photos)==null?void 0:Yh.map((B,X)=>n.jsx("button",{onClick:()=>y(X),className:`w-3 h-3 rounded-full transition-all ${X===x?"bg-white":"bg-white/50"}`},X))}),n.jsxs("div",{className:"absolute bottom-16 left-1/2 -translate-x-1/2 text-white text-center",children:[n.jsxs("p",{className:"text-lg font-medium",children:[_==null?void 0:_.make," ",_==null?void 0:_.model]}),n.jsxs("p",{className:"text-sm opacity-80",children:["Фото ",x+1," из ",((Zh=_==null?void 0:_.photos)==null?void 0:Zh.length)||0]}),n.jsx("p",{className:"text-xs opacity-60 mt-1",children:"Листайте пальцем или перетаскивайте мышью"})]})]})}),P&&n.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden bg-black bg-opacity-20",children:[n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-32 h-32 border-4 border-yellow-400 rounded-full animate-ping opacity-75"}),n.jsx("div",{className:"absolute inset-0 w-32 h-32 border-4 border-blue-400 rounded-full animate-ping opacity-50",style:{animationDelay:"0.5s"}}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"text-8xl animate-bounce filter drop-shadow-lg",children:"🏆"})})]})}),[...Array(60)].map((B,X)=>{const we=6*X,_e=150+Math.random()*200,gt=Math.random()*8+4,li=["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#FD79A8","#A29BFE"],ci=li[Math.floor(Math.random()*li.length)];return n.jsx("div",{className:"absolute rounded-full animate-pulse",style:{left:"50%",top:"50%",width:`${gt}px`,height:`${gt}px`,backgroundColor:ci,transform:`translate(-50%, -50%) rotate(${we}deg) translateY(-${_e}px)`,animationDelay:`${Math.random()*1}s`,animationDuration:`${2+Math.random()*2}s`,boxShadow:`0 0 ${gt*2}px ${ci}`,opacity:Math.random()*.8+.2}},X)}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"text-center text-white font-bold text-2xl animate-bounce mt-32",children:n.jsx("div",{className:"text-lg",children:"Ставка принята!"})})}),[...Array(20)].map((B,X)=>n.jsx("div",{className:"absolute text-yellow-400 animate-ping",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,fontSize:`${Math.random()*20+15}px`},children:"✨"},`sparkle-${X}`))]}),n.jsx(Ms,{open:U,onOpenChange:k,children:n.jsxs(Wr,{className:"sm:max-w-md",children:[n.jsxs(Hr,{children:[n.jsxs(Gr,{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-red-600",children:"⚠️"})}),"Аккаунт не активирован"]}),n.jsx(ai,{children:"Для активации аккаунта необходимо пройти верификацию. Обратитесь в службу поддержки через WhatsApp или по номеру 9000000."})]}),n.jsxs(cb,{className:"flex flex-col items-center space-y-3 mt-4",children:[n.jsx(L,{onClick:()=>{window.open("https://wa.me/992000000000?text=Здравствуйте! Мне нужно активировать аккаунт на AUTOBID.TJ","_blank"),k(!1)},className:"bg-green-600 hover:bg-green-700 w-full max-w-xs",children:"Связаться с поддержкой"}),n.jsx(L,{variant:"outline",onClick:()=>k(!1),className:"w-full max-w-xs",children:"Закрыть"})]})]})}),n.jsx(E3,{isOpen:F,onConfirm:Bw,onCancel:Vw,bidAmount:R,currentBid:Nn().toString(),carTitle:`${_==null?void 0:_.make} ${_==null?void 0:_.model} ${_==null?void 0:_.year}`})]}):null}function P3(){const[e,t]=u.useState("recent"),[,r]=He(),{getFavoritesList:s,removeFromFavorites:a}=Ch(),{auctions:i,refreshAuctions:o,setSelectedAuction:l}=Sh(),c=Le(),d=s(),f=i.filter(g=>d.includes(g.id)),m=g=>new Date(g)<=new Date,x=async g=>{try{await a(String(g))}catch(w){console.error("Error removing favorite:",w)}},y=g=>{try{const w=localStorage.getItem(`favorites_cache_${g}`);if(w){const{data:N,timestamp:S}=JSON.parse(w);if(Date.now()-S<12e4)return N}}catch{}return null},b=(g,w)=>{try{localStorage.setItem(`favorites_cache_${g}`,JSON.stringify({data:w,timestamp:Date.now()}))}catch{}},p=async g=>{try{const w=[];y(`listing_${g}`)||w.push(c.prefetchQuery({queryKey:[`/api/listings/${String(g)}`],staleTime:3e5,queryFn:async()=>{const S=await(await fetch(`/api/listings/${String(g)}`)).json();return b(`listing_${g}`,S),S}})),y(`bids_${g}`)||w.push(c.prefetchQuery({queryKey:[`/api/listings/${String(g)}/bids`],staleTime:3e4,queryFn:async()=>{const S=await(await fetch(`/api/listings/${String(g)}/bids`)).json();return b(`bids_${g}`,S),S}})),y(`photos_${g}`)||w.push(c.prefetchQuery({queryKey:[`/api/listings/${String(g)}/photos`],staleTime:6e5,queryFn:async()=>{const S=await(await fetch(`/api/listings/${String(g)}/photos`)).json();return b(`photos_${g}`,S),S}})),w.length>0&&await Promise.all(w)}catch{}};u.useEffect(()=>{const g=async()=>{const w=f.map(N=>p(N.id));Promise.all(w).catch(()=>{})};f.length>0&&g()},[f]);const j=async g=>{const w=f.find(N=>N.id==g);w&&l(w),p(g),r(`/auction/${String(g)}`)},h=g=>new Intl.NumberFormat("ru-RU").format(g),v=[...f].sort((g,w)=>{switch(e){case"price-low":return parseFloat(String(g.currentBid??"0"))-parseFloat(String(w.currentBid??"0"));case"price-high":return parseFloat(String(w.currentBid??"0"))-parseFloat(String(g.currentBid??"0"));case"year-new":return w.year-g.year;case"year-old":return g.year-w.year;case"recent":default:return new Date(w.endTime).getTime()-new Date(g.endTime).getTime()}});return n.jsxs("div",{className:"min-h-screen bg-neutral-50 main-content",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-neutral-200",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Избранное"}),n.jsxs("p",{className:"text-neutral-600 mt-1",children:[f.length," ",f.length===1?"автомобиль":"автомобилей"]})]})})}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:f.length===0?n.jsxs("div",{className:"text-center py-16",children:[n.jsx(xo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Нет избранных автомобилей"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Добавьте автомобили в избранное, чтобы быстро находить их"}),n.jsx(L,{onClick:()=>r("/"),children:"Перейти к аукционам"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-neutral-900",children:"Мои избранные"}),n.jsxs(Ae,{value:e,onValueChange:t,children:[n.jsx(Pe,{className:"w-48",children:n.jsx(De,{})}),n.jsxs(Ie,{children:[n.jsx($,{value:"recent",children:"Недавно добавленные"}),n.jsx($,{value:"price-low",children:"Цена: по возрастанию"}),n.jsx($,{value:"price-high",children:"Цена: по убыванию"}),n.jsx($,{value:"year-new",children:"Год: новые"}),n.jsx($,{value:"year-old",children:"Год: старые"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(g=>n.jsxs(Z,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>j(g.id),onMouseEnter:()=>p(g.id),children:[n.jsxs("div",{className:"relative",children:[n.jsx(Oc,{listingId:g.id,make:g.make,model:g.model,year:g.year,photos:g.photos||[],className:"w-full h-48 object-cover"}),n.jsx("div",{className:"absolute top-3 right-3 flex gap-2",children:n.jsx(L,{size:"sm",variant:"secondary",className:"w-8 h-8 p-0 bg-white/90 hover:bg-white",onClick:w=>{w.stopPropagation(),x(g.id)},children:n.jsx($t,{className:"w-4 h-4 text-red-500"})})}),n.jsx("div",{className:"absolute bottom-3 left-3",children:m(g.endTime)?n.jsx("div",{className:"bg-gray-800/90 text-white px-2 py-1 rounded text-xs font-semibold",children:"ЗАВЕРШЕН"}):n.jsx(Fc,{endTime:g.endTime,size:"small"})})]}),n.jsx(te,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-2 mb-1",children:n.jsx(ve,{variant:"outline",className:"text-xs font-mono",children:g.lotNumber})}),n.jsxs("h3",{className:"font-semibold text-lg text-neutral-900",children:[g.make," ",g.model]}),n.jsxs("p",{className:"text-sm text-neutral-600",children:[g.year," • ",g.mileage.toLocaleString()," км • Душанбе"]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(ve,{variant:"outline",className:"text-xs",children:"Седан"}),n.jsx(ve,{variant:"outline",className:"text-xs",children:"Бензин"}),n.jsx(ve,{variant:"outline",className:"text-xs",children:"Автомат"})]}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-neutral-600",children:"Текущая ставка:"}),n.jsxs("span",{className:"font-bold text-blue-600",children:[h(g.currentBid)," Сомони"]})]})}),n.jsx(L,{className:"w-full",size:"sm",onClick:w=>{w.stopPropagation(),j(g.id)},children:"Посмотреть характеристики"})]})})]},g.id))})]})})]})}var I3="Label",Db=u.forwardRef((e,t)=>n.jsx(de.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Db.displayName=I3;var Mb=Db;const R3=vc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),D=u.forwardRef(({className:e,...t},r)=>n.jsx(Mb,{ref:r,className:le(R3(),e),...t}));D.displayName=Mb.displayName;const sr=u.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));sr.displayName="Textarea";const A3=["Душанбе","Худжанд","Куляб","Курган-Тюбе","Истаравшан","Канибадам","Турсунзаде","Исфара","Пенджикент","Кайраккум","Вахдат","Яван","Нурек","Рогун","Дангира","Шахринав","Рудаки","Хисор","Вахш","Пяндж","Мургаб","Ишкашим","Хорог"];function D3(){const{user:e}=it(),[t,r]=u.useState([]),[s,a]=u.useState(!1),[i,o]=u.useState(!1),[l,c]=u.useState(3),[d,f]=u.useState(!1),[m,x]=u.useState(null),[y,b]=u.useState(!1),{data:p=[]}=xe({queryKey:["/api/admin/users"],enabled:(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.fullName)==="ADMIN"}),[j,h]=u.useState({make:"",model:"",year:"",mileage:"",price:"",reservePrice:"",description:"",auctionDuration:"7",bodyType:"",fuelType:"",transmission:"",engineVolume:"",driveType:"",color:"",condition:"",vin:"",location:"",customsCleared:"",recycled:"",technicalInspectionValid:"",technicalInspectionDate:"",tinted:"",tintingDate:"",batteryCapacity:"",electricRange:"",customMakeModel:""}),[v,g]=u.useState([]),{toast:w}=qe(),[,N]=He(),S=async I=>{const K=I.target.files;if(K){const U=20-t.length,k=Array.from(K).slice(0,U);w({title:"Обработка фотографий",description:`Сжимаем ${k.length} фото...`,duration:2e3});const F=await Promise.all(k.map(async R=>{const A=Math.round(R.size/1024);return console.log(`📸 Загружается фото: ${R.name}, размер: ${A}KB`),await E(R,.65,800)}));r(R=>[...R,...F]);const V=F.reduce((R,A)=>R+Math.round(A.length*3/4/1024),0);w({title:"Фотографии готовы",description:`${F.length} фото добавлено (${V}KB)`,duration:1500})}},E=(I,K,U)=>new Promise(k=>{const F=document.createElement("canvas"),V=F.getContext("2d"),R=new Image;R.onload=()=>{let{width:A,height:z}=R;if(A>U||z>U){const H=Math.min(U/A,U/z);A=Math.round(A*H),z=Math.round(z*H)}F.width=A,F.height=z,V.imageSmoothingEnabled=!1,V.drawImage(R,0,0,A,z);const Q=F.toDataURL("image/jpeg",K);k(Q),URL.revokeObjectURL(R.src)},R.src=URL.createObjectURL(I)}),P=I=>{r(K=>K.filter((U,k)=>k!==I))},C=(I,K)=>{if(h(U=>({...U,[I]:K})),I==="make"){const U=Ab(K);g(U),h(k=>({...k,model:""}))}},M=(I,K)=>{const k=K.replace(/[^\d]/g,"").slice(0,8);let F=k;k.length>=3&&(F=k.slice(0,2)+"."+k.slice(2)),k.length>=5&&(F=k.slice(0,2)+"."+k.slice(2,4)+"."+k.slice(4)),h(V=>({...V,[I]:F}))},q=async I=>{var R;I.preventDefault(),I.stopPropagation();const K=[{field:j.make,name:"Марка"},{field:j.model,name:"Модель"},...j.make==="Другие марки"?[{field:j.customMakeModel,name:"Марка и модель"}]:[],{field:j.year,name:"Год выпуска"},{field:j.mileage,name:"Пробег"},{field:j.bodyType,name:"Тип кузова"},{field:j.fuelType,name:"Тип топлива"},{field:j.transmission,name:"Коробка передач"},{field:j.engineVolume,name:"Объем двигателя"},{field:j.driveType,name:"Привод"},{field:j.color,name:"Цвет"},{field:j.condition,name:"Состояние"},{field:j.location,name:"Местоположение"},{field:j.customsCleared,name:"Растаможка"},{field:j.recycled,name:"Утилизационный сбор"},{field:j.technicalInspectionValid,name:"Техосмотр"},{field:j.tinted,name:"Тонировка"},{field:j.price,name:"Стартовая цена"},{field:j.description,name:"Описание"},{field:j.auctionDuration,name:"Продолжительность аукциона"}];if(j.technicalInspectionValid==="yes"&&!j.technicalInspectionDate){w({title:"Заполните дату техосмотра",variant:"destructive",duration:2e3});return}if(j.tinted==="yes"&&!j.tintingDate){w({title:"Заполните дату тонировки",variant:"destructive",duration:2e3});return}if(j.fuelType==="electric"){if(!j.batteryCapacity){w({title:"Заполните емкость батареи",description:"Для электромобилей обязательно указание емкости батареи в кВт·ч",variant:"destructive",duration:3e3});return}if(!j.electricRange){w({title:"Заполните запас хода",description:"Для электромобилей обязательно указание запаса хода в км",variant:"destructive",duration:3e3});return}const A=parseFloat(j.batteryCapacity),z=parseInt(j.electricRange);if(A<10||A>200){w({title:"Неверная емкость батареи",description:"Емкость батареи должна быть от 10 до 200 кВт·ч",variant:"destructive",duration:3e3});return}if(z<50||z>800){w({title:"Неверный запас хода",description:"Запас хода должен быть от 50 до 800 км",variant:"destructive",duration:3e3});return}}const U={Марка:"make",Модель:"model","Год выпуска":"year",Пробег:"mileage","Тип кузова":"bodyType","Тип топлива":"fuelType","Коробка передач":"transmission","Объем двигателя":"engineVolume",Привод:"driveType",Цвет:"color",Состояние:"condition",Местоположение:"location",Растаможка:"customsCleared","Утилизационный сбор":"recycled",Техосмотр:"technicalInspectionValid",Тонировка:"tinted","Стартовая цена":"price",Описание:"description","Продолжительность аукциона":"auctionDuration"};let k=null,F=null;for(const{field:A,name:z}of K){let Q=!1;if(z==="Техосмотр"||z==="Тонировка"||z==="Растаможка"||z==="Утилизационный сбор"?Q=!A:Q=!A||A.trim()==="",Q){k={field:A,name:z},F=U[z];break}}if(k){setTimeout(()=>{if(F){const A=document.getElementById(F);if(A)A.scrollIntoView({behavior:"smooth",block:"center"}),A.focus?A.focus():A.click&&A.click();else{const z=document.querySelector(`[data-field="${F}"]`)||document.querySelector(`label[for="${F}"]`)||document.querySelector(`[name="${F}"]`);z&&z.scrollIntoView({behavior:"smooth",block:"center"})}}},100),w({title:"Заполните все обязательные поля",description:`Первое незаполненное поле: ${k.name}`,variant:"destructive",duration:3e3});return}if(t.length<5){w({title:"Загрузите минимум 5 фотографий",variant:"destructive",duration:2e3});return}a(!0),console.log("Submitting car listing:",j,t),o(!0),c(3);let V;V=setInterval(()=>{c(A=>A<=1?(clearInterval(V),o(!1),N("/"),0):A-1)},1e3);try{console.log("Current user for listing:",e),console.log("User ID:",e==null?void 0:e.userId),console.log("Selected User ID:",m),console.log("Final sellerId:",m||(e==null?void 0:e.userId)||(e==null?void 0:e.id)||2);const A={sellerId:m||(e==null?void 0:e.userId)||(e==null?void 0:e.id)||2,make:j.make,model:j.model,customMakeModel:j.make==="Другие марки"?j.customMakeModel:null,year:parseInt(j.year),mileage:parseInt(j.mileage)||0,description:j.description,startingPrice:j.price,reservePrice:j.reservePrice||null,photos:t,auctionDuration:parseInt(j.auctionDuration),customsCleared:j.customsCleared==="yes",recycled:j.recycled==="yes",technicalInspectionValid:j.technicalInspectionValid==="yes",technicalInspectionDate:j.technicalInspectionDate||null,tinted:j.tinted==="yes",tintingDate:j.tintingDate||null,engine:j.engineVolume?`${j.engineVolume}L`:null,transmission:j.transmission||null,fuelType:j.fuelType||null,bodyType:j.bodyType||null,driveType:j.driveType||null,color:j.color||null,condition:j.condition||null,vin:j.vin||null,location:j.location||null,batteryCapacity:j.fuelType==="electric"&&j.batteryCapacity?parseFloat(j.batteryCapacity):null,electricRange:j.fuelType==="electric"&&j.electricRange?parseInt(j.electricRange):null},z=new AbortController,Q=setTimeout(()=>z.abort(),3e4);console.log("🚨 About to send listing data:",JSON.stringify({...A,photos:`[${A.photos.length} photos]`},null,2));const H=new FormData;Object.entries(A).forEach(([ge,Te])=>{ge!=="photos"&&Te!==null&&Te!==void 0&&H.append(ge,String(Te))}),console.log("📷 Обрабатываем фотографии:",t.length);for(let ge=0;ge<t.length;ge++)try{console.log(`📷 Обрабатываем фото ${ge}...`);const Te=t[ge],ne=await fetch(Te).then(ue=>ue.blob());H.append(`photo_${ge}`,ne,`photo_${ge}.jpg`),console.log(`✅ Фото ${ge} добавлено в FormData`)}catch(Te){throw console.error(`❌ Ошибка обработки фото ${ge}:`,Te),Te}console.log("🚀 Отправляем FormData запрос...");const oe=await fetch("/api/listings",{method:"POST",body:H,signal:z.signal,headers:{"x-user-id":((R=e==null?void 0:e.userId)==null?void 0:R.toString())||"","x-user-email":(e==null?void 0:e.email)||""}});if(console.log("📡 Response status:",oe.status),console.log("📡 Response headers:",oe.headers),clearTimeout(Q),oe.status!==200&&oe.status!==201){const ge=await oe.text().catch(()=>"Unknown error");throw console.error("❌ Ошибка HTTP:",oe.status,ge),new Error(`HTTP ${oe.status}: ${ge}`)}const be=await oe.json();setTimeout(()=>{h({make:"",model:"",year:"",mileage:"",price:"",reservePrice:"",description:"",auctionDuration:"7",bodyType:"",fuelType:"",transmission:"",engineVolume:"",driveType:"",color:"",condition:"",vin:"",location:"",customsCleared:"",recycled:"",technicalInspectionValid:"",technicalInspectionDate:"",tinted:"",tintingDate:"",batteryCapacity:"",electricRange:"",customMakeModel:""}),r([])},100),ga.setQueryData(["/api/listings"],ge=>Array.isArray(ge)?[be,...ge]:[be]),ga.setQueryData(["/api/listings"],ge=>ge,{updatedAt:Date.now()})}catch(A){console.error("Error creating listing:",A),clearInterval(V),o(!1),A instanceof Error&&(A.name==="AbortError"||A.message.includes("Failed to fetch")),w({title:"Ошибка создания объявления",variant:"destructive",duration:2e3})}finally{a(!1)}};return n.jsxs("div",{className:"min-h-screen bg-neutral-50 main-content",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-neutral-200",children:n.jsxs("div",{className:"container mx-auto px-4 py-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-neutral-900 text-center",children:"Продать автомобиль"}),n.jsx("p",{className:"text-neutral-600 mt-1 text-center",children:"Создайте объявление для аукциона"})]})}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:n.jsxs("form",{onSubmit:q,className:"space-y-6",children:[n.jsxs(Z,{children:[n.jsxs(ye,{children:[n.jsxs(je,{className:"flex items-center gap-2",children:[n.jsx(la,{className:"w-5 h-5"}),"Загрузите фото ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Минимум 5 фотографий автомобиля",n.jsxs("span",{className:`ml-2 font-medium ${t.length>=5?"text-green-600":"text-red-500"}`,children:["(",t.length,"/5)"]})]})]}),n.jsx(te,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[t.map((I,K)=>n.jsxs("div",{className:"relative aspect-video bg-neutral-100 rounded-lg overflow-hidden",children:[n.jsx("img",{src:I,alt:`Upload ${K+1}`,className:"w-full h-full object-cover"}),n.jsx(L,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 w-6 h-6 p-0",onClick:()=>P(K),children:n.jsx(_n,{className:"w-3 h-3"})})]},K)),t.length<20&&n.jsxs("label",{className:"aspect-video border-2 border-dashed border-neutral-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-primary hover:bg-neutral-50 transition-colors",children:[n.jsx(vn,{className:"w-8 h-8 text-neutral-400 mb-2"}),n.jsx("span",{className:"text-sm text-neutral-500",children:"Добавить фото"}),n.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:S})]})]})})]}),n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsx(je,{children:"Информация об автомобиле"})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"make",children:["Марка ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Ae,{value:j.make,onValueChange:I=>C("make",I),children:[n.jsx(Pe,{id:"make",children:n.jsx(De,{placeholder:"Выберите марку"})}),n.jsx(Ie,{children:Object.keys(_h).map(I=>n.jsx($,{value:I,children:I},I))})]})]}),n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"model",children:["Модель ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Ae,{value:j.model,onValueChange:I=>C("model",I),disabled:!j.make,children:[n.jsx(Pe,{id:"model",children:n.jsx(De,{placeholder:j.make?"Выберите модель":"Сначала выберите марку"})}),n.jsx(Ie,{children:v.map(I=>n.jsx($,{value:I,children:I},I))})]})]})]}),j.make==="Другие марки"&&n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"customMakeModel",children:["Укажите марку и модель ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(G,{id:"customMakeModel",type:"text",placeholder:"Например: Changan CS75, Hongqi H9, Новая Марка X1",value:j.customMakeModel,onChange:I=>C("customMakeModel",I.target.value),className:"mt-1"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Введите точную марку и модель автомобиля, если её нет в списке"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"year",children:["Год выпуска ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Ae,{value:j.year,onValueChange:I=>C("year",I),children:[n.jsx(Pe,{id:"year",children:n.jsx(De,{placeholder:"Год"})}),n.jsx(Ie,{children:Array.from({length:55},(I,K)=>2025-K).map(I=>n.jsx($,{value:I.toString(),children:I},I))})]})]}),n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"mileage",children:["Пробег (км) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(G,{id:"mileage",type:"number",placeholder:"150000",value:j.mileage,onChange:I=>C("mileage",I.target.value)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"bodyType",children:["Тип кузова ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Ae,{value:j.bodyType,onValueChange:I=>C("bodyType",I),children:[n.jsx(Pe,{id:"bodyType",children:n.jsx(De,{placeholder:"Тип кузова"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"sedan",children:"Седан"}),n.jsx($,{value:"crossover",children:"Кроссовер"}),n.jsx($,{value:"suv",children:"Внедорожник"}),n.jsx($,{value:"hatchback",children:"Хэтчбек"}),n.jsx($,{value:"wagon",children:"Универсал"}),n.jsx($,{value:"minivan",children:"Минивен"}),n.jsx($,{value:"coupe",children:"Купе"}),n.jsx($,{value:"convertible",children:"Кабриолет"}),n.jsx($,{value:"pickup",children:"Пикап"})]})]})]}),n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"fuelType",children:["Тип топлива ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Ae,{value:j.fuelType,onValueChange:I=>C("fuelType",I),children:[n.jsx(Pe,{id:"fuelType",children:n.jsx(De,{placeholder:"Топливо"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"gasoline",children:"Бензин"}),n.jsx($,{value:"diesel",children:"Дизель"}),n.jsx($,{value:"gas",children:"Газ"}),n.jsx($,{value:"gas_gasoline",children:"Газ+бензин"}),n.jsx($,{value:"hybrid",children:"Гибрид"}),n.jsx($,{value:"electric",children:"Электро"})]})]})]}),n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"transmission",children:["КПП ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Ae,{value:j.transmission,onValueChange:I=>C("transmission",I),children:[n.jsx(Pe,{id:"transmission",children:n.jsx(De,{placeholder:"КПП"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"automatic",children:"Автомат"}),n.jsx($,{value:"manual",children:"Механика"}),n.jsx($,{value:"cvt",children:"Вариатор"})]})]})]}),n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"engineVolume",children:["Объем двигателя (л) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(G,{id:"engineVolume",type:"number",step:"0.1",placeholder:"2.0",value:j.engineVolume,onChange:I=>C("engineVolume",I.target.value)})]}),n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"driveType",children:["Привод ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Ae,{value:j.driveType,onValueChange:I=>C("driveType",I),children:[n.jsx(Pe,{id:"driveType",children:n.jsx(De,{placeholder:"Привод"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"front",children:"Передний"}),n.jsx($,{value:"rear",children:"Задний"}),n.jsx($,{value:"all",children:"Полный"})]})]})]}),n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"color",children:["Цвет ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Ae,{value:j.color,onValueChange:I=>C("color",I),children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Цвет"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"white",children:"Белый"}),n.jsx($,{value:"black",children:"Черный"}),n.jsx($,{value:"silver",children:"Серебристый"}),n.jsx($,{value:"gray",children:"Серый"}),n.jsx($,{value:"red",children:"Красный"}),n.jsx($,{value:"blue",children:"Синий"}),n.jsx($,{value:"green",children:"Зеленый"}),n.jsx($,{value:"yellow",children:"Желтый"}),n.jsx($,{value:"brown",children:"Коричневый"}),n.jsx($,{value:"gold",children:"Золотистый"}),n.jsx($,{value:"other",children:"Другой"})]})]})]}),n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"condition",children:["Состояние ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Ae,{value:j.condition,onValueChange:I=>C("condition",I),children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Состояние автомобиля"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"excellent",children:"Отличное"}),n.jsx($,{value:"very_good",children:"Очень хорошее"}),n.jsx($,{value:"good",children:"Хорошее"}),n.jsx($,{value:"satisfactory",children:"Удовлетворительное"}),n.jsx($,{value:"requires_repair",children:"Требует ремонта"}),n.jsx($,{value:"accident",children:"После ДТП"}),n.jsx($,{value:"not_running",children:"Не на ходу"})]})]})]})]}),j.fuelType==="electric"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg border-2 border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("h4",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"⚡ Характеристики электромобиля"}),n.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 mb-4",children:"Дополнительные поля для электромобилей"})]}),n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"batteryCapacity",children:["Емкость батареи (кВт·ч) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(G,{id:"batteryCapacity",type:"number",step:"0.1",min:"10",max:"200",placeholder:"75.0",value:j.batteryCapacity,onChange:I=>C("batteryCapacity",I.target.value)}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Емкость аккумулятора в киловатт-часах"})]}),n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"electricRange",children:["Запас хода (км) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(G,{id:"electricRange",type:"number",min:"50",max:"800",placeholder:"400",value:j.electricRange,onChange:I=>C("electricRange",I.target.value)}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Дальность поездки на одной зарядке"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{children:[n.jsx(D,{htmlFor:"vin",children:"VIN-номер"}),n.jsx(G,{id:"vin",type:"text",placeholder:"Введите VIN-номер автомобиля",value:j.vin,onChange:I=>C("vin",I.target.value.toUpperCase()),maxLength:17}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"17-значный идентификационный номер автомобиля"})]}),n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"location",children:["Город ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Ae,{value:j.location,onValueChange:I=>C("location",I),children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Выберите город"})}),n.jsx(Ie,{children:A3.map(I=>n.jsx($,{value:I,children:I},I))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsxs(D,{children:["Растаможен ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(L,{type:"button",variant:j.customsCleared==="yes"?"default":"outline",className:"flex-1",onClick:()=>C("customsCleared","yes"),children:"Да"}),n.jsx(L,{type:"button",variant:j.customsCleared==="no"?"default":"outline",className:"flex-1",onClick:()=>C("customsCleared","no"),children:"Нет"})]})]}),n.jsxs("div",{children:[n.jsxs(D,{children:["Утилизация ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(L,{type:"button",variant:j.recycled==="yes"?"default":"outline",className:"flex-1",onClick:()=>C("recycled","yes"),children:"Есть"}),n.jsx(L,{type:"button",variant:j.recycled==="no"?"default":"outline",className:"flex-1",onClick:()=>C("recycled","no"),children:"Нет"})]})]}),n.jsxs("div",{children:[n.jsxs(D,{children:["Техосмотр ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(L,{type:"button",variant:j.technicalInspectionValid==="yes"?"default":"outline",className:"flex-1",onClick:()=>C("technicalInspectionValid","yes"),children:"Есть"}),n.jsx(L,{type:"button",variant:j.technicalInspectionValid==="no"?"default":"outline",className:"flex-1",onClick:()=>C("technicalInspectionValid","no"),children:"Нет"})]})]})]}),j.technicalInspectionValid==="yes"&&n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"technicalInspectionDate",children:["Действие техосмотра до ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(G,{id:"technicalInspectionDate",type:"text",value:j.technicalInspectionDate,onChange:I=>M("technicalInspectionDate",I.target.value),placeholder:"ДД.ММ.ГГГГ",maxLength:10})]}),n.jsxs("div",{children:[n.jsxs(D,{children:["Тонировка ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(L,{type:"button",variant:j.tinted==="yes"?"default":"outline",className:"flex-1",onClick:()=>C("tinted","yes"),children:"Есть"}),n.jsx(L,{type:"button",variant:j.tinted==="no"?"default":"outline",className:"flex-1",onClick:()=>C("tinted","no"),children:"Нет"})]})]}),j.tinted==="yes"&&n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"tintingDate",children:["Дата тонировки ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(G,{id:"tintingDate",type:"text",value:j.tintingDate,onChange:I=>M("tintingDate",I.target.value),placeholder:"ДД.ММ.ГГГГ",maxLength:10})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"price",children:["Стартовая цена (Сомони) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(G,{id:"price",type:"number",placeholder:"0",value:j.price,onChange:I=>C("price",I.target.value)})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(D,{htmlFor:"reservePrice",children:"Резервная цена (Сомони)"}),n.jsx("button",{type:"button",onClick:()=>f(!d),className:"inline-flex items-center p-1 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx(Xv,{className:"w-4 h-4 text-gray-400 hover:text-gray-600 cursor-pointer"})})]}),d&&n.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Резервная цена"})," - это минимальная цена, за которую вы готовы продать автомобиль. Она скрыта от покупателей и защищает вас от продажи по слишком низкой цене. Если ставки не достигнут резервной цены, вы не обязаны продавать автомобиль."]})}),n.jsx(G,{id:"reservePrice",type:"number",placeholder:"0",value:j.reservePrice,onChange:I=>C("reservePrice",I.target.value)}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Минимальная цена для продажи (не видна покупателям)"})]})]}),n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"description",children:["Описание ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(sr,{id:"description",placeholder:"Опишите состояние автомобиля, особенности, историю обслуживания...",rows:4,value:j.description,onChange:I=>C("description",I.target.value)})]}),n.jsxs("div",{children:[n.jsxs(D,{htmlFor:"auctionDuration",children:["Продолжительность аукциона ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(Ae,{value:j.auctionDuration,onValueChange:I=>C("auctionDuration",I),children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Выберите продолжительность"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"7",children:"7 дней"}),n.jsx($,{value:"10",children:"10 дней"}),n.jsx($,{value:"15",children:"15 дней"})]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Длительность торгов с момента активации аукциона"})]})]})]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.fullName)==="ADMIN")&&n.jsx(Z,{children:n.jsx(te,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ja,{className:"h-5 w-5 text-blue-600"}),n.jsx(D,{className:"text-lg font-semibold",children:"Создать объявление от имени пользователя"})]}),y?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"max-h-60 overflow-y-auto border rounded-md",children:[n.jsx("div",{className:"p-2",children:n.jsxs("button",{type:"button",onClick:()=>{x(null),b(!1)},className:`w-full text-left p-3 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${m===null?"bg-blue-100 dark:bg-blue-900 border-2 border-blue-500":"border-2 border-transparent"}`,children:[n.jsx("div",{className:"font-medium",children:"От моего имени"}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[e==null?void 0:e.phoneNumber," - ",e==null?void 0:e.fullName]})]})}),n.jsx("div",{className:"border-t",children:p.map((I,K)=>{const U=I.userId||I.id||`temp-${K}`;return n.jsxs("button",{type:"button",onClick:()=>{x(U),b(!1)},className:`w-full text-left p-3 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${m===U?"bg-blue-100 dark:bg-blue-900 border-2 border-blue-500":"border-2 border-transparent"}`,children:[n.jsx("div",{className:"font-medium",children:I.phoneNumber}),n.jsx("div",{className:"text-sm text-muted-foreground",children:I.fullName})]},`user-${U}`)})})]}),n.jsx(L,{type:"button",variant:"outline",onClick:()=>b(!1),className:"w-full",children:"Отмена"})]}):n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:m?(()=>{const I=p.find(K=>(K.userId||K.id)===m);return I?`Создается от имени: ${I.phoneNumber} - ${I.fullName}`:"Пользователь не найден"})():"По умолчанию создается от вашего имени"}),n.jsxs(L,{type:"button",variant:"outline",onClick:()=>b(!0),className:"w-full",children:[n.jsx(ja,{className:"mr-2 h-4 w-4"}),m?"Изменить пользователя":"Выбрать пользователя"]})]})]})})}),n.jsx(Z,{children:n.jsxs(te,{className:"p-6",children:[n.jsx(L,{type:"submit",disabled:s,className:"w-full bg-red-600 hover:bg-red-700 text-lg py-3 disabled:opacity-50",children:s?"Публикация...":"Разместить на аукционе"}),n.jsx("p",{className:"text-sm text-neutral-500 text-center mt-3",children:"После публикации объявление будет проверено модератором"})]})})]})}),n.jsx(Ms,{open:i,onOpenChange:()=>{},children:n.jsxs(Wr,{className:"sm:max-w-md",children:[n.jsxs(Hr,{children:[n.jsxs(Gr,{className:"flex items-center gap-2 text-green-600",children:[n.jsx(ch,{className:"h-6 w-6"}),"Успешно добавлено!"]}),n.jsx(ai,{children:"Ваше объявление успешно создано и будет проверено модератором."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"После проверки модератором объявление будет выставлено в аукцион."}),n.jsx("div",{className:"flex items-center justify-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Pt,{className:"h-4 w-4"}),"Переход на главную страницу через ",l," сек..."]})})]})]})})]})}var Ad="rovingFocusGroup.onEntryFocus",M3={bubbles:!1,cancelable:!0},Lc="RovingFocusGroup",[nm,Fb,F3]=sh(Lc),[O3,_c]=zt(Lc,[F3]),[L3,_3]=O3(Lc),Ob=u.forwardRef((e,t)=>n.jsx(nm.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(nm.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx($3,{...e,ref:t})})}));Ob.displayName=Lc;var $3=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=e,x=u.useRef(null),y=Re(t,x),b=Pc(i),[p=null,j]=tr({prop:o,defaultProp:l,onChange:c}),[h,v]=u.useState(!1),g=Tt(d),w=Fb(r),N=u.useRef(!1),[S,E]=u.useState(0);return u.useEffect(()=>{const P=x.current;if(P)return P.addEventListener(Ad,g),()=>P.removeEventListener(Ad,g)},[g]),n.jsx(L3,{scope:r,orientation:s,dir:b,loop:a,currentTabStopId:p,onItemFocus:u.useCallback(P=>j(P),[j]),onItemShiftTab:u.useCallback(()=>v(!0),[]),onFocusableItemAdd:u.useCallback(()=>E(P=>P+1),[]),onFocusableItemRemove:u.useCallback(()=>E(P=>P-1),[]),children:n.jsx(de.div,{tabIndex:h||S===0?-1:0,"data-orientation":s,...m,ref:y,style:{outline:"none",...e.style},onMouseDown:ae(e.onMouseDown,()=>{N.current=!0}),onFocus:ae(e.onFocus,P=>{const C=!N.current;if(P.target===P.currentTarget&&C&&!h){const M=new CustomEvent(Ad,M3);if(P.currentTarget.dispatchEvent(M),!M.defaultPrevented){const q=w().filter(F=>F.focusable),I=q.find(F=>F.active),K=q.find(F=>F.id===p),k=[I,K,...q].filter(Boolean).map(F=>F.ref.current);$b(k,f)}}N.current=!1}),onBlur:ae(e.onBlur,()=>v(!1))})})}),Lb="RovingFocusGroupItem",_b=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,...o}=e,l=$r(),c=i||l,d=_3(Lb,r),f=d.currentTabStopId===c,m=Fb(r),{onFocusableItemAdd:x,onFocusableItemRemove:y}=d;return u.useEffect(()=>{if(s)return x(),()=>y()},[s,x,y]),n.jsx(nm.ItemSlot,{scope:r,id:c,focusable:s,active:a,children:n.jsx(de.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:ae(e.onMouseDown,b=>{s?d.onItemFocus(c):b.preventDefault()}),onFocus:ae(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:ae(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const p=B3(b,d.orientation,d.dir);if(p!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let h=m().filter(v=>v.focusable).map(v=>v.ref.current);if(p==="last")h.reverse();else if(p==="prev"||p==="next"){p==="prev"&&h.reverse();const v=h.indexOf(b.currentTarget);h=d.loop?V3(h,v+1):h.slice(v+1)}setTimeout(()=>$b(h))}})})})});_b.displayName=Lb;var z3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function U3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function B3(e,t,r){const s=U3(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return z3[s]}function $b(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function V3(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var zb=Ob,Ub=_b,$h="Tabs",[q3,dP]=zt($h,[_c]),Bb=_c(),[K3,zh]=q3($h),Vb=u.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,f=Pc(l),[m,x]=tr({prop:s,onChange:a,defaultProp:i});return n.jsx(K3,{scope:r,baseId:$r(),value:m,onValueChange:x,orientation:o,dir:f,activationMode:c,children:n.jsx(de.div,{dir:f,"data-orientation":o,...d,ref:t})})});Vb.displayName=$h;var qb="TabsList",Kb=u.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=zh(qb,r),o=Bb(r);return n.jsx(zb,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(de.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Kb.displayName=qb;var Qb="TabsTrigger",Wb=u.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=zh(Qb,r),l=Bb(r),c=Xb(o.baseId,s),d=Jb(o.baseId,s),f=s===o.value;return n.jsx(Ub,{asChild:!0,...l,focusable:!a,active:f,children:n.jsx(de.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:ae(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(s):m.preventDefault()}),onKeyDown:ae(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(s)}),onFocus:ae(e.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!a&&m&&o.onValueChange(s)})})})});Wb.displayName=Qb;var Hb="TabsContent",Gb=u.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=zh(Hb,r),c=Xb(l.baseId,s),d=Jb(l.baseId,s),f=s===l.value,m=u.useRef(f);return u.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),n.jsx(ir,{present:a||f,children:({present:x})=>n.jsx(de.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!x,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:x&&i})})});Gb.displayName=Hb;function Xb(e,t){return`${e}-trigger-${t}`}function Jb(e,t){return`${e}-content-${t}`}var Q3=Vb,Yb=Kb,Zb=Wb,ew=Gb;const Uh=Q3,$c=u.forwardRef(({className:e,...t},r)=>n.jsx(Yb,{ref:r,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));$c.displayName=Yb.displayName;const ut=u.forwardRef(({className:e,...t},r)=>n.jsx(Zb,{ref:r,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ut.displayName=Zb.displayName;const mt=u.forwardRef(({className:e,...t},r)=>n.jsx(ew,{ref:r,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));mt.displayName=ew.displayName;function W3(){const[e,t]=u.useState("active"),r=[{id:"1",carTitle:"2020 Toyota Camry",currentBid:18500,myBid:18e3,bidCount:7,endTime:new Date(Date.now()+2*24*60*60*1e3),image:"https://images.unsplash.com/photo-1621007947382-bb3c3994e3fb?w=400",isWinning:!1,status:"outbid"},{id:"2",carTitle:"2019 BMW X5",currentBid:35e3,myBid:35e3,bidCount:12,endTime:new Date(Date.now()+5*24*60*60*1e3),image:"https://images.unsplash.com/photo-1555215695-3004980ad54e?w=400",isWinning:!0,status:"winning"}],s=[{id:"3",carTitle:"2018 Honda Accord",finalBid:16500,myBid:16e3,endDate:new Date(Date.now()-7*24*60*60*1e3),image:"https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=400",result:"lost"},{id:"4",carTitle:"2021 Mercedes C-Class",finalBid:28e3,myBid:28e3,endDate:new Date(Date.now()-14*24*60*60*1e3),image:"https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=400",result:"won"}];return n.jsxs("div",{className:"min-h-screen bg-neutral-50 main-content",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-neutral-200",children:n.jsxs("div",{className:"container mx-auto px-4 py-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Мои ставки"}),n.jsx("p",{className:"text-neutral-600 mt-1",children:"История участия в аукционах"})]})}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:n.jsxs(Uh,{value:e,onValueChange:t,children:[n.jsxs($c,{className:"grid w-full grid-cols-2 mb-6",children:[n.jsxs(ut,{value:"active",children:["Активные (",r.length,")"]}),n.jsxs(ut,{value:"completed",children:["Завершенные (",s.length,")"]})]}),n.jsx(mt,{value:"active",className:"space-y-4",children:r.length>0?r.map(a=>n.jsx(Z,{className:"overflow-hidden",children:n.jsx(te,{className:"p-0",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"w-32 h-24 bg-neutral-100",children:n.jsx("img",{src:a.image,alt:a.carTitle,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h3",{className:"font-semibold text-neutral-900",children:a.carTitle}),n.jsx(ve,{variant:a.isWinning?"default":"secondary",className:a.isWinning?"bg-green-100 text-green-700":"bg-red-100 text-red-700",children:a.isWinning?"Лидируете":"Перебили"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-neutral-500",children:"Моя ставка"}),n.jsxs("p",{className:"font-semibold text-neutral-900",children:[a.myBid.toLocaleString()," Сомони"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-neutral-500",children:"Текущая ставка"}),n.jsxs("p",{className:"font-semibold text-emerald-600",children:[a.currentBid.toLocaleString()," Сомони"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Fc,{endTime:a.endTime,size:"small"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(L,{variant:"outline",size:"sm",children:[n.jsx(Vr,{className:"w-4 h-4 mr-1"}),"Смотреть"]}),!a.isWinning&&n.jsx(L,{size:"sm",children:"Повысить ставку"})]})]})]})]})})},a.id)):n.jsx(Z,{children:n.jsxs(te,{className:"p-8 text-center",children:[n.jsx(Ir,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-neutral-700 mb-2",children:"Нет активных ставок"}),n.jsx("p",{className:"text-neutral-500 mb-4",children:"Участвуйте в аукционах, чтобы найти автомобиль своей мечты"}),n.jsx(L,{children:"Перейти к аукционам"})]})})}),n.jsx(mt,{value:"completed",className:"space-y-4",children:s.length>0?s.map(a=>n.jsx(Z,{className:"overflow-hidden",children:n.jsx(te,{className:"p-0",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"w-32 h-24 bg-neutral-100",children:n.jsx("img",{src:a.image,alt:a.carTitle,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h3",{className:"font-semibold text-neutral-900",children:a.carTitle}),n.jsx(ve,{variant:a.result==="won"?"default":"secondary",className:a.result==="won"?"bg-green-100 text-green-700":"bg-red-100 text-red-700",children:a.result==="won"?n.jsxs(n.Fragment,{children:[n.jsx(Ul,{className:"w-3 h-3 mr-1"}),"Выиграли"]}):n.jsxs(n.Fragment,{children:[n.jsx(_n,{className:"w-3 h-3 mr-1"}),"Проиграли"]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-neutral-500",children:"Моя ставка"}),n.jsxs("p",{className:"font-semibold text-neutral-900",children:[a.myBid.toLocaleString()," Сомони"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-neutral-500",children:"Финальная цена"}),n.jsxs("p",{className:"font-semibold text-neutral-900",children:[a.finalBid.toLocaleString()," Сомони"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-neutral-500",children:["Завершен ",a.endDate.toLocaleDateString("ru-RU")]}),n.jsxs(L,{variant:"outline",size:"sm",children:[n.jsx(Vr,{className:"w-4 h-4 mr-1"}),"Подробности"]})]})]})]})})},a.id)):n.jsx(Z,{children:n.jsxs(te,{className:"p-8 text-center",children:[n.jsx(Ul,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-neutral-700 mb-2",children:"Нет завершенных ставок"}),n.jsx("p",{className:"text-neutral-500",children:"История ваших участий в аукционах появится здесь"})]})})})]})})]})}function H3(){const{user:e}=it(),[,t]=He(),{data:r=[],isLoading:s}=xe({queryKey:[`/api/users/${e==null?void 0:e.userId}/wins`],enabled:!!e&&!!(e!=null&&e.userId),staleTime:3e4,gcTime:6e4}),a=c=>`${Number(c).toLocaleString()} сомони`,i=c=>{const d=new Date(c);return isNaN(d.getTime())?"Дата неизвестна":d.toLocaleString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},o=()=>{t("/profile")},l=c=>{t(`/auction/${c}`)};return s?n.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(L,{variant:"ghost",size:"icon",onClick:o,className:"rounded-full",children:n.jsx(Pt,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Мои выигрыши"}),n.jsx("p",{className:"text-gray-600",children:"Все выигранные мною аукционы"})]})]}),n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((c,d)=>n.jsx(Z,{className:"animate-pulse",children:n.jsx(te,{className:"p-6",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"w-24 h-16 bg-gray-200 rounded-lg"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})})},d))})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 p-4 pb-32",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(L,{variant:"ghost",size:"icon",onClick:o,className:"rounded-full",children:n.jsx(Pt,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Мои выигрыши"}),n.jsx("p",{className:"text-gray-600",children:"Все выигранные мною аукционы"})]})]}),r.length===0?n.jsx(Z,{className:"text-center py-12",children:n.jsxs(te,{children:[n.jsx(Ul,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Пока нет выигрышей"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Участвуйте в аукционах, чтобы выиграть автомобили"}),n.jsx(L,{onClick:()=>t("/"),children:"Посмотреть аукционы"})]})}):n.jsx("div",{className:"space-y-4",children:r.map(c=>{var d,f,m;return n.jsx("div",{className:"border rounded-lg p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200 hover:shadow-lg transition-shadow duration-200 cursor-pointer",onClick:()=>l(c.listingId),children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ve,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"🏆 ПОБЕДА"}),((d=c.listing)==null?void 0:d.lotNumber)&&n.jsxs("span",{className:"text-sm text-gray-600",children:["Лот #",c.listing.lotNumber]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:c.listing?`${c.listing.make} ${c.listing.model}`:"Автомобиль"}),((f=c.listing)==null?void 0:f.year)&&n.jsxs("p",{className:"text-gray-600",children:[c.listing.year," год"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-lg text-green-600",children:a(c.winningBid)}),n.jsx("p",{className:"text-sm text-gray-600",children:"Выигрышная ставка"})]}),n.jsx("div",{children:n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx(Qv,{className:"w-4 h-4"}),n.jsx("span",{children:i(c.wonAt||c.createdAt)})]})})]})]}),n.jsx("div",{className:"flex-shrink-0",children:(m=c.listing)!=null&&m.photos&&c.listing.photos.length>0?n.jsx(Oc,{listingId:String(c.listingId),make:c.listing.make,model:c.listing.model,year:c.listing.year,photos:c.listing.photos,className:"w-20 h-16 object-cover rounded-lg border-2 border-yellow-300"}):n.jsx("div",{className:"w-20 h-16 bg-gray-200 rounded-lg flex items-center justify-center border-2 border-yellow-300",children:n.jsx(Ze,{className:"h-8 w-8 text-gray-400"})})})]})},c.id)})})]})})}function G3(){const{user:e,logout:t,refreshUserStatus:r}=it(),{userData:s,updateUserData:a}=Ky(),[,i]=He(),o=u.useRef(null),{toast:l}=qe(),c=Le(),{data:d,refetch:f}=xe({queryKey:[`/api/users/${e==null?void 0:e.userId}`],enabled:!!e&&!!(e!=null&&e.userId),refetchInterval:30*1e3,staleTime:2*60*1e3,gcTime:5*60*1e3,retry:3,retryDelay:h=>Math.min(1e3*2**h,3e4)});u.useEffect(()=>{d&&e&&d.isActive!==e.isActive&&r()},[d,e,r]);const m=d||e,x=(d==null?void 0:d.isActive)??(e==null?void 0:e.isActive)??!1,y=Ne({mutationFn:async h=>{const v=e==null?void 0:e.userId;if(!v)throw new Error("User ID not found");const g=await fetch(`/api/users/${v}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({profilePhoto:h})});if(!g.ok)throw new Error("Failed to update profile photo");return g.json()},onSuccess:()=>{c.invalidateQueries({queryKey:[`/api/users/${e==null?void 0:e.userId}`]}),l({title:"Успешно!",description:"Фотография профиля сохранена"})},onError:h=>{console.error("Error updating profile photo:",h),l({title:"Ошибка",description:"Не удалось сохранить фотографию профиля",variant:"destructive"})}}),b=h=>{var g;const v=(g=h.target.files)==null?void 0:g[0];if(v){if(!v.type.startsWith("image/")){l({title:"Ошибка",description:"Пожалуйста, выберите файл изображения",variant:"destructive"});return}if(v.size>5*1024*1024){l({title:"Ошибка",description:"Размер файла не должен превышать 5MB",variant:"destructive"});return}const w=new FileReader;w.onload=N=>{var E;const S=(E=N.target)==null?void 0:E.result;a({profilePhoto:S}),y.mutate(S)},w.readAsDataURL(v)}},p=()=>{var h;(h=o.current)==null||h.click()},j=[{icon:Gn,label:"Мои данные",action:()=>i("/user-data")},{icon:Ze,label:"Мои продажи",action:()=>i("/my-sales")},{icon:Ul,label:"Мои выигрыши",action:()=>i("/my-wins")},{icon:ht,label:"Поисковые уведомления",action:()=>i("/notifications")},...(m==null?void 0:m.role)==="admin"?[{icon:eo,label:"Админ панель",action:()=>i("/admin")}]:[],{icon:OC,label:"Поменять язык",action:()=>i("/language")},{icon:Xv,label:"Правила и условия",action:()=>i("/terms")},{icon:ya,label:"Политика конфиденциальности",action:()=>i("/privacy")},{icon:Ns,label:"Связаться с оператором",action:()=>window.open("https://wa.me/992903331332","_blank")}];return e?n.jsxs("div",{className:"min-h-screen bg-gray-50 main-content",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Профиль"})})})}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsx("div",{className:"bg-white rounded-2xl p-6 mb-6 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"relative inline-block mb-4",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden mx-auto",children:d!=null&&d.profilePhoto||s.profilePhoto?n.jsx("img",{src:(d==null?void 0:d.profilePhoto)||s.profilePhoto,alt:"Фото профиля",className:"w-full h-full object-cover"}):n.jsx(Gn,{className:"w-12 h-12 text-gray-600"})}),n.jsx("button",{onClick:p,className:"absolute bottom-0 right-0 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors",children:n.jsx(An,{className:"w-4 h-4 text-white"})}),n.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:b,className:"hidden"})]}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:(m==null?void 0:m.fullName)||(d==null?void 0:d.fullName)||(e==null?void 0:e.fullName)||"Не указано"}),n.jsx("p",{className:"text-gray-600 text-lg mb-3",children:(m==null?void 0:m.phoneNumber)||(e==null?void 0:e.phoneNumber)||s.phoneNumber}),n.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${s.accountType==="dealer"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:[s.accountType==="dealer"?n.jsx(RC,{className:"w-4 h-4 mr-2"}):n.jsx(qC,{className:"w-4 h-4 mr-2"}),s.accountType==="dealer"?"Дилер":"Частное лицо"]}),n.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${x?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[x?n.jsx(Ha,{className:"w-4 h-4 mr-2"}):n.jsx(Mp,{className:"w-4 h-4 mr-2"}),x?"Активирован":"Не активирован"]})]})]})}),!x&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 mb-6",children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center mb-3",children:n.jsx(Mp,{className:"w-4 h-4 text-yellow-600"})}),n.jsx("h3",{className:"font-medium text-yellow-800 mb-2",children:"Аккаунт не активирован"}),n.jsx("p",{className:"text-sm text-yellow-700 mb-4",children:"Для активации аккаунта необходимо пройти верификацию. Обратитесь в службу поддержки через WhatsApp или по номеру +992903331332."}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>window.open("https://wa.me/992903331332?text=Здравствуйте! Мне нужно активировать аккаунт на AUTOBID.TJ","_blank"),className:"bg-yellow-600 text-white px-6 py-2 rounded-lg text-sm font-medium hover:bg-yellow-700 transition-colors",children:"Связаться с поддержкой"}),n.jsx("button",{onClick:async()=>{await r(),l({title:"Статус обновлен",description:"Проверили актуальный статус вашего аккаунта",duration:2e3})},className:"bg-blue-600 text-white px-6 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Проверить статус"})]})]})}),n.jsx("div",{className:"bg-white rounded-2xl shadow-sm mb-6",children:j.map((h,v)=>n.jsxs("button",{onClick:h.action,className:`w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors ${v===0?"rounded-t-2xl":""} ${v===j.length-1?"rounded-b-2xl":"border-b border-gray-100"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(h.icon,{className:"w-5 h-5 text-gray-600"}),n.jsx("span",{className:"text-gray-900 font-medium",children:h.label})]}),n.jsx(zl,{className:"w-5 h-5 text-gray-400"})]},h.label))}),n.jsx("div",{className:"bg-white rounded-2xl shadow-sm",children:n.jsxs("button",{onClick:async()=>{await t(),i("/home")},className:"w-full flex items-center justify-between p-4 hover:bg-red-50 transition-colors rounded-2xl",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_C,{className:"w-5 h-5 text-red-600"}),n.jsx("span",{className:"text-red-600 font-medium",children:"Выйти"})]}),n.jsx(zl,{className:"w-5 h-5 text-red-400"})]})})]})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center main-content",children:n.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg text-center max-w-md mx-4",children:[n.jsx(Gn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Необходимо войти"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Войдите для доступа к профилю"}),n.jsx(Ln,{href:"/login",children:n.jsx(L,{className:"w-full",children:"Войти"})})]})})}function X3({userId:e}){const t=Le(),{toast:r}=qe(),[s,a]=u.useState(new Set),[i,o]=u.useState(0),l=y=>{s.has(y)||f.isPending||f.mutate(y)},{data:c=[],isLoading:d}=xe({queryKey:["/api/car-alerts",e,i],queryFn:async()=>{const y=await fetch(`/api/car-alerts/${e}`);if(!y.ok)throw new Error("Failed to fetch car alerts");return y.json()},staleTime:3e4,gcTime:3e5,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchInterval:!1,retry:2,retryDelay:1e3}),f=Ne({mutationFn:async y=>{try{const b=await fetch(`/api/car-alerts/${y}`,{method:"DELETE"});if(!b.ok){if(b.status===404)return{};const p=await b.text();throw console.error("Delete error response:",b.status,p),new Error(`Ошибка удаления: ${b.status}`)}return{}}catch(b){throw console.error("Delete mutation error:",b),b}},onMutate:async y=>{if(s.has(y))throw new Error("Элемент уже удаляется");a(p=>new Set(p).add(y)),await t.cancelQueries({queryKey:["/api/car-alerts",e]});const b=t.getQueryData(["/api/car-alerts",e]);return t.setQueryData(["/api/car-alerts",e],(p=[])=>p.filter(j=>j.id!==y)),{previousAlerts:b}},onError:(y,b,p)=>{console.error("Delete alert error:",y),a(h=>{const v=new Set(h);return v.delete(b),v}),p!=null&&p.previousAlerts&&t.setQueryData(["/api/car-alerts",e],p.previousAlerts);const j=y instanceof Error?y.message:"Неизвестная ошибка";j!=="Элемент уже удаляется"&&r({title:"Ошибка при удалении",description:j,variant:"destructive",duration:3e3})},onSuccess:async(y,b)=>{a(p=>{const j=new Set(p);return j.delete(b),j}),t.removeQueries({queryKey:["/api/car-alerts"]}),t.removeQueries({queryKey:["/api/notifications"]}),await t.invalidateQueries({queryKey:["/api/car-alerts",e],exact:!1,refetchType:"all"}),t.setQueryData(["/api/car-alerts",e,i],[]),o(p=>p+1),r({title:"Поисковый запрос удален",duration:1e3})},onSettled:async(y,b,p)=>{a(j=>{const h=new Set(j);return h.delete(p),h}),t.removeQueries({queryKey:["/api/car-alerts",e]}),t.removeQueries({queryKey:["/api/car-alerts"]}),t.clear(),o(j=>j+1),setTimeout(()=>{t.removeQueries({queryKey:["/api/car-alerts",e]}),t.removeQueries({queryKey:["/api/car-alerts"]}),o(j=>j+1)},100),setTimeout(()=>{t.removeQueries({queryKey:["/api/car-alerts",e]}),o(j=>j+1)},300)}}),m=y=>new Date(y).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),x=y=>{var p;let b=((p=y.make)==null?void 0:p.toUpperCase())||"Любая марка";return y.model&&(b+=` ${y.model}`),(y.minYear||y.maxYear)&&(b+=` (${y.minYear||"любой"}-${y.maxYear||"любой"} г.)`),(y.minPrice||y.maxPrice)&&(b+=` $${y.minPrice||"0"}-${y.maxPrice||"∞"}`),b};return d?n.jsxs(Z,{className:"border shadow-sm bg-white",children:[n.jsx(ye,{className:"pb-4 bg-gray-50 rounded-t-lg",children:n.jsxs(je,{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center",children:n.jsx(ht,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Сохраненные поисковые запросы"})]})}),n.jsx(te,{children:n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-gray-200 border-t-gray-800 rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Загрузка сохраненных запросов..."})]})})]}):c.length===0?n.jsxs(Z,{className:"border shadow-sm bg-white",children:[n.jsx(ye,{className:"pb-4 bg-gray-50 rounded-t-lg",children:n.jsxs(je,{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center",children:n.jsx(ht,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Сохраненные поисковые запросы"})]})}),n.jsx(te,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(ht,{className:"w-10 h-10 text-gray-500"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Нет сохраненных запросов"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Вы еще не создали ни одного поискового запроса"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-w-lg mx-auto",children:n.jsx("p",{className:"text-sm text-gray-700",children:"Создайте поисковые запросы на главной странице для отслеживания новых автомобилей"})})]})})]}):n.jsxs(Z,{className:"border shadow-sm bg-white",children:[n.jsx(ye,{className:"pb-4 bg-gray-50 rounded-t-lg",children:n.jsxs(je,{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center",children:n.jsx(ht,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Сохраненные поисковые запросы"})]})}),n.jsx(te,{className:"space-y-4 p-6",children:c.map(y=>n.jsx("div",{className:"group p-5 border border-gray-200 rounded-xl transition-all duration-200 bg-gray-50 hover:bg-gray-100 hover:shadow-md",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 bg-gray-600",children:n.jsx(ht,{className:"w-4 h-4 text-white"})}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"mb-3",children:[n.jsx("div",{className:"flex items-start justify-between mb-2",children:n.jsxs("h4",{className:"text-sm font-semibold text-gray-900",children:["Поисковый запрос",y.isActive&&n.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full ml-2"})]})}),n.jsx("div",{className:"p-3 rounded-lg bg-white border border-gray-200",children:n.jsx("p",{className:"text-sm text-gray-700 font-medium",children:x(y)})}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:["Создан ",m(y.createdAt)]})]})})]}),n.jsx("div",{className:"flex items-center gap-2 ml-4",children:n.jsx(L,{variant:"outline",size:"sm",onClick:()=>l(y.id),disabled:s.has(y.id)||f.isPending,className:"border-red-300 text-red-600 hover:bg-red-50 disabled:opacity-50",children:s.has(y.id)?n.jsx("div",{className:"w-4 h-4 border-2 border-red-300 border-t-red-600 rounded-full animate-spin"}):n.jsx($t,{className:"w-4 h-4"})})})]})},y.id))}),n.jsx("div",{className:"h-32"})]})}function J3({userId:e}){const t=Le(),{toast:r}=qe(),[s,a]=u.useState(new Set),{data:i=[],isLoading:o}=xe({queryKey:["/api/notifications",e],queryFn:async()=>{const x=await fetch(`/api/notifications/${e}`);if(!x.ok)throw new Error("Failed to fetch notifications");return x.json()},staleTime:3e4,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchInterval:!1}),l=Ne({mutationFn:async x=>{if(!(await fetch(`/api/notifications/${x}`,{method:"DELETE",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}})).ok)throw new Error("Failed to delete notification");return{}},onMutate:async x=>{if(s.has(x))throw new Error("Уведомление уже удаляется");a(b=>new Set(b).add(x)),await t.cancelQueries({queryKey:["/api/notifications",e]});const y=t.getQueryData(["/api/notifications",e]);return t.setQueryData(["/api/notifications",e],(b=[])=>b.filter(p=>p.id!==x)),{previousNotifications:y}},onError:(x,y,b)=>{console.error("Delete notification error:",x),a(j=>{const h=new Set(j);return h.delete(y),h}),b!=null&&b.previousNotifications&&t.setQueryData(["/api/notifications",e],b.previousNotifications);const p=x instanceof Error?x.message:"Неизвестная ошибка";p!=="Уведомление уже удаляется"&&r({title:"Ошибка при удалении",description:p,variant:"destructive",duration:3e3})},onSuccess:async(x,y)=>{a(b=>{const p=new Set(b);return p.delete(y),p}),t.removeQueries({queryKey:["/api/notifications",e]}),t.removeQueries({queryKey:[`/api/notifications/${e}`]}),t.removeQueries({queryKey:["/api/notifications"]});try{localStorage.removeItem("deletedNotificationIds")}catch(b){console.warn("Failed to clear localStorage:",b)}await t.refetchQueries({queryKey:["/api/notifications",e]}),await t.refetchQueries({queryKey:[`/api/notifications/${e}`]}),r({title:"Уведомление удалено",duration:1e3})},onSettled:async(x,y,b)=>{a(p=>{const j=new Set(p);return j.delete(b),j})}}),c=x=>{s.has(x)||l.isPending||l.mutate(x)},d=x=>new Date(x).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),f=x=>{switch(x){case"bid_outbid":return n.jsx(Ze,{className:"w-4 h-4 text-orange-600"});case"alert_create":return n.jsx(ht,{className:"w-4 h-4 text-blue-600"});default:return n.jsx(ht,{className:"w-4 h-4 text-gray-600"})}},m=x=>{switch(x){case"bid_outbid":return"border-orange-200 bg-orange-50";case"alert_create":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-gray-50"}};return o?n.jsx(Z,{className:"border shadow-sm bg-white",children:n.jsx(te,{children:n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-gray-200 border-t-gray-800 rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Загрузка уведомлений..."})]})})}):i.length===0?n.jsxs(Z,{className:"border shadow-sm bg-white",children:[n.jsx(ye,{className:"pb-4 bg-gray-50 rounded-t-lg",children:n.jsxs(je,{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center",children:n.jsx(ht,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Уведомления"})]})}),n.jsx(te,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(ht,{className:"w-10 h-10 text-gray-500"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Нет уведомлений"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"У вас пока нет уведомлений"})]})})]}):n.jsxs(Z,{className:"border shadow-sm bg-white",children:[n.jsx(ye,{className:"pb-4 bg-gray-50 rounded-t-lg",children:n.jsxs(je,{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center",children:n.jsx(ht,{className:"w-5 h-5 text-white"})}),n.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["Уведомления (",i.length,")"]})]})}),n.jsx(te,{className:"space-y-4 p-6",children:i.map(x=>n.jsx("div",{className:`group p-5 border rounded-xl transition-all duration-200 hover:shadow-md ${m(x.type)}`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 bg-white border",children:f(x.type)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("div",{className:"flex items-start justify-between mb-2",children:n.jsxs("h4",{className:"text-sm font-semibold text-gray-900",children:[x.title,!x.isRead&&n.jsx("span",{className:"inline-block w-2 h-2 bg-red-500 rounded-full ml-2"})]})}),n.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:x.message})]}),n.jsx("div",{className:"text-xs text-gray-500",children:d(x.createdAt)})]})]}),n.jsx(L,{onClick:()=>c(x.id),disabled:s.has(x.id)||l.isPending,variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-gray-500 hover:text-red-600 hover:bg-red-50",children:s.has(x.id)?n.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-red-600 rounded-full animate-spin"}):n.jsx($t,{className:"w-4 h-4"})})]})},x.id))})]})}function Y3(){const[,e]=He(),{user:t}=it(),r=(t==null?void 0:t.userId)||3;return n.jsxs("div",{className:"min-h-screen bg-gray-50 page-content",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[n.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>e("/profile"),className:"hover:bg-gray-100 transition-colors",children:[n.jsx(Pt,{className:"w-5 h-5 mr-2"}),"Назад"]}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Уведомления"}),n.jsx("div",{className:"w-16"})," "]})}),n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsx(J3,{userId:r}),n.jsx(X3,{userId:r})]})})]})}function Z3(){const e=Le(),{toast:t}=qe(),r=3,{data:s=[],isLoading:a}=xe({queryKey:["/api/car-alerts",r],queryFn:async()=>{const c=await fetch(`/api/car-alerts/${r}`);if(!c.ok)throw new Error("Failed to fetch alerts");return c.json()}}),i=Ne({mutationFn:async c=>{if(!(await fetch(`/api/car-alerts/${c}`,{method:"DELETE"})).ok)throw new Error("Failed to delete alert")},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/car-alerts",r]}),t({title:"Уведомление удалено",description:"Уведомление успешно удалено"})},onError:()=>{t({title:"Ошибка",description:"Не удалось удалить уведомление",variant:"destructive"})}}),o=c=>{const d=[];return c.make&&d.push(`Марка: ${c.make}`),c.model&&d.push(`Модель: ${c.model}`),c.minYear&&d.push(`Год от: ${c.minYear}`),c.maxYear&&d.push(`Год до: ${c.maxYear}`),c.minPrice&&d.push(`Цена от: $${c.minPrice}`),c.maxPrice&&d.push(`Цена до: $${c.maxPrice}`),d.join(", ")},l=c=>new Date(c).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return n.jsxs("div",{className:"min-h-screen bg-gray-50 main-content",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Ln,{href:"/profile",children:n.jsx(L,{variant:"ghost",size:"sm",children:n.jsx(Pt,{className:"w-4 h-4"})})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Мои уведомления"})]})})}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:n.jsx("div",{className:"max-w-2xl mx-auto",children:a?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Загрузка уведомлений..."})]}):s.length===0?n.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center shadow-sm",children:[n.jsx(ht,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Нет активных уведомлений"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Создайте уведомление при поиске автомобилей, чтобы получать информацию о новых объявлениях"}),n.jsx(Ln,{href:"/auctions",children:n.jsxs(L,{children:[n.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Перейти к поиску"]})})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ht,{className:"w-5 h-5 text-blue-600"}),n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Активные уведомления (",s.length,")"]})]}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Вы получите уведомление, когда появятся автомобили по указанным критериям"})]}),s.map(c=>n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Ze,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"font-semibold text-gray-900",children:"Поиск автомобиля"})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsx("p",{className:"text-gray-700",children:o(c)}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Создано: ",l(c.createdAt)]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Активно"})})]}),n.jsx(L,{variant:"ghost",size:"sm",onClick:()=>i.mutate(c.id),disabled:i.isPending,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx($t,{className:"w-4 h-4"})})]})},c.id))]})})})]})}function e5(){var K,U;const[,e]=He(),{toast:t}=qe(),{userData:r,updateUserData:s}=Ky(),[a,i]=u.useState(r),[o,l]=u.useState(!1),[c,d]=u.useState(r.fullName||""),[f,m]=u.useState({front:null,back:null}),[x,y]=u.useState({type:null,url:null}),b=Le(),{user:p}=it();u.useEffect(()=>{i(r),d(r.fullName||"")},[r]),u.useEffect(()=>{const k=F=>{F.key==="Escape"&&x.url&&E()};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[x.url]);const j=()=>(p==null?void 0:p.userId)||null,{data:h=[],isLoading:v}=xe({queryKey:[`/api/users/${j()}/documents`],enabled:!!j(),refetchOnWindowFocus:!1,retry:2});u.useEffect(()=>{if(h.length>0){const k=h.filter(Q=>Q.type==="passport"),F=k.find(Q=>{var H,oe,be;return((H=Q.title)==null?void 0:H.toLowerCase().includes("передняя"))||((oe=Q.title)==null?void 0:oe.toLowerCase().includes("front"))||((be=Q.title)==null?void 0:be.toLowerCase().includes("перед"))||Q.order===0}),V=k.find(Q=>{var H,oe,be;return((H=Q.title)==null?void 0:H.toLowerCase().includes("задняя"))||((oe=Q.title)==null?void 0:oe.toLowerCase().includes("back"))||((be=Q.title)==null?void 0:be.toLowerCase().includes("зад"))||Q.order===1}),R=F||k[0],A=V||k[1],z={front:(R==null?void 0:R.fileUrl)||null,back:(A==null?void 0:A.fileUrl)||null};m(Q=>Q.front!==z.front||Q.back!==z.back?(console.log(`📋 Загружено документов из БД: ${h.length}`),console.log(`📄 Документы паспорта: ${k.length}`),R&&console.log("✅ Найден документ передней части паспорта"),A&&console.log("✅ Найден документ задней части паспорта"),z):Q)}else m(k=>k.front!==null||k.back!==null?(console.log("📋 Документы не найдены, очищаем превью"),{front:null,back:null}):k)},[h]);const g=Ne({mutationFn:async k=>{const F=j();if(!F)throw new Error("User not authenticated");const V=await fetch(`/api/users/${F}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!V.ok)throw new Error("Failed to update profile");return V.json()},onSuccess:k=>{b.invalidateQueries({queryKey:[`/api/users/${k.id}`]})},onError:()=>{t({title:"Ошибка",description:"Не удалось сохранить изменения",variant:"destructive",duration:3e3})}}),w=k=>new Promise(F=>{const V=new FileReader;V.onload=R=>{var A;F((A=R.target)==null?void 0:A.result)},V.readAsDataURL(k)}),N=k=>async F=>{var R;const V=(R=F.target.files)==null?void 0:R[0];if(V){const A=await w(V);m(z=>({...z,[k]:A})),s({[k==="front"?"passportFront":"passportBack"]:V});try{const z=j();z&&((await fetch(`/api/users/${z}/documents`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"passport",title:`Паспорт - ${k==="front"?"передняя часть":"задняя часть"}`,content:`Фотография паспорта (${k==="front"?"передняя":"задняя"} часть)`,fileData:A})})).ok?(console.log(`✅ Документ паспорта (${k}) сохранен в базу данных`),b.invalidateQueries({queryKey:[`/api/users/${z}/documents`]})):console.error(`❌ Ошибка сохранения документа паспорта (${k})`))}catch(z){console.error("❌ Ошибка сохранения документа в базу данных:",z)}t({title:"Файл загружен",description:`${k==="front"?"Передняя":"Задняя"} часть паспорта загружена`,duration:3e3})}},S=k=>{const F=f[k];F&&y({type:k,url:F})},E=()=>{y({type:null,url:null})},P=(k,F)=>{i(V=>({...V,[k]:F})),s({[k]:F})},C=()=>{l(!0),d(I.fullName||"")},M=()=>{if(c.trim()===""){t({title:"Ошибка",description:"ФИО не может быть пустым",variant:"destructive",duration:3e3});return}s({fullName:c}),g.mutate({fullName:c}),l(!1)},q=()=>{d(I.fullName||""),l(!1)},I={...r,fullName:(p==null?void 0:p.fullName)||r.fullName,phoneNumber:(p==null?void 0:p.phoneNumber)||r.phoneNumber,email:(p==null?void 0:p.email)||r.email};return n.jsxs("div",{className:"min-h-screen bg-gray-50 main-content",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[n.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>e("/profile"),children:[n.jsx(Pt,{className:"w-5 h-5 mr-2"}),"Назад"]}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Мои данные"}),n.jsx("div",{className:"w-16"})]})}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:n.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsxs(je,{className:"flex items-center gap-2",children:[n.jsx(Gn,{className:"w-5 h-5"}),"Личная информация"]})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(D,{htmlFor:"fullName",children:"ФИО"}),o?n.jsxs("div",{className:"mt-1 space-y-2",children:[n.jsx(G,{id:"fullName",value:c,onChange:k=>d(k.target.value),placeholder:"Введите ваше полное имя",className:"w-full",autoFocus:!0}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(L,{size:"sm",onClick:M,disabled:g.isPending,className:"bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(Yv,{className:"w-4 h-4 mr-1"}),g.isPending?"Сохранение...":"Сохранить"]}),n.jsxs(L,{variant:"outline",size:"sm",onClick:q,disabled:g.isPending,children:[n.jsx(_n,{className:"w-4 h-4 mr-1"}),"Отмена"]})]})]}):n.jsxs("div",{className:"mt-1 flex items-center justify-between p-3 bg-gray-50 rounded-md border",children:[n.jsx("span",{className:"text-gray-900",children:I.fullName||"(не указано)"}),n.jsxs(L,{variant:"ghost",size:"sm",onClick:C,className:"text-blue-600 hover:text-blue-700",children:[n.jsx(ss,{className:"w-4 h-4 mr-1"}),"Редактировать"]})]})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"phoneNumber",children:"Номер телефона"}),n.jsxs("div",{className:"mt-1 p-3 bg-gray-100 rounded-md text-gray-500 flex items-center gap-2",children:[n.jsx(jc,{className:"w-4 h-4"}),I.phoneNumber,n.jsx("span",{className:"text-xs",children:"(не изменяется)"})]})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"email",children:"Электронная почта"}),n.jsx(G,{id:"email",type:"email",value:I.email,onChange:k=>P("email",k.target.value),placeholder:"example@mail.com",className:"mt-1"})]})]})]}),n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsxs(je,{className:"flex items-center gap-2",children:[n.jsx(An,{className:"w-5 h-5"}),"Документы паспорта"]})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(D,{children:"Передняя часть паспорта"}),n.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[I.passportFront||f.front?n.jsx("div",{className:"space-y-2",children:f.front?n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"relative mx-auto w-32 h-20 bg-gray-100 rounded-lg overflow-hidden border",children:n.jsx("img",{src:f.front,alt:"Превью передней части паспорта",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(An,{className:"w-4 h-4 text-green-600"}),n.jsx("p",{className:"text-green-700 font-medium",children:"Образец загружен"})]}),n.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>S("front"),className:"text-blue-600 hover:text-blue-800",children:[n.jsx(Vr,{className:"w-4 h-4 mr-1"}),"Увеличить"]})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx(An,{className:"w-8 h-8 text-green-600 mx-auto"}),n.jsx("p",{className:"text-green-700 font-medium",children:"Файл загружен"}),n.jsx("p",{className:"text-sm text-gray-500",children:(K=I.passportFront)==null?void 0:K.name})]})}):n.jsxs("div",{className:"space-y-2",children:[n.jsx(la,{className:"w-8 h-8 text-gray-400 mx-auto"}),n.jsx("p",{className:"text-gray-500",children:"Передняя часть паспорта не загружена"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:N("front"),className:"hidden",id:"passport-front"}),n.jsx(L,{variant:"outline",size:"sm",className:"mt-3",asChild:!0,children:n.jsxs("label",{htmlFor:"passport-front",className:"cursor-pointer",children:[n.jsx(la,{className:"w-4 h-4 mr-2"}),I.passportFront||f.front?"Изменить файл":"Загрузить файл"]})})]})]}),n.jsxs("div",{children:[n.jsx(D,{children:"Задняя часть паспорта"}),n.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[I.passportBack||f.back?n.jsx("div",{className:"space-y-2",children:f.back?n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"relative mx-auto w-32 h-20 bg-gray-100 rounded-lg overflow-hidden border",children:n.jsx("img",{src:f.back,alt:"Превью задней части паспорта",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(An,{className:"w-4 h-4 text-green-600"}),n.jsx("p",{className:"text-green-700 font-medium",children:"Образец загружен"})]}),n.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>S("back"),className:"text-blue-600 hover:text-blue-800",children:[n.jsx(Vr,{className:"w-4 h-4 mr-1"}),"Увеличить"]})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx(An,{className:"w-8 h-8 text-green-600 mx-auto"}),n.jsx("p",{className:"text-green-700 font-medium",children:"Файл загружен"}),n.jsx("p",{className:"text-sm text-gray-500",children:(U=I.passportBack)==null?void 0:U.name})]})}):n.jsxs("div",{className:"space-y-2",children:[n.jsx(la,{className:"w-8 h-8 text-gray-400 mx-auto"}),n.jsx("p",{className:"text-gray-500",children:"Задняя часть паспорта не загружена"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:N("back"),className:"hidden",id:"passport-back"}),n.jsx(L,{variant:"outline",size:"sm",className:"mt-3",asChild:!0,children:n.jsxs("label",{htmlFor:"passport-back",className:"cursor-pointer",children:[n.jsx(la,{className:"w-4 h-4 mr-2"}),I.passportBack||f.back?"Изменить файл":"Загрузить файл"]})})]})]}),n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-700",children:[n.jsx("strong",{children:"Требования к файлам:"})," Размер файла не более 5 МБ. Поддерживаемые форматы: JPG, PNG. Фотографии должны быть четкими и читаемыми."]})})]})]})]})}),x.url&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:E,children:n.jsxs("div",{className:"relative max-w-4xl max-h-full",onClick:k=>k.stopPropagation(),children:[n.jsx(L,{variant:"ghost",size:"sm",onClick:E,className:"absolute -top-12 right-0 text-white hover:text-gray-300",children:n.jsx(_n,{className:"w-6 h-6"})}),n.jsx("img",{src:x.url,alt:`Полный размер ${x.type==="front"?"передней":"задней"} части паспорта`,className:"max-w-full max-h-full object-contain rounded-lg"}),n.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:x.type==="front"?"Передняя часть паспорта":"Задняя часть паспорта"})]})})]})}function t5(){const{user:e}=it(),[,t]=He(),{data:r,isLoading:s}=xe({queryKey:[`/api/listings/seller/${e==null?void 0:e.userId}`],enabled:!!(e!=null&&e.userId)}),a=Array.isArray(r)?r:[];return e?n.jsxs("div",{className:"min-h-screen bg-gray-50 main-content",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>t("/profile"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(Pt,{className:"w-6 h-6 text-gray-600"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Мои продажи"})]})})}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:s?n.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-sm text-center",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mx-auto mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mx-auto"})]})}):a.length===0?n.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm text-center",children:[n.jsx(Ze,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"У вас пока нет объявлений"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Разместите первое объявление о продаже автомобиля"}),n.jsxs(L,{onClick:()=>t("/sell"),className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Подать объявление"]})]}):n.jsx("div",{className:"space-y-4",children:a.map(i=>n.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-xl flex-shrink-0 overflow-hidden",children:i.photos&&i.photos.length>0?n.jsx("img",{src:i.photos[0],alt:`${i.make} ${i.model}`,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(Ze,{className:"w-8 h-8 text-gray-400"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:[i.make," ",i.model," ",i.year]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i.status==="active"?"bg-green-100 text-green-800":i.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:i.status==="active"?"Активно":i.status==="pending"?"На модерации":"Завершено"})]}),n.jsxs("p",{className:"text-gray-600 text-sm mb-2",children:["Лот №",i.lotNumber]}),n.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:n.jsx("span",{className:"font-medium",children:i.currentBid?`${parseFloat(i.currentBid).toLocaleString()} сомони`:`${parseFloat(i.startingPrice).toLocaleString()} сомони`})}),n.jsx("div",{className:"flex gap-2",children:n.jsx(L,{variant:"outline",size:"sm",onClick:()=>t(`/auction/${i.id}`),children:"Просмотреть"})})]})]})})},i.id))})})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center main-content",children:n.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg text-center max-w-md mx-4",children:[n.jsx(Ze,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Необходимо войти"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Войдите для просмотра ваших продаж"}),n.jsx(Ln,{href:"/login",children:n.jsx(L,{className:"w-full",children:"Войти"})})]})})}const px=[{code:"tj",name:"Tajik",nativeName:"Тоҷики"},{code:"ru",name:"Russian",nativeName:"Русский"}];function n5(){const[,e]=He(),[t,r]=u.useState("ru"),s=a=>{r(a),localStorage.setItem("selectedLanguage",a),setTimeout(()=>{e("/profile")},500)};return n.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[n.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>e("/profile"),children:[n.jsx(Pt,{className:"w-5 h-5 mr-2"}),"Назад"]}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Выбор языка"}),n.jsx("div",{className:"w-16"})," "]})}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsx("div",{className:"bg-white rounded-2xl shadow-sm",children:px.map((a,i)=>n.jsxs("button",{onClick:()=>s(a.code),className:`w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors ${i===0?"rounded-t-2xl":""} ${i===px.length-1?"rounded-b-2xl":"border-b border-gray-100"}`,children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-medium text-gray-900 text-lg",children:a.nativeName}),n.jsx("div",{className:"text-sm text-gray-500",children:a.name})]})}),t===a.code&&n.jsx(yc,{className:"w-5 h-5 text-blue-600"})]},a.code))})})})]})}function r5(){const[,e]=He();return n.jsxs("div",{className:"min-h-screen bg-gray-50 main-content",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[n.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>e("/profile"),children:[n.jsx(Pt,{className:"w-5 h-5 mr-2"}),"Назад"]}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Правила и условия"}),n.jsx("div",{className:"w-16"})]})}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ya,{className:"w-6 h-6 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Правила и условия использования"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Документ содержит полную информацию о правилах платформы"})]})]})})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"prose prose-gray max-w-none",children:[n.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:n.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Дата вступления в силу: 14 января 2025 г."})}),n.jsx("div",{className:"mb-8",children:n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Добро пожаловать на сайт AutoBid TJ! Пожалуйста, внимательно ознакомьтесь с настоящими Условиями использования перед началом работы с нашим веб-сайтом."})}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"1. Общие положения"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Настоящие Условия регулируют использование вами сайта AutoBid TJ (далее — «Сайт»), а также всех сервисов, предоставляемых на нём. Посещая или используя Сайт, вы соглашаетесь соблюдать данные Условия. Если вы не согласны с ними — пожалуйста, не используйте Сайт."})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"2. Регистрация и аккаунт"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Для участия в торгах вы обязаны создать личный аккаунт, указав достоверную информацию. Пользователь несёт ответственность за конфиденциальность своих данных и всех действий, совершаемых через его аккаунт."})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"3. Участие в торгах"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Пользователи могут участвовать в аукционах и делать ставки на транспортные средства. Все ставки являются обязательными. Победитель аукциона обязан произвести оплату в установленные сроки. Невыполнение этих обязательств может повлечь блокировку аккаунта."})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"4. Ответственность и гарантии"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"AutoBid TJ предоставляет информацию о лотах в том виде, в каком она была получена от продавца. Мы не даём никаких гарантий на состояние транспортных средств. Покупатель несёт ответственность за проверку автомобиля до покупки."})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"5. Ограничение ответственности"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"AutoBid TJ не несёт ответственности за любые убытки или потери, возникшие в результате участия в торгах или использования информации с сайта."})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"6. Запрещённые действия"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Запрещается использовать Сайт в незаконных целях, передавать вредоносные программы, вмешиваться в работу платформы, а также создавать фальшивые аккаунты."})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"7. Изменения условий"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Администрация AutoBid TJ оставляет за собой право в любое время вносить изменения в данные Условия. Продолжение использования Сайта после изменений означает ваше согласие с обновлённой редакцией."})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"8. Применимое право"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Настоящие Условия регулируются законодательством Республики Таджикистан. Все споры подлежат разрешению в соответствующих судах по месту регистрации компании."})]}),n.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Контакты"}),n.jsx("p",{className:"text-gray-700",children:"Если у вас есть вопросы по настоящим Условиям, свяжитесь с нами через форму обратной связи или по телефону поддержки AutoBid TJ."})]})}),n.jsx("div",{className:"mt-6 p-4 bg-amber-50 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ya,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-amber-900 mb-1",children:"Важное уведомление"}),n.jsx("p",{className:"text-sm text-amber-800",children:"Использование платформы AutoBid TJ означает ваше полное согласие с данными условиями. Регулярно проверяйте обновления данного документа."})]})]})})]})})]})})})]})}function s5(){const[,e]=He();return n.jsxs("div",{className:"min-h-screen bg-gray-50 main-content",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[n.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>e("/profile"),children:[n.jsx(Pt,{className:"w-5 h-5 mr-2"}),"Назад"]}),n.jsx("div",{className:"w-16"}),n.jsx("div",{className:"w-16"})]})}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ha,{className:"w-6 h-6 text-green-600"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Политика конфиденциальности"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Информация о защите персональных данных пользователей"})]})]})})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"prose prose-gray max-w-none",children:[n.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:n.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Дата вступления в силу: 14 января 2025 г."})}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Введение"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Настоящая Политика конфиденциальности регулирует порядок сбора, использования и защиты персональных данных пользователей сайта AutoBid TJ (далее — «Сайт»). Мы уважаем ваше право на конфиденциальность и стремимся обеспечить безопасность вашей информации."})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"1. Сбор информации"}),n.jsx("p",{className:"text-gray-700 mb-3",children:"Мы можем собирать следующие данные:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Персональные данные: имя, контактный телефон, адрес электронной почты, адрес проживания;"}),n.jsx("li",{children:"Информация о транспортных средствах, которые вы покупаете или продаёте;"}),n.jsx("li",{children:"Платёжная информация (обрабатывается через защищённые сторонние платёжные сервисы);"}),n.jsx("li",{children:"IP-адрес, геолокация, данные о вашем устройстве и активности на Сайте."})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"2. Использование данных"}),n.jsx("p",{className:"text-gray-700 mb-3",children:"Собранные данные используются исключительно для следующих целей:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Обеспечение функционирования аукциона и обработки сделок;"}),n.jsx("li",{children:"Предоставление технической поддержки и обратной связи;"}),n.jsx("li",{children:"Улучшение работы Сайта и персонализация пользовательского опыта;"}),n.jsx("li",{children:"Выполнение юридических и налоговых требований."})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"3. Передача информации третьим лицам"}),n.jsx("p",{className:"text-gray-700 mb-3",children:"Мы не продаём и не передаём ваши персональные данные третьим лицам, за исключением:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Законных требований от государственных органов;"}),n.jsx("li",{children:"Надёжных партнёров (например, платёжных провайдеров), при условии обеспечения конфиденциальности;"}),n.jsx("li",{children:"В рамках слияния или передачи прав собственности на бизнес."})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"4. Хранение и защита данных"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Мы применяем современные технические и организационные меры защиты, включая шифрование и ограничение доступа. Персональные данные хранятся только в течение необходимого срока для достижения целей, указанных в настоящей политике."})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"5. Права пользователя"}),n.jsx("p",{className:"text-gray-700 mb-3",children:"Вы имеете право:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Запрашивать доступ к своим данным;"}),n.jsx("li",{children:"Требовать их изменения или удаления;"}),n.jsx("li",{children:"Отозвать согласие на обработку данных (в некоторых случаях это может повлиять на использование Сайта)."})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"6. Изменения политики"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Мы оставляем за собой право вносить изменения в данную Политику. Обновления публикуются на этой странице с указанием даты вступления в силу."})]}),n.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:n.jsxs("div",{className:"mb-6 p-4 bg-amber-50 rounded-lg",children:[n.jsx("h2",{className:"text-xl font-bold text-amber-900 mb-2",children:"Юридическая версия"}),n.jsx("p",{className:"text-sm text-amber-800",children:"Подробная юридическая версия политики конфиденциальности"})]})}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"1. Общие положения"}),n.jsxs("p",{className:"text-gray-700 mb-3",children:[n.jsx("strong",{children:"1.1."})," Настоящая Политика составлена в соответствии с требованиями действующего законодательства о защите персональных данных и определяет порядок обработки персональных данных, а также меры по обеспечению их безопасности."]}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("strong",{children:"1.2."})," Оператором персональных данных является владелец Сайта — AutoBid TJ, далее — «Оператор»."]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"2. Состав обрабатываемых данных"}),n.jsxs("p",{className:"text-gray-700 mb-3",children:[n.jsx("strong",{children:"2.1."})," Оператор осуществляет обработку следующих категорий персональных данных:"]}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Фамилия, имя, отчество;"}),n.jsx("li",{children:"Контактные данные (номер телефона, адрес электронной почты, адрес проживания);"}),n.jsx("li",{children:"Информация о транспортных средствах, подлежащих продаже или покупке;"}),n.jsx("li",{children:"Платёжная информация (в случае осуществления транзакций);"}),n.jsx("li",{children:"Техническая информация (IP-адрес, cookies, тип устройства, история посещений и т.д.)."})]}),n.jsxs("p",{className:"text-gray-700 mt-3",children:[n.jsx("strong",{children:"2.2."})," Персональные данные предоставляются Пользователем добровольно посредством заполнения регистрационных форм, участия в аукционах или при взаимодействии с Сайтом."]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"3. Цели обработки персональных данных"}),n.jsxs("p",{className:"text-gray-700 mb-3",children:[n.jsx("strong",{children:"3.1."})," Оператор осуществляет обработку персональных данных в следующих целях:"]}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Идентификация Пользователя в рамках оказания услуг;"}),n.jsx("li",{children:"Обеспечение функционирования платформы аукциона;"}),n.jsx("li",{children:"Обработка заявок, заказов и транзакций;"}),n.jsx("li",{children:"Обратная связь с Пользователем, включая направления уведомлений и запросов;"}),n.jsx("li",{children:"Исполнение требований законодательства."})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"4. Правовые основания обработки"}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("strong",{children:"4.1."})," Обработка персональных данных осуществляется на основании:"]}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4 mt-3",children:[n.jsx("li",{children:"Согласия субъекта персональных данных;"}),n.jsx("li",{children:"Необходимости исполнения договора, стороной которого является субъект данных;"}),n.jsx("li",{children:"Обязанности, возложенной на Оператора в соответствии с законом."})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"5. Условия передачи персональных данных третьим лицам"}),n.jsxs("p",{className:"text-gray-700 mb-3",children:[n.jsx("strong",{children:"5.1."})," Оператор вправе передавать персональные данные третьим лицам исключительно в следующих случаях:"]}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"При наличии письменного согласия субъекта персональных данных;"}),n.jsx("li",{children:"В рамках исполнения обязательств перед платёжными и иными сервисными провайдерами;"}),n.jsx("li",{children:"По запросу уполномоченных органов государственной власти на основании закона;"}),n.jsx("li",{children:"В случае реорганизации или смены собственника Сайта при соблюдении условий конфиденциальности."})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"6. Меры по обеспечению безопасности данных"}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("strong",{children:"6.1."})," Оператор принимает все необходимые организационные и технические меры для защиты персональных данных от несанкционированного или случайного доступа, уничтожения, изменения, блокирования, копирования, распространения, а также иных неправомерных действий."]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"7. Сроки хранения персональных данных"}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("strong",{children:"7.1."})," Персональные данные хранятся в течение срока, необходимого для достижения целей обработки, либо до момента отзыва согласия Пользователем, если иное не предусмотрено действующим законодательством."]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"8. Права субъекта персональных данных"}),n.jsx("p",{className:"text-gray-700 mb-3",children:"Пользователь вправе:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[n.jsx("li",{children:"Требовать уточнения своих персональных данных, их обновления, блокирования или уничтожения;"}),n.jsx("li",{children:"Отозвать своё согласие на обработку персональных данных;"}),n.jsx("li",{children:"Получать информацию о своих персональных данных и порядке их обработки."})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"9. Изменения Политики"}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("strong",{children:"9.1."})," Оператор оставляет за собой право вносить изменения в настоящую Политику. Актуальная версия всегда доступна на Сайте. Изменения вступают в силу с момента публикации."]})]}),n.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Контактная информация"}),n.jsx("p",{className:"text-gray-700",children:"По вопросам обработки персональных данных и защиты конфиденциальности обращайтесь к администрации сайта AutoBid TJ."})]})})]})})]})})})]})}var Bh="Checkbox",[a5,uP]=zt(Bh),[i5,o5]=a5(Bh),tw=u.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...m}=e,[x,y]=u.useState(null),b=Re(t,w=>y(w)),p=u.useRef(!1),j=x?f||!!x.closest("form"):!0,[h=!1,v]=tr({prop:a,defaultProp:i,onChange:d}),g=u.useRef(h);return u.useEffect(()=>{const w=x==null?void 0:x.form;if(w){const N=()=>v(g.current);return w.addEventListener("reset",N),()=>w.removeEventListener("reset",N)}},[x,v]),n.jsxs(i5,{scope:r,state:h,disabled:l,children:[n.jsx(de.button,{type:"button",role:"checkbox","aria-checked":zr(h)?"mixed":h,"aria-required":o,"data-state":sw(h),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:b,onKeyDown:ae(e.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:ae(e.onClick,w=>{v(N=>zr(N)?!0:!N),j&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),j&&n.jsx(l5,{control:x,bubbles:!p.current,name:s,value:c,checked:h,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:zr(i)?!1:i})]})});tw.displayName=Bh;var nw="CheckboxIndicator",rw=u.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=o5(nw,r);return n.jsx(ir,{present:s||zr(i.state)||i.state===!0,children:n.jsx(de.span,{"data-state":sw(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});rw.displayName=nw;var l5=e=>{const{control:t,checked:r,bubbles:s=!0,defaultChecked:a,...i}=e,o=u.useRef(null),l=Ic(r),c=Sc(t);u.useEffect(()=>{const f=o.current,m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&y){const b=new Event("click",{bubbles:s});f.indeterminate=zr(r),y.call(f,zr(r)?!1:r),f.dispatchEvent(b)}},[l,r,s]);const d=u.useRef(zr(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function zr(e){return e==="indeterminate"}function sw(e){return zr(e)?"indeterminate":e?"checked":"unchecked"}var aw=tw,c5=rw;const Jl=u.forwardRef(({className:e,...t},r)=>n.jsx(aw,{ref:r,className:le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(c5,{className:le("flex items-center justify-center text-current"),children:n.jsx(yc,{className:"h-4 w-4"})})}));Jl.displayName=aw.displayName;function d5(){const[e,t]=u.useState("+992 "),[r,s]=u.useState(!1),[a,i]=u.useState(!1);He();const[o,l]=u.useState(!1),[c,d]=u.useState(""),[f,m]=u.useState("phone"),[x,y]=u.useState(""),[b,p]=u.useState(""),j=async w=>{if(w.preventDefault(),!r){alert("Необходимо согласиться на обработку персональных данных");return}i(!0);try{const S=await(await In("POST","/api/auth/send-sms",{phoneNumber:e})).json();S.success?(m("code"),console.log("SMS отправлен на номер:",e),S.message&&S.message.includes("демо-режим")&&S.code&&alert(`SMS отправлен в демо-режиме. Код для входа: ${S.code}`)):alert("Ошибка отправки SMS: "+(S.error||"Неизвестная ошибка"))}catch(N){console.error("Ошибка отправки SMS:",N),alert("Ошибка отправки SMS")}finally{i(!1)}},h=async w=>{var N,S;if(w.preventDefault(),!x){p("Введите код подтверждения");return}i(!0),p("");try{const P=await(await In("POST","/api/auth/verify-sms",{phoneNumber:e,code:x})).json();if(P.success){const C={email:e+"@autoauction.tj",phoneNumber:e,uid:"demo-user-"+Date.now(),isActive:((N=P.user)==null?void 0:N.isActive)||!1,invitedBy:c||null,isInvited:!!c,role:"buyer",userId:((S=P.user)==null?void 0:S.id)||null};localStorage.setItem("demo-user",JSON.stringify(C)),window.location.href="/home"}else p(P.error||"Неверный код")}catch(E){console.error("Ошибка проверки кода:",E),p("Ошибка проверки кода")}finally{i(!1)}},v=w=>{let N=w.replace(/\D/g,"");return N.startsWith("992")&&(N=N.slice(3)),N=N.slice(0,9),N.length===0?"+992 ":N.length<=2?`+992 (${N}`:N.length<=5?`+992 (${N.slice(0,2)}) ${N.slice(2)}`:N.length<=7?`+992 (${N.slice(0,2)}) ${N.slice(2,5)}-${N.slice(5)}`:`+992 (${N.slice(0,2)}) ${N.slice(2,5)}-${N.slice(5,7)}-${N.slice(7,9)}`},g=w=>{const N=v(w.target.value);t(N)};return n.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center p-4",children:n.jsxs(Z,{className:"w-full max-w-md",children:[n.jsxs(ye,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-primary rounded-full flex items-center justify-center mb-4",children:n.jsx(jc,{className:"w-8 h-8 text-white"})}),n.jsx(je,{className:"text-2xl font-bold",children:"Вход в AUTOBID.TJ"}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Для просмотра аукционов необходимо войти в систему"})]}),n.jsx(te,{children:f==="phone"?n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(D,{htmlFor:"phone",children:"Номер телефона"}),n.jsx(G,{id:"phone",type:"tel",placeholder:"+992 (__) ___-__-__",value:e,onChange:g,className:"text-base",required:!0}),n.jsx("p",{className:"text-xs text-neutral-500",children:"Мы отправим код подтверждения на этот номер"})]}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Jl,{id:"terms",checked:r,onCheckedChange:w=>s(w),className:"mt-0.5"}),n.jsx("div",{className:"text-xs",children:n.jsx(D,{htmlFor:"terms",className:"cursor-pointer leading-tight",children:"Я согласен на обработку моих персональных данных"})})]}),n.jsx("div",{className:"text-center",children:n.jsxs(L,{type:"button",variant:"outline",size:"sm",onClick:()=>l(!o),className:"text-green-600 border-green-300 hover:bg-green-50",children:[n.jsx(Wa,{className:"w-4 h-4 mr-2"}),"По приглашению"]})}),o&&n.jsxs("div",{className:"space-y-1 bg-green-50 p-3 rounded-lg border border-green-200",children:[n.jsx(D,{htmlFor:"referrer",children:"Номер того, кто вас пригласил"}),n.jsx(G,{id:"referrer",type:"tel",placeholder:"+992 (__) ___-__-__",value:c,onChange:w=>d(w.target.value),className:"text-base"}),n.jsx("p",{className:"text-xs text-green-600",children:"Введите номер телефона пользователя, который вас пригласил"})]}),n.jsx(L,{type:"submit",className:"w-full",disabled:e.length<8||!r||a,children:a?"Отправляем код...":n.jsxs(n.Fragment,{children:["Получить код",n.jsx(Ap,{className:"w-4 h-4 ml-2"})]})})]}):n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{className:"text-center text-sm text-gray-600 mb-4",children:["Код отправлен на номер ",n.jsx("strong",{children:e})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(D,{htmlFor:"code",children:"Код подтверждения"}),n.jsx(G,{id:"code",type:"text",placeholder:"Введите 6-значный код",value:x,onChange:w=>y(w.target.value),className:"text-base text-center",maxLength:6,required:!0}),b&&n.jsx("p",{className:"text-sm text-red-500",children:b})]}),n.jsx(L,{type:"submit",className:"w-full",disabled:x.length!==6||a,children:a?"Проверяем код...":n.jsxs(n.Fragment,{children:["Войти",n.jsx(Ap,{className:"w-4 h-4 ml-2"})]})}),n.jsx(L,{type:"button",variant:"outline",className:"w-full",onClick:()=>m("phone"),disabled:a,children:"Изменить номер"})]})})]})})}var Vh="Switch",[u5,mP]=zt(Vh),[m5,h5]=u5(Vh),iw=u.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...m}=e,[x,y]=u.useState(null),b=Re(t,g=>y(g)),p=u.useRef(!1),j=x?f||!!x.closest("form"):!0,[h=!1,v]=tr({prop:a,defaultProp:i,onChange:d});return n.jsxs(m5,{scope:r,checked:h,disabled:l,children:[n.jsx(de.button,{type:"button",role:"switch","aria-checked":h,"aria-required":o,"data-state":cw(h),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:b,onClick:ae(e.onClick,g=>{v(w=>!w),j&&(p.current=g.isPropagationStopped(),p.current||g.stopPropagation())})}),j&&n.jsx(f5,{control:x,bubbles:!p.current,name:s,value:c,checked:h,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});iw.displayName=Vh;var ow="SwitchThumb",lw=u.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=h5(ow,r);return n.jsx(de.span,{"data-state":cw(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});lw.displayName=ow;var f5=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=u.useRef(null),o=Ic(r),l=Sc(t);return u.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&m){const x=new Event("click",{bubbles:s});m.call(c,r),c.dispatchEvent(x)}},[o,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function cw(e){return e?"checked":"unchecked"}var dw=iw,p5=lw;const ca=u.forwardRef(({className:e,...t},r)=>n.jsx(dw,{className:le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(p5,{className:le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ca.displayName=dw.displayName;function uw({listingId:e,isOpen:t,onClose:r}){const{toast:s}=qe(),a=Le(),[i,o]=u.useState(""),[l,c]=u.useState(""),[d,f]=u.useState(""),[m,x]=u.useState(""),[y,b]=u.useState(""),[p,j]=u.useState(""),[h,v]=u.useState(""),[g,w]=u.useState(""),[N,S]=u.useState(""),[E,P]=u.useState(""),[C,M]=u.useState(""),[q,I]=u.useState(""),[K,U]=u.useState(""),[k,F]=u.useState(""),[V,R]=u.useState(""),[A,z]=u.useState(""),[Q,H]=u.useState(""),[oe,be]=u.useState(""),[ge,Te]=u.useState(!1),[ne,ue]=u.useState(!1),[O,re]=u.useState(!1),[ee,ie]=u.useState(""),[ke,xt]=u.useState(!1),[sn,an]=u.useState(""),[Ge,on]=u.useState(""),[ot,Us]=u.useState(""),{data:Me,isLoading:Bs}=xe({queryKey:[`/api/listings/${e}`],enabled:!!e&&t});u.useEffect(()=>{var me,lr,Vs,he,qs;Me&&(o(Me.make||""),c(Me.model||""),f(((me=Me.year)==null?void 0:me.toString())||""),x(((lr=Me.mileage)==null?void 0:lr.toString())||""),b(Me.description||""),j(Me.startingPrice||""),v(Me.reservePrice||""),w(((Vs=Me.auctionDuration)==null?void 0:Vs.toString())||"7"),S(Me.status||""),P(Me.location||""),M(Me.engine||""),I(Me.transmission||"not_specified"),U(Me.fuelType||"not_specified"),F(Me.bodyType||"not_specified"),R(Me.driveType||"not_specified"),z(Me.color||""),H(Me.condition||"not_specified"),be(Me.vin||""),Te(Me.customsCleared||!1),ue(Me.recycled||!1),re(Me.technicalInspectionValid||!1),ie(Me.technicalInspectionDate||""),xt(Me.tinted||!1),an(Me.tintingDate||""),on(((he=Me.batteryCapacity)==null?void 0:he.toString())||""),Us(((qs=Me.electricRange)==null?void 0:qs.toString())||""))},[Me]),u.useEffect(()=>{t||(o(""),c(""),f(""),x(""),b(""),j(""),v(""),w("7"),S(""),P(""),M(""),I("not_specified"),U("not_specified"),F("not_specified"),R("not_specified"),z(""),H("not_specified"),be(""),Te(!1),ue(!1),re(!1),ie(""),xt(!1),an(""),on(""),Us(""))},[t]);const ii=Ne({mutationFn:async me=>{const lr=await fetch(`/api/admin/listings/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(me)});if(!lr.ok)throw new Error("Failed to update listing");return lr.json()},onSuccess:()=>{s({title:"Объявление обновлено",duration:1e3}),a.invalidateQueries({queryKey:[`/api/listings/${e}`]}),a.invalidateQueries({queryKey:["/api/admin/listings"]}),a.invalidateQueries({queryKey:["/api/listings"]}),r()},onError:()=>{s({title:"Ошибка при обновлении объявления",variant:"destructive",duration:1e3})}}),oi=me=>{if(me.preventDefault(),!i.trim()||!l.trim()||!d||!p.trim()){s({title:"Заполните обязательные поля",variant:"destructive",duration:1e3});return}ii.mutate({make:i.trim(),model:l.trim(),year:parseInt(d),mileage:parseInt(m)||0,description:y.trim(),startingPrice:p.trim(),reservePrice:h.trim()||void 0,auctionDuration:parseInt(g)||7,status:N,location:E.trim(),engine:C.trim()||void 0,transmission:q==="not_specified"?void 0:q,fuelType:K==="not_specified"?void 0:K,bodyType:k==="not_specified"?void 0:k,driveType:V==="not_specified"?void 0:V,color:A.trim()||void 0,condition:Q==="not_specified"?void 0:Q,vin:oe.trim()||void 0,customsCleared:ge,recycled:ne,technicalInspectionValid:O,technicalInspectionDate:ee.trim()||void 0,tinted:ke,tintingDate:sn.trim()||void 0,batteryCapacity:K==="electric"&&Ge?parseFloat(Ge):void 0,electricRange:K==="electric"&&ot?parseInt(ot):void 0})};return!t||!e?null:n.jsx(Ms,{open:t,onOpenChange:r,children:n.jsxs(Wr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Hr,{children:[n.jsx(Gr,{children:"Редактировать объявление"}),n.jsx(ai,{children:"Изменение параметров объявления автомобиля"})]}),Bs?n.jsx("div",{className:"text-center py-8",children:"Загрузка данных объявления..."}):n.jsxs("form",{onSubmit:oi,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(D,{htmlFor:"make",children:"Марка *"}),n.jsx(G,{id:"make",value:i,onChange:me=>o(me.target.value),placeholder:"Toyota, BMW, etc.",required:!0})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"model",children:"Модель *"}),n.jsx(G,{id:"model",value:l,onChange:me=>c(me.target.value),placeholder:"Camry, X5, etc.",required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(D,{htmlFor:"year",children:"Год *"}),n.jsx(G,{id:"year",type:"number",value:d,onChange:me=>f(me.target.value),placeholder:"2020",min:"1990",max:"2025",required:!0})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"mileage",children:"Пробег (км)"}),n.jsx(G,{id:"mileage",type:"number",value:m,onChange:me=>x(me.target.value),placeholder:"50000",min:"0"})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"startingPrice",children:"Начальная цена (сомони) *"}),n.jsx(G,{id:"startingPrice",value:p,onChange:me=>j(me.target.value),placeholder:"10000",required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(D,{htmlFor:"reservePrice",children:"Резервная цена (сомони)"}),n.jsx(G,{id:"reservePrice",value:h,onChange:me=>v(me.target.value),placeholder:"15000"})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"auctionDuration",children:"Продолжительность аукциона"}),n.jsxs(Ae,{value:g,onValueChange:w,children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Выберите длительность"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"0.0007",children:"1 минута (тест)"}),n.jsx($,{value:"1",children:"1 день"}),n.jsx($,{value:"3",children:"3 дня"}),n.jsx($,{value:"5",children:"5 дней"}),n.jsx($,{value:"7",children:"7 дней (стандарт)"}),n.jsx($,{value:"10",children:"10 дней"}),n.jsx($,{value:"15",children:"15 дней"})]})]})]})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"status",children:"Статус"}),n.jsxs(Ae,{value:N,onValueChange:S,children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Выберите статус"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"pending",children:"На модерации"}),n.jsx($,{value:"active",children:"Активный"}),n.jsx($,{value:"ended",children:"Завершен"}),n.jsx($,{value:"rejected",children:"Отклонен"})]})]})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"description",children:"Описание"}),n.jsx(sr,{id:"description",value:y,onChange:me=>b(me.target.value),placeholder:"Подробное описание автомобиля...",rows:4})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"location",children:"Местоположение"}),n.jsx(G,{id:"location",value:E,onChange:me=>P(me.target.value),placeholder:"Душанбе, Худжанд, etc."})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Технические характеристики"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(D,{htmlFor:"engine",children:"Двигатель"}),n.jsx(G,{id:"engine",value:C,onChange:me=>M(me.target.value),placeholder:"2.0 TSI, V6 3.5L, etc."})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"transmission",children:"Коробка передач"}),n.jsxs(Ae,{value:q,onValueChange:I,children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Выберите тип"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"not_specified",children:"Не указано"}),n.jsx($,{value:"manual",children:"Механическая"}),n.jsx($,{value:"automatic",children:"Автоматическая"}),n.jsx($,{value:"cvt",children:"Вариатор"}),n.jsx($,{value:"robotic",children:"Робот"})]})]})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"fuelType",children:"Тип топлива"}),n.jsxs(Ae,{value:K,onValueChange:U,children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Выберите тип"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"not_specified",children:"Не указано"}),n.jsx($,{value:"gasoline",children:"Бензин"}),n.jsx($,{value:"diesel",children:"Дизель"}),n.jsx($,{value:"hybrid",children:"Гибрид"}),n.jsx($,{value:"electric",children:"Электро"}),n.jsx($,{value:"gas",children:"Газ"})]})]})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"bodyType",children:"Тип кузова"}),n.jsxs(Ae,{value:k,onValueChange:F,children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Выберите тип"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"not_specified",children:"Не указано"}),n.jsx($,{value:"sedan",children:"Седан"}),n.jsx($,{value:"hatchback",children:"Хэтчбек"}),n.jsx($,{value:"suv",children:"Внедорожник"}),n.jsx($,{value:"crossover",children:"Кроссовер"}),n.jsx($,{value:"wagon",children:"Универсал"}),n.jsx($,{value:"coupe",children:"Купе"}),n.jsx($,{value:"convertible",children:"Кабриолет"}),n.jsx($,{value:"pickup",children:"Пикап"})]})]})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"driveType",children:"Привод"}),n.jsxs(Ae,{value:V,onValueChange:R,children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Выберите тип"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"not_specified",children:"Не указано"}),n.jsx($,{value:"front",children:"Передний"}),n.jsx($,{value:"rear",children:"Задний"}),n.jsx($,{value:"awd",children:"Полный"})]})]})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"color",children:"Цвет"}),n.jsx(G,{id:"color",value:A,onChange:me=>z(me.target.value),placeholder:"Белый, Черный, Серебристый, etc."})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"condition",children:"Состояние"}),n.jsxs(Ae,{value:Q,onValueChange:H,children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Выберите состояние"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"not_specified",children:"Не указано"}),n.jsx($,{value:"excellent",children:"Отличное"}),n.jsx($,{value:"very_good",children:"Очень хорошее"}),n.jsx($,{value:"good",children:"Хорошее"}),n.jsx($,{value:"fair",children:"Удовлетворительное"}),n.jsx($,{value:"needs_repair",children:"Требует ремонта"})]})]})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"vin",children:"VIN номер"}),n.jsx(G,{id:"vin",value:oe,onChange:me=>be(me.target.value),placeholder:"17-значный VIN код",maxLength:17})]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Документы и статус"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(D,{htmlFor:"customsCleared",children:"Растаможен"}),n.jsx(ca,{id:"customsCleared",checked:ge,onCheckedChange:Te})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(D,{htmlFor:"recycled",children:"Утилизационный сбор"}),n.jsx(ca,{id:"recycled",checked:ne,onCheckedChange:ue})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(D,{htmlFor:"technicalInspectionValid",children:"Техосмотр действителен"}),n.jsx(ca,{id:"technicalInspectionValid",checked:O,onCheckedChange:re})]}),O&&n.jsxs("div",{children:[n.jsx(D,{htmlFor:"technicalInspectionDate",children:"Дата техосмотра"}),n.jsx(G,{id:"technicalInspectionDate",type:"date",value:ee,onChange:me=>ie(me.target.value)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(D,{htmlFor:"tinted",children:"Тонировка"}),n.jsx(ca,{id:"tinted",checked:ke,onCheckedChange:xt})]}),ke&&n.jsxs("div",{children:[n.jsx(D,{htmlFor:"tintingDate",children:"Дата тонировки"}),n.jsx(G,{id:"tintingDate",type:"date",value:sn,onChange:me=>an(me.target.value)})]})]})]}),K==="electric"&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-700",children:"⚡ Характеристики электромобиля"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(D,{htmlFor:"batteryCapacity",children:"Емкость батареи (кВт·ч)"}),n.jsx(G,{id:"batteryCapacity",type:"number",step:"0.1",min:"10",max:"200",value:Ge,onChange:me=>on(me.target.value),placeholder:"75.0"})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"electricRange",children:"Запас хода (км)"}),n.jsx(G,{id:"electricRange",type:"number",min:"50",max:"800",value:ot,onChange:me=>Us(me.target.value),placeholder:"400"})]})]})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"description",children:"Описание"}),n.jsx(sr,{id:"description",value:y,onChange:me=>b(me.target.value),placeholder:"Подробное описание автомобиля...",className:"min-h-[100px]"})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsxs(L,{type:"button",variant:"outline",onClick:r,children:[n.jsx(_n,{className:"w-4 h-4 mr-1"}),"Отмена"]}),n.jsxs(L,{type:"submit",disabled:ii.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(Yv,{className:"w-4 h-4 mr-1"}),ii.isPending?"Сохранение...":"Сохранить"]})]})]})]})})}function x5({userId:e,isOpen:t,onClose:r}){const{toast:s}=qe(),a=Le(),[i,o]=u.useState("profile"),[l,c]=u.useState(null),[d,f]=u.useState(""),[m,x]=u.useState(""),[y,b]=u.useState(""),[p,j]=u.useState(!0),[h,v]=u.useState(""),[g,w]=u.useState(""),[N,S]=u.useState(""),[E,P]=u.useState(null),{data:C,isLoading:M}=xe({queryKey:[`/api/admin/users/${e}`],enabled:!!e&&t}),{data:q=[],isLoading:I}=xe({queryKey:[`/api/admin/users/${e}/documents`],enabled:!!e&&t,refetchOnWindowFocus:!1,staleTime:0,cacheTime:0}),{data:K=[],isLoading:U}=xe({queryKey:[`/api/admin/users/${e}/listings`],enabled:!!e&&t});u.useEffect(()=>{C&&(f(C.fullName||""),x(C.email||""),b((C==null?void 0:C.phoneNumber)||""),j(C.isActive||!1)),t&&e&&a.invalidateQueries({queryKey:[`/api/admin/users/${e}/documents`]})},[C,t,e,a]);const k=Ne({mutationFn:async O=>{const re=localStorage.getItem("demo-user")||localStorage.getItem("currentUser"),ee=re?JSON.parse(re):{},ie={"Content-Type":"application/json"};ee.userId&&(ie["x-user-id"]=ee.userId.toString()),ee.email&&(ie["x-user-email"]=ee.email);const ke=await fetch(`/api/admin/users/${e}`,{method:"PUT",headers:ie,body:JSON.stringify(O)});if(!ke.ok)throw new Error("Failed to update user");return ke.json()},onSuccess:()=>{s({title:"Профиль пользователя обновлен",duration:1e3}),a.invalidateQueries({queryKey:[`/api/admin/users/${e}`]}),a.invalidateQueries({queryKey:["/api/admin/users"]}),a.invalidateQueries({queryKey:[`/api/users/${e}`]})},onError:()=>{s({title:"Ошибка при обновлении профиля",variant:"destructive"})}}),F=Ne({mutationFn:async()=>{const O=localStorage.getItem("demo-user")||localStorage.getItem("currentUser"),re=O?JSON.parse(O):{};console.log("🔍 Отладка currentUser для удаления:",re);const ee={"Content-Type":"application/json"};re.userId&&(ee["x-user-id"]=re.userId.toString()),re.email&&(ee["x-user-email"]=re.email),console.log("🗑️ Отправка запроса на удаление пользователя с заголовками:",ee);const ie=await fetch(`/api/admin/users/${e}`,{method:"DELETE",headers:ee});if(!ie.ok){const ke=await ie.text();throw new Error(`Ошибка удаления: ${ie.status} - ${ke}`)}return!0},onSuccess:()=>{s({title:"Пользователь удален",description:"Пользователь и все связанные данные успешно удалены",duration:2e3}),a.invalidateQueries({queryKey:["/api/admin/users"]}),r()},onError:O=>{console.error("Delete user error:",O),s({title:"Ошибка при удалении пользователя",description:O.message,variant:"destructive",duration:5e3})}}),V=Ne({mutationFn:async O=>{const re=localStorage.getItem("demo-user")||localStorage.getItem("currentUser"),ee=re?JSON.parse(re):{},ie={"Content-Type":"application/json"};ee.userId&&(ie["x-user-id"]=ee.userId.toString()),ee.email&&(ie["x-user-email"]=ee.email);const ke=await fetch(`/api/admin/users/${e}/status`,{method:"PATCH",headers:ie,body:JSON.stringify({isActive:O})});if(!ke.ok)throw new Error("Failed to update user status");return ke.json()},onSuccess:()=>{s({title:"Статус пользователя обновлен",duration:1e3}),a.invalidateQueries({queryKey:[`/api/admin/users/${e}`]}),a.invalidateQueries({queryKey:["/api/admin/users"]}),a.invalidateQueries({queryKey:[`/api/users/${e}`]})},onError:()=>{s({title:"Ошибка при обновлении статуса",variant:"destructive"})}}),R=Ne({mutationFn:async O=>{const re=localStorage.getItem("demo-user")||localStorage.getItem("currentUser"),ee=re?JSON.parse(re):{},ie={"Content-Type":"application/json"};ee.userId&&(ie["x-user-id"]=ee.userId.toString()),ee.email&&(ie["x-user-email"]=ee.email);const ke=await fetch(`/api/admin/users/${e}/documents`,{method:"POST",headers:ie,body:JSON.stringify(O)});if(!ke.ok)throw new Error("Failed to add document");return ke.json()},onSuccess:()=>{s({title:"Документ добавлен"}),a.invalidateQueries({queryKey:[`/api/admin/users/${e}/documents`]}),v(""),w(""),S("")},onError:()=>{s({title:"Ошибка при добавлении документа",variant:"destructive"})}}),A=Ne({mutationFn:async O=>{const re=localStorage.getItem("demo-user")||localStorage.getItem("currentUser"),ee=re?JSON.parse(re):{},ie={"Content-Type":"application/json"};ee.userId&&(ie["x-user-id"]=ee.userId.toString()),ee.email&&(ie["x-user-email"]=ee.email);const ke=await fetch(`/api/admin/users/${e}/documents/${O}`,{method:"DELETE",headers:ie});if(!ke.ok)throw new Error("Failed to delete document");return ke.json()},onSuccess:()=>{s({title:"Документ удален"}),a.invalidateQueries({queryKey:[`/api/admin/users/${e}/documents`]})},onError:()=>{s({title:"Ошибка при удалении документа",variant:"destructive"})}}),z=()=>{k.mutate({fullName:d,email:m,phoneNumber:y})},Q=O=>{j(O),V.mutate(O)},H=()=>{confirm("Вы уверены, что хотите удалить этого пользователя? Это действие нельзя отменить.")&&F.mutate()},oe=()=>{if(!h||!g||!N){s({title:"Заполните все поля документа",variant:"destructive"});return}R.mutate({type:h,title:g,content:N})},be=O=>({passport:"Паспорт",license:"Водительские права",identity:"Удостоверение личности",policy:"Полис",other:"Другое"})[O]||O,ge=O=>O.includes("передняя")||O.includes("передний")?"front":O.includes("задняя")||O.includes("задний")?"back":"unknown",Te=O=>O.fileUrl&&O.fileUrl.startsWith("data:image/")?O.fileUrl:O.content&&O.content.startsWith("data:image/")?O.content:null,ne=q.filter(O=>{var re;return O.type==="passport"||((re=O.title)==null?void 0:re.toLowerCase().includes("паспорт"))}),ue=q.filter(O=>{var re;return O.type!=="passport"&&!((re=O.title)!=null&&re.toLowerCase().includes("паспорт"))});return!t||!e?null:n.jsxs(Ms,{open:t,onOpenChange:r,children:[n.jsxs(Wr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Hr,{children:[n.jsxs(Gr,{className:"flex items-center gap-2",children:[n.jsx(QC,{className:"w-5 h-5"}),"Управление пользователем ",(C==null?void 0:C.fullName)||`ID: ${e}`]}),n.jsx(ai,{children:"Редактирование профиля пользователя и управление документами"})]}),M?n.jsx("div",{className:"p-8 text-center",children:"Загрузка..."}):n.jsxs(Uh,{value:i,onValueChange:o,children:[n.jsxs($c,{className:"grid w-full grid-cols-3",children:[n.jsx(ut,{value:"profile",children:"Профиль"}),n.jsx(ut,{value:"listings",children:"Объявления"}),n.jsx(ut,{value:"documents",children:"Документы"})]}),n.jsxs(mt,{value:"profile",className:"space-y-6",children:[n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsx(je,{children:"Информация о пользователе"})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(D,{htmlFor:"fullName",children:"Полное имя"}),n.jsx(G,{id:"fullName",value:d,onChange:O=>f(O.target.value),placeholder:"Введите полное имя"})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"email",children:"Email"}),n.jsx(G,{id:"email",type:"email",value:m,onChange:O=>x(O.target.value),placeholder:"Введите email"})]})]}),n.jsx("div",{children:n.jsxs("div",{children:[n.jsx(D,{htmlFor:"phoneNumber",children:"Номер телефона"}),n.jsx(G,{id:"phoneNumber",value:y,onChange:O=>b(O.target.value),placeholder:"Введите номер телефона"})]})}),n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gray-50 dark:bg-gray-800",children:[n.jsxs("div",{children:[n.jsx(D,{htmlFor:"user-status",className:"text-sm font-medium",children:"Статус аккаунта"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:p?"Пользователь активен и может использовать платформу":"Аккаунт заблокирован"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(D,{htmlFor:"user-status",className:"text-sm",children:p?"Активен":"Заблокирован"}),n.jsx(ca,{id:"user-status",checked:p,onCheckedChange:Q,disabled:V.isPending})]})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(L,{onClick:z,disabled:k.isPending,children:k.isPending?"Сохранение...":"Сохранить изменения"}),n.jsx(L,{variant:"destructive",onClick:H,disabled:F.isPending,children:F.isPending?"Удаление...":"Удалить пользователя"})]})]})]}),n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsx(je,{children:"Статистика пользователя"})}),n.jsxs(te,{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Статус:"}),n.jsx(ve,{variant:C!=null&&C.isActive?"default":"destructive",children:C!=null&&C.isActive?"Активен":"Заблокирован"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Роль:"}),n.jsx(ve,{variant:"outline",children:C==null?void 0:C.role})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Дата регистрации:"}),n.jsx("span",{className:"text-sm text-gray-500",children:C!=null&&C.createdAt?new Date(C.createdAt).toLocaleDateString("ru-RU"):"Неизвестно"})]})]})]})]}),n.jsx(mt,{value:"listings",className:"space-y-6",children:n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsxs(je,{className:"flex items-center gap-2",children:[n.jsx(Ze,{className:"w-5 h-5"}),"Объявления пользователя (",K.length,")"]})}),n.jsx(te,{children:U?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),"Загрузка объявлений..."]}):!K||K.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Ze,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),"У пользователя пока нет объявлений"]}):n.jsx("div",{className:"space-y-4",children:K.map(O=>n.jsx(Z,{className:"overflow-hidden",children:n.jsxs(te,{className:"p-0",children:[n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 px-6 py-4 border-b flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("h4",{className:"font-bold text-lg text-gray-900 dark:text-gray-100",children:[O.make," ",O.model," ",O.year]}),n.jsx(ve,{variant:O.status==="active"?"default":O.status==="pending"?"secondary":O.status==="ended"?"outline":"destructive",className:"px-3 py-1",children:O.status==="active"?"АКТИВНЫЙ":O.status==="pending"?"НА МОДЕРАЦИИ":O.status==="ended"?"ЗАВЕРШЕН":"ОТКЛОНЕН"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(L,{size:"sm",variant:"outline",onClick:()=>window.open(`/auction/${O.id}`,"_blank"),className:"flex items-center gap-2",children:[n.jsx(Vr,{className:"w-4 h-4"}),"Просмотр"]}),n.jsxs(L,{size:"sm",variant:"outline",onClick:()=>c(O.id),className:"flex items-center gap-2",children:[n.jsx(ss,{className:"w-4 h-4"}),"Редактировать"]})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h5",{className:"font-semibold text-gray-700 dark:text-gray-300 text-sm uppercase tracking-wide",children:"Основное"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500 text-xs",children:"Лот №"}),n.jsx("span",{className:"font-medium",children:O.lotNumber})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500 text-xs",children:"Пробег"}),n.jsx("span",{className:"font-medium",children:O.mileage?`${O.mileage.toLocaleString()} км`:"Не указан"})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500 text-xs",children:"Состояние"}),n.jsx("span",{className:"font-medium",children:O.condition||"Не указано"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h5",{className:"font-semibold text-gray-700 dark:text-gray-300 text-sm uppercase tracking-wide",children:"Цены"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500 text-xs",children:"Стартовая цена"}),n.jsxs("span",{className:"font-bold text-green-600",children:["$",Number(O.startingPrice).toLocaleString()]})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500 text-xs",children:"Текущая ставка"}),n.jsx("span",{className:"font-bold text-blue-600",children:O.currentBid?`$${Number(O.currentBid).toLocaleString()}`:"Нет ставок"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h5",{className:"font-semibold text-gray-700 dark:text-gray-300 text-sm uppercase tracking-wide",children:"Техника"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500 text-xs",children:"Двигатель"}),n.jsx("span",{className:"font-medium",children:O.engine||"Не указан"})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500 text-xs",children:"КПП"}),n.jsx("span",{className:"font-medium",children:O.transmission||"Не указана"})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500 text-xs",children:"Топливо"}),n.jsx("span",{className:"font-medium",children:O.fuelType||"Не указано"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h5",{className:"font-semibold text-gray-700 dark:text-gray-300 text-sm uppercase tracking-wide",children:"Дополнительно"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500 text-xs",children:"Местоположение"}),n.jsx("span",{className:"font-medium",children:O.location||"Не указано"})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500 text-xs",children:"Создано"}),n.jsx("span",{className:"font-medium",children:O.createdAt instanceof Date?O.createdAt.toLocaleDateString("ru-RU"):"Не указано"})]}),O.auctionEndTime&&n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500 text-xs",children:"Окончание"}),n.jsx("span",{className:"font-medium",children:O.auctionEndTime instanceof Date?O.auctionEndTime.toLocaleDateString("ru-RU"):"Не указано"})]})]})]})]}),O.description&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h5",{className:"font-semibold text-gray-700 dark:text-gray-300 text-sm uppercase tracking-wide mb-2",children:"Описание"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:O.description})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-4 pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Растаможен"}),n.jsx(ve,{variant:O.customsCleared?"default":"secondary",children:O.customsCleared?"Да":"Нет"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Утилизирован"}),n.jsx(ve,{variant:O.recycled?"default":"secondary",children:O.recycled?"Да":"Нет"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Техосмотр"}),n.jsx(ve,{variant:O.technicalInspectionValid?"default":"secondary",children:O.technicalInspectionValid?"Действителен":"Недействителен"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Тонировка"}),n.jsx(ve,{variant:O.tinted?"default":"secondary",children:O.tinted?"Есть":"Нет"})]})]})]})]})},O.id))})})]})}),n.jsxs(mt,{value:"documents",className:"space-y-6",children:[n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsx(je,{children:"Добавить документ"})}),n.jsxs(te,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(D,{htmlFor:"documentType",children:"Тип документа"}),n.jsxs("select",{id:"documentType",value:h,onChange:O=>v(O.target.value),className:"w-full p-2 border rounded-md",children:[n.jsx("option",{value:"",children:"Выберите тип"}),n.jsx("option",{value:"passport",children:"Паспорт"}),n.jsx("option",{value:"license",children:"Водительские права"}),n.jsx("option",{value:"identity",children:"Удостоверение личности"}),n.jsx("option",{value:"policy",children:"Полис"}),n.jsx("option",{value:"other",children:"Другое"})]})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"documentTitle",children:"Название документа"}),n.jsx(G,{id:"documentTitle",value:g,onChange:O=>w(O.target.value),placeholder:"Введите название"})]})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"documentContent",children:"Содержание/Описание"}),n.jsx(sr,{id:"documentContent",value:N,onChange:O=>S(O.target.value),placeholder:"Введите описание или содержание документа",rows:4})]}),n.jsxs(L,{onClick:oe,disabled:R.isPending,className:"w-full",children:[n.jsx(la,{className:"w-4 h-4 mr-2"}),R.isPending?"Добавление...":"Добавить документ"]})]})]}),n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsxs(je,{className:"flex items-center gap-2",children:[n.jsx(An,{className:"w-5 h-5"}),"Документы пользователя"]})}),n.jsx(te,{children:I?n.jsx("div",{className:"text-center py-4",children:"Загрузка документов..."}):q.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ya,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),"У пользователя нет документов"]}):n.jsxs("div",{className:"space-y-6",children:[ne.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[n.jsx(An,{className:"w-5 h-5 text-blue-600"}),"Паспорт"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ne.map(O=>{const re=ge(O.title||""),ee=Te(O);return n.jsx(Z,{className:"overflow-hidden",children:n.jsxs(te,{className:"p-0",children:[ee?n.jsxs("div",{className:"relative aspect-[3/2] bg-gray-100",children:[n.jsx("img",{src:ee,alt:O.title,className:"w-full h-full object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>P(ee)}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-10 transition-all duration-200 flex items-center justify-center opacity-0 hover:opacity-100",children:n.jsx(WC,{className:"w-8 h-8 text-white"})})]}):n.jsx("div",{className:"aspect-[3/2] bg-gray-100 flex items-center justify-center",children:n.jsx(An,{className:"w-12 h-12 text-gray-400"})}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h5",{className:"font-medium",children:re==="front"?"Паспорт - передняя часть":re==="back"?"Паспорт - задняя часть":O.title}),n.jsx(L,{size:"sm",variant:"destructive",onClick:()=>A.mutate(O.id),disabled:A.isPending,children:n.jsx($t,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(Qv,{className:"w-4 h-4"}),n.jsxs("span",{children:["Паспорт • ",O.createdAt?new Date(O.createdAt.toString()).toLocaleDateString("ru-RU"):"Дата не указана"]})]}),ee&&n.jsxs(L,{size:"sm",variant:"outline",className:"w-full mt-3",onClick:()=>P(ee),children:[n.jsx(Vr,{className:"w-4 h-4 mr-2"}),"Просмотреть"]})]})]})},O.id)})})]}),ue.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[n.jsx(ya,{className:"w-5 h-5 text-gray-600"}),"Другие документы"]}),n.jsx("div",{className:"space-y-3",children:ue.map(O=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ya,{className:"w-5 h-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:O.title}),n.jsxs("div",{className:"text-sm text-gray-500",children:[be(O.type)," • "," ",O.createdAt?new Date(O.createdAt.toString()).toLocaleDateString("ru-RU"):"Дата не указана"]})]})]}),n.jsx(L,{size:"sm",variant:"destructive",onClick:()=>A.mutate(O.id),disabled:A.isPending,children:n.jsx($t,{className:"w-4 h-4"})})]},O.id))})]})]})})]})]})]})]}),n.jsx(uw,{listingId:l,isOpen:!!l,onClose:()=>{c(null),a.invalidateQueries({queryKey:[`/api/admin/users/${e}/listings`]})}}),E&&n.jsx(Ms,{open:!!E,onOpenChange:()=>P(null),children:n.jsxs(Wr,{className:"max-w-4xl max-h-[90vh] p-0",children:[n.jsx(Hr,{className:"p-6 pb-0",children:n.jsxs(Gr,{className:"flex items-center gap-2",children:[n.jsx(An,{className:"w-5 h-5"}),"Просмотр документа"]})}),n.jsxs("div",{className:"p-6 pt-0",children:[n.jsx("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:n.jsx("img",{src:E,alt:"Документ пользователя",className:"w-full max-h-[70vh] object-contain"})}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx(L,{onClick:()=>P(null),children:"Закрыть"})})]})]})})]})}var qh="Radio",[g5,mw]=zt(qh),[v5,y5]=g5(qh),hw=u.forwardRef((e,t)=>{const{__scopeRadio:r,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...f}=e,[m,x]=u.useState(null),y=Re(t,j=>x(j)),b=u.useRef(!1),p=m?d||!!m.closest("form"):!0;return n.jsxs(v5,{scope:r,checked:a,disabled:o,children:[n.jsx(de.button,{type:"button",role:"radio","aria-checked":a,"data-state":xw(a),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:y,onClick:ae(e.onClick,j=>{a||c==null||c(),p&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})}),p&&n.jsx(j5,{control:m,bubbles:!b.current,name:s,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});hw.displayName=qh;var fw="RadioIndicator",pw=u.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:s,...a}=e,i=y5(fw,r);return n.jsx(ir,{present:s||i.checked,children:n.jsx(de.span,{"data-state":xw(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});pw.displayName=fw;var j5=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=u.useRef(null),o=Ic(r),l=Sc(t);return u.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&m){const x=new Event("click",{bubbles:s});m.call(c,r),c.dispatchEvent(x)}},[o,r,s]),n.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function xw(e){return e?"checked":"unchecked"}var b5=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Kh="RadioGroup",[w5,hP]=zt(Kh,[_c,mw]),gw=_c(),vw=mw(),[N5,S5]=w5(Kh),yw=u.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:f=!0,onValueChange:m,...x}=e,y=gw(r),b=Pc(d),[p,j]=tr({prop:i,defaultProp:a,onChange:m});return n.jsx(N5,{scope:r,name:s,required:o,disabled:l,value:p,onValueChange:j,children:n.jsx(zb,{asChild:!0,...y,orientation:c,dir:b,loop:f,children:n.jsx(de.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:b,...x,ref:t})})})});yw.displayName=Kh;var jw="RadioGroupItem",bw=u.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:s,...a}=e,i=S5(jw,r),o=i.disabled||s,l=gw(r),c=vw(r),d=u.useRef(null),f=Re(t,d),m=i.value===a.value,x=u.useRef(!1);return u.useEffect(()=>{const y=p=>{b5.includes(p.key)&&(x.current=!0)},b=()=>x.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",b)}},[]),n.jsx(Ub,{asChild:!0,...l,focusable:!o,active:m,children:n.jsx(hw,{disabled:o,required:i.required,checked:m,...c,...a,name:i.name,ref:f,onCheck:()=>i.onValueChange(a.value),onKeyDown:ae(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:ae(a.onFocus,()=>{var y;x.current&&((y=d.current)==null||y.click())})})})});bw.displayName=jw;var C5="RadioGroupIndicator",ww=u.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...s}=e,a=vw(r);return n.jsx(pw,{...a,...s,ref:t})});ww.displayName=C5;var Nw=yw,Sw=bw,k5=ww;const Cw=u.forwardRef(({className:e,...t},r)=>n.jsx(Nw,{className:le("grid gap-2",e),...t,ref:r}));Cw.displayName=Nw.displayName;const rm=u.forwardRef(({className:e,...t},r)=>n.jsx(Sw,{ref:r,className:le("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(k5,{className:"flex items-center justify-center",children:n.jsx(AC,{className:"h-2.5 w-2.5 fill-current text-current"})})}));rm.displayName=Sw.displayName;function E5({isOpen:e,onClose:t}){const{toast:r}=qe(),s=Le(),[a,i]=u.useState(""),[o,l]=u.useState(""),[c,d]=u.useState("buyer"),[f,m]=u.useState(!1),[x,y]=u.useState(!0),b="AutoBid.tj: Регистрация завершена! Скачайте приложение в Play Market или App Store и участвуйте в аукционах. Выгодные цены каждый день!",p=Ne({mutationFn:async v=>{var S;const g=localStorage.getItem("demo-user")||localStorage.getItem("currentUser"),w=g?JSON.parse(g):{},N=await fetch("/api/admin/users/create",{method:"POST",headers:{"Content-Type":"application/json","x-user-id":((S=w.userId)==null?void 0:S.toString())||"4","x-user-email":w.email||"+992 (90) 333-13-32@autoauction.tj"},body:JSON.stringify(v)});if(!N.ok){const E=await N.json();throw new Error(E.error||"Failed to create user")}return N.json()},onSuccess:v=>{r({title:"✅ Успешно!",description:`Аккаунт создан: ${v.user.fullName} (${v.user.phoneNumber})`,duration:3e3}),s.invalidateQueries({queryKey:["/api/admin/users"]}),h()},onError:v=>{r({title:"❌ Ошибка",description:v.message,variant:"destructive",duration:5e3})}}),j=v=>{if(v.preventDefault(),!a.trim()||!o.trim()){r({title:"❌ Ошибка",description:"Номер телефона и имя обязательны",variant:"destructive"});return}p.mutate({phoneNumber:a.trim(),fullName:o.trim(),role:c,isActive:f,sendSMS:x})},h=()=>{i(""),l(""),d("buyer"),m(!1),y(!0),t()};return n.jsx(Ms,{open:e,onOpenChange:h,children:n.jsxs(Wr,{className:"max-w-md",children:[n.jsx(Hr,{children:n.jsxs(Gr,{className:"flex items-center gap-2",children:[n.jsx(KC,{className:"h-5 w-5"}),"Создание нового аккаунта"]})}),n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(D,{htmlFor:"phoneNumber",children:"Номер телефона *"}),n.jsx(G,{id:"phoneNumber",type:"tel",placeholder:"+992 90 123-45-67",value:a,onChange:v=>i(v.target.value),required:!0})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"fullName",children:"Полное имя *"}),n.jsx(G,{id:"fullName",type:"text",placeholder:"Иван Петрович Сидоров",value:o,onChange:v=>l(v.target.value),required:!0})]}),n.jsxs("div",{children:[n.jsx(D,{children:"Роль пользователя"}),n.jsxs(Cw,{value:c,onValueChange:v=>d(v),className:"mt-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rm,{value:"buyer",id:"buyer"}),n.jsx(D,{htmlFor:"buyer",children:"Покупатель"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rm,{value:"seller",id:"seller"}),n.jsx(D,{htmlFor:"seller",children:"Продавец"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(D,{className:"text-base font-medium",children:"Настройки"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Jl,{id:"isActive",checked:f,onCheckedChange:v=>m(v===!0)}),n.jsx(D,{htmlFor:"isActive",children:"Активировать сразу"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Jl,{id:"sendSMS",checked:x,onCheckedChange:v=>y(v===!0)}),n.jsx(D,{htmlFor:"sendSMS",children:"Отправить SMS уведомление"})]})]}),x&&n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border",children:[n.jsx(D,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Текст SMS:"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:b})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(L,{type:"submit",disabled:p.isPending,className:"flex-1",children:p.isPending?"Создание...":"Создать аккаунт"}),n.jsx(L,{type:"button",variant:"outline",onClick:h,disabled:p.isPending,children:"Отмена"})]})]})]})})}function xx(e){if(!e)return"Не указан";if(e.includes("(")&&e.includes(")"))return e;const t=e.replace(/\D/g,"");if(t.startsWith("992")&&t.length>=12){const r=t.substring(3);return`+992 (${r.substring(0,2)}) ${r.substring(2,5)}-${r.substring(5,7)}-${r.substring(7,9)}`}return t.length===9?`+992 (${t.substring(0,2)}) ${t.substring(2,5)}-${t.substring(5,7)}-${t.substring(7,9)}`:e}function T5(){var s,a;const{user:e,loading:t}=it();qe(),Le();const r=((s=e==null?void 0:e.email)==null?void 0:s.includes("992903331332"))||((a=e==null?void 0:e.phoneNumber)==null?void 0:a.includes("333-13-32"));return t?n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Загрузка..."})]})}):!e||!r?n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsxs(Z,{className:"w-full max-w-md",children:[n.jsxs(ye,{className:"text-center",children:[n.jsx(lh,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx(je,{className:"text-red-600",children:"Доступ запрещен"}),n.jsx(bn,{children:"У вас нет прав доступа к админ панели"})]}),n.jsx(te,{className:"text-center",children:n.jsx(Ln,{href:"/",children:n.jsx(L,{variant:"outline",children:"На главную"})})})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 page-content",children:[n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Админ панель"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Управление платформой автоаукциона"})]}),n.jsxs(Uh,{defaultValue:"users",className:"w-full",children:[n.jsxs($c,{className:"flex flex-col w-full h-auto",children:[n.jsxs(ut,{value:"users",className:"flex items-center gap-2 w-full justify-start",children:[n.jsx(Gn,{className:"h-4 w-4"}),"Пользователи"]}),n.jsxs(ut,{value:"moderation",className:"flex items-center gap-2 w-full justify-start",children:[n.jsx(ch,{className:"h-4 w-4"}),"Модерация объявлений"]}),n.jsxs(ut,{value:"listings",className:"flex items-center gap-2 w-full justify-start",children:[n.jsx(Ze,{className:"h-4 w-4"}),"Объявления"]}),n.jsxs(ut,{value:"notifications",className:"flex items-center gap-2 w-full justify-start",children:[n.jsx(ht,{className:"h-4 w-4"}),"Уведомления"]}),n.jsxs(ut,{value:"sell-banner",className:"flex items-center gap-2 w-full justify-start",children:[n.jsx(vn,{className:"h-4 w-4"}),'Баннер "Продай авто"']}),n.jsxs(ut,{value:"banners",className:"flex items-center gap-2 w-full justify-start",children:[n.jsx(eo,{className:"h-4 w-4"}),"Баннеры"]}),n.jsxs(ut,{value:"ad-carousel",className:"flex items-center gap-2 w-full justify-start",children:[n.jsx(vn,{className:"h-4 w-4"}),"Реклама-карусель"]}),n.jsxs(ut,{value:"archive",className:"flex items-center gap-2 w-full justify-start",children:[n.jsx($t,{className:"h-4 w-4"}),"Архив"]}),n.jsxs(ut,{value:"wins",className:"flex items-center gap-2 w-full justify-start",children:[n.jsx(va,{className:"h-4 w-4"}),"Выигрыши"]}),n.jsxs(ut,{value:"referrals",className:"flex items-center gap-2 w-full justify-start",children:[n.jsx(Wa,{className:"h-4 w-4"}),"Рефералы"]}),n.jsxs(ut,{value:"stats",className:"flex items-center gap-2 w-full justify-start",children:[n.jsx(eo,{className:"h-4 w-4"}),"Статистика"]})]}),n.jsx(mt,{value:"users",children:n.jsx(R5,{})}),n.jsx(mt,{value:"moderation",children:n.jsx(P5,{})}),n.jsx(mt,{value:"listings",children:n.jsx(A5,{})}),n.jsx(mt,{value:"notifications",children:n.jsx(D5,{})}),n.jsx(mt,{value:"sell-banner",children:n.jsx(M5,{})}),n.jsx(mt,{value:"banners",children:n.jsx(F5,{})}),n.jsx(mt,{value:"ad-carousel",children:n.jsx(O5,{})}),n.jsx(mt,{value:"archive",children:n.jsx(_5,{})}),n.jsx(mt,{value:"wins",children:n.jsx($5,{})}),n.jsx(mt,{value:"referrals",children:n.jsx(U5,{})}),n.jsx(mt,{value:"stats",children:n.jsx(L5,{})})]})]}),n.jsx(z5,{})]})}function P5(){const{toast:e}=qe(),t=Le(),[r,s]=u.useState(null),{data:a=[],isLoading:i,error:o}=xe({queryKey:["/api/admin/listings/pending-approval"],queryFn:async()=>{console.log("🔄 Загружаем объявления на модерацию...");const x=await(await In("GET","/api/admin/listings/pending-approval")).json();return console.log("📋 Получены данные модерации:",x),x},staleTime:0,gcTime:0,refetchInterval:5e3,refetchOnMount:!0,refetchOnWindowFocus:!0}),l=Ne({mutationFn:async m=>{var h;const x=localStorage.getItem("currentUser"),y=localStorage.getItem("demo-user");console.log("🔍 АДМИН: currentUser из localStorage:",x),console.log("🔍 АДМИН: demo-user из localStorage:",y);let b={};if(x)try{b=JSON.parse(x)}catch(v){console.error("Ошибка парсинга currentUser:",v)}else if(y)try{b=JSON.parse(y)}catch(v){console.error("Ошибка парсинга demo-user:",v)}console.log("🔍 АДМИН: Parsed user:",b),console.log("🔍 АДМИН: userId:",b.userId),console.log("🔍 АДМИН: email:",b.email);const p={"Content-Type":"application/json","x-user-id":((h=b.userId)==null?void 0:h.toString())||"4","x-user-email":b.email||"+992 (90) 333-13-32@autoauction.tj"};console.log("🔍 АДМИН: Отправляемые заголовки:",p);const j=await fetch(`/api/admin/listings/${m}/approve`,{method:"POST",headers:p});if(!j.ok)throw new Error("Failed to approve listing");return j.json()},onSuccess:()=>{e({title:"Объявление одобрено",description:"Объявление теперь доступно в публичном каталоге",variant:"default",duration:1e3}),t.invalidateQueries({queryKey:["/api/admin/listings/pending-approval"]})},onError:m=>{e({title:"Ошибка одобрения",description:m.message,variant:"destructive"})}}),c=Ne({mutationFn:async m=>{var b;const x=JSON.parse(localStorage.getItem("currentUser")||"{}"),y=await fetch(`/api/admin/listings/${m}/reject`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":((b=x.userId)==null?void 0:b.toString())||"","x-user-email":x.email||""}});if(!y.ok)throw new Error("Failed to reject listing");return y.json()},onSuccess:()=>{e({title:"Объявление отклонено",description:"Заявка на объявление была отклонена",variant:"default"}),t.invalidateQueries({queryKey:["/api/admin/listings/pending-approval"]})},onError:m=>{e({title:"Ошибка отклонения",description:m.message,variant:"destructive"})}}),d=Ne({mutationFn:async({id:m,data:x})=>{const y=await fetch(`/api/listings/${m}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!y.ok)throw new Error("Failed to update listing");return y.json()},onSuccess:()=>{e({title:"Объявление обновлено",description:"Изменения сохранены успешно",variant:"default"}),s(null),t.invalidateQueries({queryKey:["/api/admin/listings/pending-approval"]})},onError:m=>{e({title:"Ошибка обновления",description:m.message,variant:"destructive"})}}),f=Ne({mutationFn:async m=>{var h;const x=localStorage.getItem("currentUser"),y=localStorage.getItem("demo-user");let b={};if(x)try{b=JSON.parse(x)}catch(v){console.error("Ошибка парсинга currentUser:",v)}else if(y)try{b=JSON.parse(y)}catch(v){console.error("Ошибка парсинга demo-user:",v)}console.log("🗑️ DEBUG: Пользователь перед удалением:",b),console.log("🗑️ DEBUG: userId:",b==null?void 0:b.userId),console.log("🗑️ DEBUG: email:",b==null?void 0:b.email);const p={"Content-Type":"application/json","x-user-id":((h=b==null?void 0:b.userId)==null?void 0:h.toString())||"4","x-user-email":(b==null?void 0:b.email)||"+992 (90) 333-13-32@autoauction.tj"};console.log("🗑️ Отправка DELETE запроса с заголовками:",p);const j=await fetch(`/api/admin/listings/${m}`,{method:"DELETE",headers:p});if(console.log("🗑️ Ответ сервера:",j.status,j.statusText),!j.ok){const v=await j.json().catch(()=>({}));throw console.error("🗑️ Ошибка удаления:",v),new Error(v.error||"Failed to delete listing")}return j.json()},onSuccess:()=>{e({title:"Объявление удалено",description:"Объявление было успешно удалено из системы",variant:"default",duration:1e3}),t.invalidateQueries({queryKey:["/api/admin/listings/pending-approval"]}),t.invalidateQueries({queryKey:["/api/listings"]}),t.refetchQueries({queryKey:["/api/listings"]})},onError:m=>{e({title:"Ошибка удаления",description:m.message,variant:"destructive"})}});return i?n.jsx(Z,{children:n.jsxs(ye,{children:[n.jsx(je,{children:"Модерация объявлений"}),n.jsx(bn,{children:"Загрузка объявлений ожидающих одобрения..."})]})}):n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx(je,{children:"Модерация объявлений"}),n.jsxs(bn,{children:["Объявления ожидающие одобрения: ",a.length]})]}),n.jsx(L,{variant:"outline",size:"sm",onClick:()=>{console.log("🔄 Принудительное обновление модерации..."),t.removeQueries({queryKey:["/api/admin/listings/pending-approval"]}),t.invalidateQueries({queryKey:["/api/admin/listings/pending-approval"]})},children:"🔄 Обновить"})]})}),n.jsxs(te,{children:[o&&n.jsx("div",{className:"text-center py-4 mb-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsxs("p",{className:"text-red-600",children:["Ошибка: ",o.message]})}),a.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-500",children:"Нет объявлений ожидающих модерации"}),n.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Debug: Загружено ",a.length," объявлений"]})]}):n.jsx("div",{className:"space-y-4",children:a.map(m=>n.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6 bg-white dark:bg-gray-800 shadow-sm hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ve,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-300 dark:border-yellow-800",children:"Ожидает одобрения"}),n.jsxs("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:["Лот #",m.lotNumber]})]}),n.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[m.make," ",m.model," ",m.year]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsxs(L,{size:"sm",variant:"outline",onClick:()=>s(m),disabled:l.isPending||c.isPending||d.isPending,className:"flex items-center justify-center gap-2 h-10 font-medium border-gray-300 hover:border-gray-400 hover:bg-gray-50 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-700",children:[n.jsx(ss,{className:"h-4 w-4"}),"Редактировать"]}),n.jsxs(L,{size:"sm",variant:"default",onClick:()=>l.mutate(m.id),disabled:l.isPending||c.isPending||d.isPending,className:"flex items-center justify-center gap-2 h-10 font-medium bg-green-600 hover:bg-green-700 border-green-600 hover:border-green-700",children:[n.jsx(ch,{className:"h-4 w-4"}),"Одобрить"]}),n.jsxs(L,{size:"sm",variant:"destructive",onClick:()=>c.mutate(m.id),disabled:l.isPending||c.isPending||d.isPending||f.isPending,className:"flex items-center justify-center gap-2 h-10 font-medium bg-orange-600 hover:bg-orange-700 border-orange-600 hover:border-orange-700",children:[n.jsx(dh,{className:"h-4 w-4"}),"Отклонить"]}),n.jsxs(Fs,{children:[n.jsx(Hl,{asChild:!0,children:n.jsxs(L,{size:"sm",variant:"destructive",disabled:l.isPending||c.isPending||d.isPending||f.isPending,className:"flex items-center justify-center gap-2 h-10 font-medium bg-red-600 hover:bg-red-700 border-red-600 hover:border-red-700",children:[n.jsx($t,{className:"h-4 w-4"}),"Удалить"]})}),n.jsxs(Xr,{children:[n.jsxs(Jr,{children:[n.jsx(Zr,{children:"Подтвердите удаление"}),n.jsxs(es,{children:['Вы уверены, что хотите удалить объявление "',m.make," ",m.model,'"? Это действие нельзя отменить.']})]}),n.jsxs(Yr,{children:[n.jsx(Ls,{children:"Отмена"}),n.jsx(Os,{onClick:()=>f.mutate(m.id),className:"bg-red-600 hover:bg-red-700",children:"Удалить"})]})]})]})]})]})},m.id))})]}),r&&n.jsx(I5,{listing:r,onClose:()=>s(null),onUpdate:m=>d.mutate({id:r.id,data:m}),isUpdating:d.isPending})]})}function I5({listing:e,onClose:t,onUpdate:r,isUpdating:s}){const[a,i]=u.useState({make:e.make,model:e.model,year:e.year,mileage:e.mileage,description:e.description,startingPrice:e.startingPrice,reservePrice:e.reservePrice?String(e.reservePrice):"",auctionDuration:e.auctionDuration||7,condition:e.condition||"good",location:e.location||"",engine:e.engine||"",transmission:e.transmission||"",fuelType:e.fuelType||"",bodyType:e.bodyType||"",driveType:e.driveType||"",color:e.color||"",customsCleared:e.customsCleared||!1,recycled:e.recycled||!1,technicalInspectionValid:e.technicalInspectionValid||!1,tinted:e.tinted||!1,photos:e.photos||[]}),o=l=>{l.preventDefault();const c={...a,auctionDuration:a.auctionDuration};r(c)};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4 pb-24",children:n.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg max-w-4xl w-full max-h-[85vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Редактировать объявление"}),n.jsx(L,{variant:"outline",size:"sm",onClick:t,children:n.jsx(dh,{className:"h-4 w-4"})})]}),n.jsxs("form",{onSubmit:o,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(D,{htmlFor:"make",children:"Марка"}),n.jsx(G,{id:"make",value:a.make,onChange:l=>i({...a,make:l.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"model",children:"Модель"}),n.jsx(G,{id:"model",value:a.model,onChange:l=>i({...a,model:l.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"year",children:"Год"}),n.jsx(G,{id:"year",type:"number",value:a.year,onChange:l=>i({...a,year:parseInt(l.target.value)}),required:!0})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"mileage",children:"Пробег (км)"}),n.jsx(G,{id:"mileage",type:"number",value:a.mileage,onChange:l=>i({...a,mileage:parseInt(l.target.value)}),required:!0})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"startingPrice",children:"Начальная цена (сомони)"}),n.jsx(G,{id:"startingPrice",value:a.startingPrice,onChange:l=>i({...a,startingPrice:l.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"reservePrice",children:"Резервная цена (сомони)"}),n.jsx(G,{id:"reservePrice",value:a.reservePrice,onChange:l=>i({...a,reservePrice:l.target.value}),placeholder:"Не указана"})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"auctionDuration",children:"Продолжительность аукциона (дни)"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{id:"auctionDuration",type:"number",min:"1",max:"30",value:a.auctionDuration,onChange:l=>i({...a,auctionDuration:parseInt(l.target.value)||7}),required:!0}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 space-y-1",children:[n.jsxs("div",{children:["Продавец выбрал: ",a.auctionDuration," ",a.auctionDuration===1?"день":a.auctionDuration<5?"дня":"дней"]}),e.auctionStartTime&&n.jsxs("div",{children:["Начало: ",new Date(e.auctionStartTime).toLocaleString("ru-RU")]}),e.auctionEndTime&&n.jsxs("div",{children:["Окончание: ",new Date(e.auctionEndTime).toLocaleString("ru-RU")]})]})]})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"condition",children:"Состояние"}),n.jsxs(Ae,{value:a.condition,onValueChange:l=>i({...a,condition:l}),children:[n.jsx(Pe,{children:n.jsx(De,{})}),n.jsxs(Ie,{children:[n.jsx($,{value:"excellent",children:"Отличное"}),n.jsx($,{value:"very_good",children:"Очень хорошее"}),n.jsx($,{value:"good",children:"Хорошее"}),n.jsx($,{value:"fair",children:"Удовлетворительное"}),n.jsx($,{value:"poor",children:"Плохое"})]})]})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"location",children:"Местоположение"}),n.jsx(G,{id:"location",value:a.location,onChange:l=>i({...a,location:l.target.value})})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"color",children:"Цвет"}),n.jsx(G,{id:"color",value:a.color,onChange:l=>i({...a,color:l.target.value})})]})]}),n.jsxs("div",{children:[n.jsx(D,{htmlFor:"description",children:"Описание"}),n.jsx(sr,{id:"description",value:a.description,onChange:l=>i({...a,description:l.target.value}),rows:3,required:!0})]}),n.jsxs("div",{children:[n.jsxs(D,{className:"text-base font-medium",children:["Фотографии (",a.photos.length," шт.)"]}),a.photos&&a.photos.length>0?n.jsx("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-3",children:a.photos.map((l,c)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:l,alt:`Фото ${c+1}`,className:"w-full h-24 object-cover rounded-lg border"}),n.jsx("button",{type:"button",onClick:()=>{const d=a.photos.filter((f,m)=>m!==c);i({...a,photos:d})},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 opacity-0 group-hover:opacity-100 transition-opacity",children:"×"})]},c))}):n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Фотографии не загружены"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"customsCleared",checked:a.customsCleared,onChange:l=>i({...a,customsCleared:l.target.checked})}),n.jsx(D,{htmlFor:"customsCleared",children:"Растаможен"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"recycled",checked:a.recycled,onChange:l=>i({...a,recycled:l.target.checked})}),n.jsx(D,{htmlFor:"recycled",children:"Утилизирован"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"technicalInspectionValid",checked:a.technicalInspectionValid,onChange:l=>i({...a,technicalInspectionValid:l.target.checked})}),n.jsx(D,{htmlFor:"technicalInspectionValid",children:"Техосмотр пройден"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"tinted",checked:a.tinted,onChange:l=>i({...a,tinted:l.target.checked})}),n.jsx(D,{htmlFor:"tinted",children:"Тонировка"})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[n.jsx(L,{type:"submit",disabled:s,className:"bg-blue-600 hover:bg-blue-700",children:s?"Сохранение...":"Сохранить изменения"}),n.jsx(L,{type:"button",variant:"outline",onClick:t,children:"Отмена"})]})]})]})})})}function R5(){const{toast:e}=qe(),t=Le(),[r,s]=u.useState(null),[a,i]=u.useState(!1),o=()=>{console.log("Обновление списка пользователей..."),t.removeQueries({queryKey:["/api/admin/users"]}),t.invalidateQueries({queryKey:["/api/admin/users"]}),t.refetchQueries({queryKey:["/api/admin/users"]}),e({title:"Список обновлен",description:"Данные пользователей обновлены",duration:1e3})},{data:l=[],isLoading:c}=xe({queryKey:["/api/admin/users"],refetchInterval:3e3,staleTime:0,gcTime:1e3});return c?n.jsx("div",{className:"text-center py-8",children:"Загрузка пользователей..."}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs(Z,{children:[n.jsxs(ye,{children:[n.jsxs(je,{className:"flex items-center justify-between",children:["Управление пользователями",n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(L,{variant:"default",size:"sm",onClick:()=>i(!0),className:"bg-green-600 hover:bg-green-700",children:[n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Создать новый аккаунт"]}),n.jsxs(L,{variant:"outline",size:"sm",onClick:o,children:[n.jsx(Jv,{className:"w-4 h-4 mr-2"}),"Обновить"]})]})]}),n.jsx(bn,{children:"Активация и деактивация пользователей системы"})]}),n.jsx(te,{children:n.jsx("div",{className:"space-y-4",children:l.map(d=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:d.fullName||xx(d==null?void 0:d.phoneNumber)}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[xx(d==null?void 0:d.phoneNumber)," • ",d.role]}),d.isInvited&&n.jsxs("p",{className:"text-xs text-green-600",children:["Приглашен: ",d.invitedBy]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{variant:d.isActive?"default":"secondary",children:d.isActive?"Активен":"Неактивен"}),d.isInvited&&n.jsx(ve,{variant:"outline",className:"text-green-600 border-green-300",children:"Реферал"})]})]})}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(L,{size:"sm",variant:"outline",onClick:()=>s(d.id),className:"flex items-center gap-1",children:[n.jsx(ss,{className:"w-4 h-4"}),"Редактировать"]})})]},d.id))})})]}),n.jsx(x5,{userId:r,isOpen:!!r,onClose:()=>s(null)}),n.jsx(E5,{isOpen:a,onClose:()=>i(!1)})]})}function A5(){const{user:e}=it(),{toast:t}=qe(),r=Le(),[s,a]=u.useState(null),[i,o]=u.useState(""),{data:l=[],isLoading:c}=xe({queryKey:["/api/admin/listings"]}),d=l.filter(y=>{var b;return i===""||((b=y.lotNumber)==null?void 0:b.toLowerCase().includes(i.toLowerCase()))}),f=Ne({mutationFn:async({listingId:y,status:b})=>{const p=await fetch(`/api/admin/listings/${y}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:b})});if(!p.ok)throw new Error("Failed to update listing status");return p.json()},onSuccess:()=>{t({title:"Статус объявления обновлен"}),r.invalidateQueries({queryKey:["/api/admin/listings"]})},onError:()=>{t({title:"Ошибка",description:"Не удалось обновить статус",variant:"destructive"})}}),m=Ne({mutationFn:async y=>{var p;const b=await fetch(`/api/admin/listings/${y}`,{method:"DELETE",headers:{"Content-Type":"application/json","x-user-id":((p=e==null?void 0:e.userId)==null?void 0:p.toString())||"","x-user-email":(e==null?void 0:e.email)||""}});if(!b.ok)throw new Error("Failed to delete listing");return b.json()},onSuccess:()=>{t({title:"Объявление удалено",description:"Объявление было успешно удалено из системы",variant:"default",duration:1e3}),r.invalidateQueries({queryKey:["/api/admin/listings"]}),r.invalidateQueries({queryKey:["/api/listings"]}),r.refetchQueries({queryKey:["/api/listings"]})},onError:y=>{t({title:"Ошибка удаления",description:y.message,variant:"destructive"})}}),x=Ne({mutationFn:async y=>{const b=await fetch(`/api/admin/listings/${y}/end-auction`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!b.ok)throw new Error("Failed to end auction");return b.json()},onSuccess:y=>{t({title:"🏆 Аукцион завершен",description:y.winner?`Победитель: ID ${y.winner}, ставка: ${parseFloat(y.winningAmount).toLocaleString()} Сомони`:"Аукцион завершен без ставок",variant:"default"}),r.invalidateQueries({queryKey:["/api/admin/listings"]}),r.invalidateQueries({queryKey:["/api/archived-listings"]})},onError:y=>{t({title:"Ошибка завершения аукциона",description:y.message,variant:"destructive"})}});return c?n.jsx("div",{className:"text-center py-8",children:"Загрузка объявлений..."}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs(Z,{children:[n.jsxs(ye,{children:[n.jsx(je,{children:"Управление объявлениями"}),n.jsx(bn,{children:"Модерация объявлений и управление статусами аукционов"})]}),n.jsxs(te,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(mh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(G,{type:"text",placeholder:"Поиск по номеру лота...",value:i,onChange:y=>o(y.target.value),className:"pl-10"})]}),i&&n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Найдено объявлений: ",d.length]})]}),n.jsx("div",{className:"space-y-4",children:d.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:i?"Объявления с таким номером лота не найдены":"Нет объявлений"}):d.map(y=>n.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between p-4 md:p-6 border border-gray-200 dark:border-gray-700 rounded-xl bg-white dark:bg-gray-800 shadow-sm hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"flex-1 mb-4 md:mb-0",children:n.jsxs("div",{className:"flex items-start gap-3 md:gap-4",children:[n.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gray-100 dark:bg-gray-700 rounded-xl flex-shrink-0 overflow-hidden",children:y.photos&&Array.isArray(y.photos)&&y.photos.length>0?n.jsx("img",{src:y.photos[0],alt:`${y.make} ${y.model}`,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(Ze,{className:"h-6 w-6 md:h-8 md:w-8 text-gray-400"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("h3",{className:"text-base md:text-lg font-semibold text-gray-900 dark:text-white mb-1",children:[y.make," ",y.model]}),n.jsxs("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-300 mb-2",children:[y.year," год"]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3 mb-2",children:[n.jsxs("span",{className:"text-xs md:text-sm font-medium text-gray-500 dark:text-gray-400",children:["Лот #",y.lotNumber]}),n.jsx("span",{className:"hidden sm:inline text-sm text-gray-500 dark:text-gray-400",children:"•"}),n.jsxs("span",{className:"text-sm md:text-base font-semibold text-blue-600 dark:text-blue-400",children:[y.currentBid," Сомони"]})]}),n.jsx(ve,{variant:y.status==="pending"?"secondary":y.status==="active"?"default":y.status==="ended"?"outline":"destructive",className:"text-xs px-2 md:px-3 py-1 w-fit",children:y.status==="pending"?"На модерации":y.status==="active"?"Активен":y.status==="ended"?"Завершен":"Отклонен"})]})]})}),n.jsxs("div",{className:"flex flex-col gap-3 w-full md:w-40",children:[n.jsxs("div",{className:"flex flex-row md:flex-col gap-2",children:[n.jsxs(L,{size:"sm",variant:"outline",onClick:()=>a(y.id),className:"flex-1 md:flex-none flex items-center justify-center gap-1 md:gap-2 h-8 md:h-9 text-xs md:text-sm font-medium border-gray-300 hover:border-gray-400 hover:bg-gray-50 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-700",children:[n.jsx(ss,{className:"w-3 h-3 md:w-4 md:h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Редактировать"}),n.jsx("span",{className:"sm:hidden",children:"Ред."})]}),y.status==="active"&&n.jsxs(Fs,{children:[n.jsx(Hl,{asChild:!0,children:n.jsxs(L,{size:"sm",variant:"default",disabled:x.isPending,className:"flex-1 md:flex-none flex items-center justify-center gap-1 md:gap-2 h-8 md:h-9 text-xs md:text-sm font-medium bg-amber-600 hover:bg-amber-700 border-amber-600 hover:border-amber-700",children:[n.jsx(va,{className:"w-3 h-3 md:w-4 md:h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Завершить"}),n.jsx("span",{className:"sm:hidden",children:"Конец"})]})}),n.jsxs(Xr,{children:[n.jsxs(Jr,{children:[n.jsx(Zr,{children:"Завершить аукцион"}),n.jsxs(es,{children:['Завершить аукцион "',y.make," ",y.model,'"? Будет определен победитель по самой высокой ставке.']})]}),n.jsxs(Yr,{children:[n.jsx(Ls,{children:"Отмена"}),n.jsx(Os,{onClick:()=>x.mutate(y.id),className:"bg-amber-600 hover:bg-amber-700",children:"Завершить"})]})]})]}),n.jsxs(Fs,{children:[n.jsx(Hl,{asChild:!0,children:n.jsxs(L,{size:"sm",variant:"destructive",disabled:m.isPending,className:"flex-1 md:flex-none flex items-center justify-center gap-1 md:gap-2 h-8 md:h-9 text-xs md:text-sm font-medium bg-red-600 hover:bg-red-700 border-red-600 hover:border-red-700",children:[n.jsx($t,{className:"w-3 h-3 md:w-4 md:h-4"}),"Удалить"]})}),n.jsxs(Xr,{children:[n.jsxs(Jr,{children:[n.jsx(Zr,{children:"Подтвердите удаление"}),n.jsxs(es,{children:['Вы уверены, что хотите удалить объявление "',y.make," ",y.model,'"? Это действие нельзя отменить.']})]}),n.jsxs(Yr,{children:[n.jsx(Ls,{children:"Отмена"}),n.jsx(Os,{onClick:()=>m.mutate(y.id),className:"bg-red-600 hover:bg-red-700",children:"Удалить"})]})]})]})]}),n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:[n.jsx(D,{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2 block",children:"Статус аукциона"}),n.jsxs(Ae,{value:y.status,onValueChange:b=>f.mutate({listingId:y.id,status:b}),disabled:f.isPending,children:[n.jsx(Pe,{className:"w-full h-8 md:h-9 text-xs md:text-sm",children:n.jsx(De,{})}),n.jsxs(Ie,{children:[n.jsx($,{value:"pending",children:"На модерации"}),n.jsx($,{value:"active",children:"Активен"}),n.jsx($,{value:"ended",children:"Завершен"}),n.jsx($,{value:"rejected",children:"Отклонен"})]})]})]})]})]},y.id))})]})]}),n.jsx(uw,{listingId:s,isOpen:!!s,onClose:()=>a(null)})]})}function D5(){return n.jsxs(Z,{children:[n.jsxs(ye,{children:[n.jsx(je,{children:"Управление уведомлениями"}),n.jsx(bn,{children:"Системные уведомления и их настройки"})]}),n.jsx(te,{children:n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Раздел в разработке. Здесь будет управление системными уведомлениями."})})]})}function M5(){const{toast:e}=qe(),t=Le(),[r,s]=u.useState(!1),[a,i]=u.useState({title:"",description:"",buttonText:"",linkUrl:"",backgroundImageUrl:"",rotationImage1:"",rotationImage2:"",rotationImage3:"",rotationImage4:"",rotationInterval:3,gradientFrom:"",gradientTo:"",textColor:"",isActive:!0,overlayOpacity:60}),{data:o,isLoading:l}=xe({queryKey:["/api/sell-car-banner"],staleTime:3e4});u.useEffect(()=>{o&&typeof o=="object"&&i({title:o.title||"",description:o.description||"",buttonText:o.buttonText||"",linkUrl:o.linkUrl||"",backgroundImageUrl:o.backgroundImageUrl||"",rotationImage1:o.rotationImage1||"",rotationImage2:o.rotationImage2||"",rotationImage3:o.rotationImage3||"",rotationImage4:o.rotationImage4||"",rotationInterval:o.rotationInterval||3,gradientFrom:o.gradientFrom||"",gradientTo:o.gradientTo||"",textColor:o.textColor||"",isActive:o.isActive!==!1,overlayOpacity:o.overlayOpacity||60})},[o]);const c=Ne({mutationFn:async m=>{const x=await fetch("/api/admin/sell-car-banner",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!x.ok)throw new Error("Ошибка обновления баннера");return x.json()},onSuccess:()=>{e({title:"Успешно",description:"Баннер обновлен успешно"}),t.invalidateQueries({queryKey:["/api/sell-car-banner"]}),s(!1)},onError:m=>{e({title:"Ошибка",description:m.message||"Не удалось обновить баннер",variant:"destructive"})}}),d=m=>{m.preventDefault(),c.mutate(a)},f=()=>{o&&typeof o=="object"&&i({title:o.title||"",description:o.description||"",buttonText:o.buttonText||"",linkUrl:o.linkUrl||"",backgroundImageUrl:o.backgroundImageUrl||"",gradientFrom:o.gradientFrom||"",gradientTo:o.gradientTo||"",textColor:o.textColor||"",isActive:o.isActive!==!1,overlayOpacity:o.overlayOpacity||60}),s(!1)};return l?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:'Управление баннером "Продай свое авто"'}),n.jsxs(L,{onClick:()=>{r?f():s(!0)},variant:r?"outline":"default",className:"flex items-center gap-2",children:[n.jsx(ss,{className:"w-4 h-4"}),r?"Отменить":"Редактировать"]})]}),o&&!r&&n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsx(je,{children:"Предварительный просмотр"})}),n.jsxs(te,{children:[n.jsxs("div",{className:"relative h-44 rounded-2xl p-6 text-white overflow-hidden shadow-2xl",style:{background:`linear-gradient(135deg, ${o.gradientFrom||"#059669"} 0%, ${o.gradientTo||"#047857"} 100%)`},children:[o.backgroundImageUrl&&n.jsx("div",{className:"absolute inset-0 rounded-2xl bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url('${o.backgroundImageUrl}')`,opacity:(o.overlayOpacity||60)/100}}),n.jsx("div",{className:"absolute inset-0 rounded-2xl",style:{background:`linear-gradient(135deg, ${o.gradientFrom||"#059669"}CC 0%, ${o.gradientTo||"#047857"}CC 100%)`}}),n.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-center items-center text-center space-y-3",children:[n.jsx("h2",{className:"text-2xl font-bold drop-shadow-lg text-white",children:o.title}),n.jsx("p",{className:"text-base leading-relaxed opacity-95 drop-shadow-md max-w-md text-white",children:o.description}),n.jsx("div",{className:"mt-4",children:n.jsxs("span",{className:"px-6 py-3 rounded-full text-sm font-bold bg-white text-green-600 shadow-lg inline-flex items-center gap-2",children:[n.jsx(vn,{className:"w-4 h-4"}),o.buttonText]})})]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Статус:"}),n.jsx(ve,{variant:o.isActive?"default":"secondary",className:"ml-2",children:o.isActive?"Активный":"Неактивный"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Ссылка:"}),n.jsx("span",{className:"ml-2 text-blue-600",children:o.linkUrl})]})]})]})]}),r&&n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsx(je,{children:"Редактировать баннер"})}),n.jsx(te,{children:n.jsxs("form",{onSubmit:d,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"title",children:"Заголовок"}),n.jsx(G,{id:"title",value:a.title,onChange:m=>i({...a,title:m.target.value}),placeholder:"Продай свое авто",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"buttonText",children:"Текст кнопки"}),n.jsx(G,{id:"buttonText",value:a.buttonText,onChange:m=>i({...a,buttonText:m.target.value}),placeholder:"Начать продажу",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"description",children:"Описание"}),n.jsx(sr,{id:"description",value:a.description,onChange:m=>i({...a,description:m.target.value}),placeholder:"Получи максимальную цену за свой автомобиль на нашем аукционе",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"linkUrl",children:"Ссылка (относительный путь)"}),n.jsx(G,{id:"linkUrl",value:a.linkUrl,onChange:m=>i({...a,linkUrl:m.target.value}),placeholder:"/sell"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Введите относительный путь, например: /sell или /create-listing"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"backgroundImageUrl",children:"URL фонового изображения"}),n.jsx(G,{id:"backgroundImageUrl",value:a.backgroundImageUrl,onChange:m=>i({...a,backgroundImageUrl:m.target.value}),placeholder:"https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?w=800&h=300&fit=crop",type:"url"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-lg font-medium",children:"Изображения для ротации"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"rotationImage1",children:"Изображение 1"}),n.jsx(G,{id:"rotationImage1",value:a.rotationImage1||"",onChange:m=>i({...a,rotationImage1:m.target.value}),placeholder:"https://images.unsplash.com/photo-1555215695-3004980ad54e",type:"url"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"rotationImage2",children:"Изображение 2"}),n.jsx(G,{id:"rotationImage2",value:a.rotationImage2||"",onChange:m=>i({...a,rotationImage2:m.target.value}),placeholder:"https://images.unsplash.com/photo-1502877338535-766e1452684a",type:"url"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"rotationImage3",children:"Изображение 3"}),n.jsx(G,{id:"rotationImage3",value:a.rotationImage3||"",onChange:m=>i({...a,rotationImage3:m.target.value}),placeholder:"https://images.unsplash.com/photo-1567018265282-303944d3c2a8",type:"url"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"rotationImage4",children:"Изображение 4"}),n.jsx(G,{id:"rotationImage4",value:a.rotationImage4||"",onChange:m=>i({...a,rotationImage4:m.target.value}),placeholder:"https://images.unsplash.com/photo-1552519507-ac11af17dcc8",type:"url"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"rotationInterval",children:"Интервал ротации (секунды)"}),n.jsx(G,{id:"rotationInterval",type:"number",min:"1",max:"60",value:a.rotationInterval||3,onChange:m=>i({...a,rotationInterval:parseInt(m.target.value)||3}),className:"w-32"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Время между сменой изображений (1-60 секунд)"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"gradientFrom",children:"Цвет начала"}),n.jsx(G,{id:"gradientFrom",type:"color",value:a.gradientFrom,onChange:m=>i({...a,gradientFrom:m.target.value}),className:"h-10"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"gradientTo",children:"Цвет конца"}),n.jsx(G,{id:"gradientTo",type:"color",value:a.gradientTo,onChange:m=>i({...a,gradientTo:m.target.value}),className:"h-10"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"overlayOpacity",children:"Прозрачность (%)"}),n.jsx(G,{id:"overlayOpacity",type:"number",min:"0",max:"100",value:a.overlayOpacity,onChange:m=>i({...a,overlayOpacity:parseInt(m.target.value)||60}),className:"h-10"})]}),n.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:a.isActive,onChange:m=>i({...a,isActive:m.target.checked}),className:"rounded border-gray-300"}),n.jsx(D,{htmlFor:"isActive",children:"Активный"})]})]}),n.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700 flex gap-3",children:[n.jsx(L,{type:"submit",disabled:c.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 text-base font-medium",children:c.isPending?"Сохранение...":"Сохранить изменения"}),n.jsx(L,{type:"button",variant:"outline",onClick:f,className:"px-6 py-2 text-base",children:"Отмена"})]})]})})]})]})}function F5(){const{toast:e}=qe(),t=Le(),[r,s]=u.useState(null),[a,i]=u.useState(!1),[o,l]=u.useState({title:"",description:"",imageUrl:"",linkUrl:"",position:"main",isActive:!0,order:1}),{data:c,isLoading:d}=xe({queryKey:["/api/admin/banners"],staleTime:3e4}),f=Ne({mutationFn:async h=>{const v=await fetch("/api/admin/banners",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!v.ok)throw new Error("Ошибка создания баннера");return v.json()},onSuccess:()=>{e({title:"Успешно",description:"Баннер создан успешно"}),t.invalidateQueries({queryKey:["/api/admin/banners"]}),i(!1),y()},onError:h=>{e({title:"Ошибка",description:h.message||"Не удалось создать баннер",variant:"destructive"})}}),m=Ne({mutationFn:async({id:h,data:v})=>{const g=await fetch(`/api/admin/banners/${h}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!g.ok)throw new Error("Ошибка обновления баннера");return g.json()},onSuccess:()=>{e({title:"Успешно",description:"Баннер обновлен успешно"}),t.invalidateQueries({queryKey:["/api/admin/banners"]}),s(null),y()},onError:h=>{e({title:"Ошибка",description:h.message||"Не удалось обновить баннер",variant:"destructive"})}}),x=Ne({mutationFn:async h=>{const v=await fetch(`/api/admin/banners/${h}`,{method:"DELETE"});if(!v.ok)throw new Error("Ошибка удаления баннера");return v.json()},onSuccess:()=>{e({title:"Успешно",description:"Баннер удален успешно"}),t.invalidateQueries({queryKey:["/api/admin/banners"]})},onError:h=>{e({title:"Ошибка",description:h.message||"Не удалось удалить баннер",variant:"destructive"})}}),y=()=>{l({title:"",description:"",imageUrl:"",linkUrl:"",position:"main",isActive:!0,order:1})},b=h=>{s(h),l({title:h.title||"",description:h.description||"",imageUrl:h.imageUrl||"",linkUrl:h.linkUrl||"",position:h.position||"main",isActive:h.isActive!==!1,order:h.order||1})},p=h=>{h.preventDefault(),r?m.mutate({id:r.id,data:o}):f.mutate(o)},j=()=>{s(null),i(!1),y()};return d?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Управление баннерами"}),n.jsxs(L,{onClick:()=>i(!0),className:"flex items-center gap-2",disabled:a||r,children:[n.jsx(vn,{className:"w-4 h-4"}),"Создать баннер"]})]}),(a||r)&&n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsx(je,{children:r?"Редактировать баннер":"Создать новый баннер"})}),n.jsx(te,{children:n.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"title",children:"Заголовок"}),n.jsx(G,{id:"title",value:o.title,onChange:h=>l({...o,title:h.target.value}),placeholder:"Заголовок баннера",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"position",children:"Позиция"}),n.jsxs(Ae,{value:o.position,onValueChange:h=>l({...o,position:h}),children:[n.jsx(Pe,{children:n.jsx(De,{placeholder:"Выберите позицию"})}),n.jsxs(Ie,{children:[n.jsx($,{value:"main",children:"Главная страница"}),n.jsx($,{value:"sidebar",children:"Боковая панель"}),n.jsx($,{value:"footer",children:"Подвал"}),n.jsx($,{value:"header",children:"Заголовок"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"description",children:"Описание"}),n.jsx(sr,{id:"description",value:o.description,onChange:h=>l({...o,description:h.target.value}),placeholder:"Описание баннера",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"imageUrl",children:"URL изображения"}),n.jsx(G,{id:"imageUrl",value:o.imageUrl,onChange:h=>l({...o,imageUrl:h.target.value}),placeholder:"https://example.com/image.jpg",type:"url"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"linkUrl",children:"Ссылка (необязательно)"}),n.jsx(G,{id:"linkUrl",value:o.linkUrl,onChange:h=>l({...o,linkUrl:h.target.value}),placeholder:"https://example.com",type:"url"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"order",children:"Порядок отображения"}),n.jsx(G,{id:"order",type:"number",value:o.order,onChange:h=>l({...o,order:parseInt(h.target.value)||1}),min:"1"})]}),n.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:o.isActive,onChange:h=>l({...o,isActive:h.target.checked}),className:"rounded border-gray-300"}),n.jsx(D,{htmlFor:"isActive",children:"Активный баннер"})]})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(L,{type:"submit",disabled:f.isPending||m.isPending,children:f.isPending||m.isPending?"Сохранение...":r?"Обновить":"Создать"}),n.jsx(L,{type:"button",variant:"outline",onClick:j,children:"Отмена"})]})]})})]}),n.jsx("div",{className:"grid gap-4",children:c&&c.length>0?c.map(h=>n.jsx(Z,{className:"overflow-hidden",children:n.jsxs(te,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold",children:h.title}),n.jsx(ve,{variant:h.isActive?"default":"secondary",children:h.isActive?"Активный":"Неактивный"}),n.jsx(ve,{variant:"outline",children:h.position})]}),h.description&&n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:h.description}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[h.imageUrl&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Dp,{className:"w-4 h-4"}),"Изображение"]}),h.linkUrl&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Vr,{className:"w-4 h-4"}),"Ссылка"]}),n.jsxs("span",{children:["Порядок: ",h.order]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(L,{size:"sm",variant:"outline",onClick:()=>b(h),disabled:a||r,children:n.jsx(ss,{className:"w-4 h-4"})}),n.jsx(L,{size:"sm",variant:"outline",onClick:()=>x.mutate(h.id),disabled:x.isPending,className:"text-red-600 hover:text-red-700",children:n.jsx($t,{className:"w-4 h-4"})})]})]}),h.imageUrl&&n.jsx("div",{className:"mt-4 pt-4 border-t",children:n.jsx("img",{src:h.imageUrl,alt:h.title,className:"max-w-xs h-20 object-cover rounded border",onError:v=>{v.target.style.display="none"}})})]})},h.id)):n.jsx(Z,{children:n.jsxs(te,{className:"text-center py-8",children:[n.jsx(Dp,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{className:"text-gray-500",children:"Баннеры не найдены"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Создайте первый баннер"})]})})})]})}function O5(){const e=Le(),{toast:t}=qe(),[r,s]=u.useState(null),[a,i]=u.useState(null),[o,l]=u.useState(0),[c,d]=u.useState({title:"",description:"",imageUrl:"",rotationImage1:"",rotationImage2:"",rotationImage3:"",rotationImage4:"",rotationInterval:3,linkUrl:"",buttonText:"Узнать больше",order:1,isActive:!0}),{data:f=[],isLoading:m}=xe({queryKey:["/api/admin/advertisement-carousel"],staleTime:2*60*1e3,gcTime:5*60*1e3,refetchInterval:60*1e3,refetchOnWindowFocus:!1,retry:3,retryDelay:w=>Math.min(1e3*2**w,3e4)}),x=Ne({mutationFn:async w=>{const N=await fetch("/api/admin/advertisement-carousel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!N.ok)throw new Error("Failed to create item");return N.json()},onSuccess:()=>{e.removeQueries({queryKey:["/api/admin/advertisement-carousel"]}),e.removeQueries({queryKey:["/api/advertisement-carousel"]}),e.invalidateQueries({queryKey:["/api/admin/advertisement-carousel"]}),e.invalidateQueries({queryKey:["/api/advertisement-carousel"]}),e.refetchQueries({queryKey:["/api/admin/advertisement-carousel"]}),h(),t({title:"Успешно",description:"Рекламное объявление создано"})},onError:w=>{t({title:"Ошибка",description:w.message||"Не удалось создать объявление",variant:"destructive"})}}),y=Ne({mutationFn:async w=>{const N=await fetch(`/api/admin/advertisement-carousel/${r==null?void 0:r.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!N.ok)throw new Error("Failed to update item");return N.json()},onSuccess:async w=>{if(e.removeQueries({queryKey:["/api/admin/advertisement-carousel"]}),e.removeQueries({queryKey:["/api/advertisement-carousel"]}),e.invalidateQueries({queryKey:["/api/admin/advertisement-carousel"]}),e.invalidateQueries({queryKey:["/api/advertisement-carousel"]}),await e.refetchQueries({queryKey:["/api/admin/advertisement-carousel"]}),r){const N=await fetch(`/api/admin/advertisement-carousel/${r.id}`);if(N.ok){const S=await N.json();s(S),d({title:S.title,description:S.description||"",imageUrl:S.imageUrl,rotationImage1:S.rotationImage1||"",rotationImage2:S.rotationImage2||"",rotationImage3:S.rotationImage3||"",rotationImage4:S.rotationImage4||"",rotationInterval:S.rotationInterval||3,linkUrl:S.linkUrl||"",buttonText:S.buttonText||"Узнать больше",order:S.order||1,isActive:S.isActive||!0}),l(E=>E+1)}}t({title:"Успешно",description:"Рекламное объявление обновлено"})},onError:w=>{t({title:"Ошибка",description:w.message||"Не удалось обновить объявление",variant:"destructive"})}}),b=Ne({mutationFn:async w=>{if(!(await fetch(`/api/admin/advertisement-carousel/${w}`,{method:"DELETE"})).ok)throw new Error("Failed to delete item")},onSuccess:()=>{e.removeQueries({queryKey:["/api/admin/advertisement-carousel"]}),e.removeQueries({queryKey:["/api/advertisement-carousel"]}),e.invalidateQueries({queryKey:["/api/admin/advertisement-carousel"]}),e.invalidateQueries({queryKey:["/api/advertisement-carousel"]}),e.refetchQueries({queryKey:["/api/admin/advertisement-carousel"]}),t({title:"Успешно",description:"Рекламное объявление удалено"})},onError:w=>{t({title:"Ошибка",description:w.message||"Не удалось удалить объявление",variant:"destructive"})}}),p=w=>{w.preventDefault(),r?y.mutate(c):x.mutate(c)},j=async w=>{const N=await fetch(`/api/admin/advertisement-carousel/${w.id}`);if(N.ok){const S=await N.json();s(S),d({title:S.title,description:S.description||"",imageUrl:S.imageUrl,rotationImage1:S.rotationImage1||"",rotationImage2:S.rotationImage2||"",rotationImage3:S.rotationImage3||"",rotationImage4:S.rotationImage4||"",rotationInterval:S.rotationInterval||3,linkUrl:S.linkUrl||"",buttonText:S.buttonText||"Узнать больше",order:S.order||1,isActive:S.isActive})}else s(w),d({title:w.title,description:w.description||"",imageUrl:w.imageUrl,rotationImage1:w.rotationImage1||"",rotationImage2:w.rotationImage2||"",rotationImage3:w.rotationImage3||"",rotationImage4:w.rotationImage4||"",rotationInterval:w.rotationInterval||3,linkUrl:w.linkUrl||"",buttonText:w.buttonText||"Узнать больше",order:w.order||1,isActive:w.isActive||!0})},h=()=>{s(null),d({title:"",description:"",imageUrl:"",rotationImage1:"",rotationImage2:"",rotationImage3:"",rotationImage4:"",rotationInterval:3,linkUrl:"",buttonText:"Узнать больше",order:1,isActive:!0}),e.refetchQueries({queryKey:["/api/admin/advertisement-carousel"]})},v=w=>{i(w)},g=()=>{a&&(b.mutate(a.id),i(null))};return m?n.jsx("div",{className:"text-center py-8",children:"Загрузка..."}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Максимум 3 активных объявления"}),n.jsxs(L,{onClick:()=>s({}),children:[n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Добавить объявление"]})]}),r&&n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsx(je,{children:r.id?"Редактировать объявление":"Новое объявление"})}),n.jsx(te,{children:n.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"title",children:"Заголовок"}),n.jsx(G,{id:"title",value:c.title,onChange:w=>d({...c,title:w.target.value}),placeholder:"Приведи своего друга - получи подарок",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"buttonText",children:"Текст кнопки"}),n.jsx(G,{id:"buttonText",value:c.buttonText,onChange:w=>d({...c,buttonText:w.target.value}),placeholder:"Узнать больше"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"description",children:"Описание"}),n.jsx(sr,{id:"description",value:c.description,onChange:w=>d({...c,description:w.target.value}),placeholder:"Подробное описание предложения...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"imageUrl",children:"URL изображения"}),n.jsx(G,{id:"imageUrl",value:c.imageUrl,onChange:w=>d({...c,imageUrl:w.target.value}),placeholder:"https://example.com/image.jpg",type:"url",required:!0})]}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50 dark:bg-gray-800",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Изображения для ротации (необязательно)"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"rotationImage1",children:"Изображение 1"}),n.jsx(G,{id:"rotationImage1",value:c.rotationImage1,onChange:w=>d({...c,rotationImage1:w.target.value}),placeholder:"https://example.com/image1.jpg",type:"url"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"rotationImage2",children:"Изображение 2"}),n.jsx(G,{id:"rotationImage2",value:c.rotationImage2,onChange:w=>d({...c,rotationImage2:w.target.value}),placeholder:"https://example.com/image2.jpg",type:"url"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"rotationImage3",children:"Изображение 3"}),n.jsx(G,{id:"rotationImage3",value:c.rotationImage3,onChange:w=>d({...c,rotationImage3:w.target.value}),placeholder:"https://example.com/image3.jpg",type:"url"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"rotationImage4",children:"Изображение 4"}),n.jsx(G,{id:"rotationImage4",value:c.rotationImage4,onChange:w=>d({...c,rotationImage4:w.target.value}),placeholder:"https://example.com/image4.jpg",type:"url"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"rotationInterval",children:"Интервал смены (секунды)"}),n.jsx(G,{id:"rotationInterval",type:"number",value:c.rotationInterval,onChange:w=>d({...c,rotationInterval:parseInt(w.target.value)||3}),min:"1",max:"10",placeholder:"3"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Если изображения не заданы, будет использоваться основное изображение"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"linkUrl",children:"Ссылка (необязательно)"}),n.jsx(G,{id:"linkUrl",value:c.linkUrl,onChange:w=>d({...c,linkUrl:w.target.value}),placeholder:"home, sell, favorites (автоматически добавляется /)"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Примеры: home → /home, sell → /sell, favorites → /favorites"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(D,{htmlFor:"order",children:"Порядок показа (1-3)"}),n.jsx(G,{id:"order",type:"number",value:c.order,onChange:w=>d({...c,order:parseInt(w.target.value)||1}),min:"1",max:"3",required:!0})]}),n.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:c.isActive,onChange:w=>d({...c,isActive:w.target.checked}),className:"rounded border-gray-300"}),n.jsx(D,{htmlFor:"isActive",children:"Активное"})]})]}),n.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700 flex gap-3",children:[n.jsx(L,{type:"submit",disabled:x.isPending||y.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 text-base font-medium",children:x.isPending||y.isPending?"Сохранение...":r.id?"Обновить":"Создать"}),n.jsx(L,{type:"button",variant:"outline",onClick:h,className:"px-6 py-2 text-base",children:"Отмена"})]})]})})]},o),n.jsx("div",{className:"grid gap-4",children:f&&f.length>0?f.map(w=>n.jsx(Z,{className:`${w.isActive?"":"opacity-50"}`,children:n.jsxs(te,{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h3",{className:"font-semibold text-lg",children:w.title}),n.jsxs("span",{className:"text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:["#",w.order]}),w.isActive&&n.jsx("span",{className:"text-sm bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100 px-2 py-1 rounded",children:"Активно"})]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:w.description}),n.jsxs("div",{className:"text-sm text-gray-500",children:[n.jsxs("div",{children:["Кнопка: ",w.buttonText]}),w.linkUrl&&n.jsxs("div",{children:["Ссылка: ",w.linkUrl]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(L,{variant:"outline",size:"sm",onClick:()=>j(w),children:n.jsx(ss,{className:"w-4 h-4"})}),n.jsx(L,{variant:"outline",size:"sm",onClick:()=>v(w),className:"text-red-600 hover:text-red-700",children:n.jsx($t,{className:"w-4 h-4"})})]})]}),w.imageUrl&&n.jsx("div",{className:"mt-4 pt-4 border-t",children:n.jsx("img",{src:w.imageUrl,alt:w.title,className:"max-w-xs h-20 object-cover rounded border",onError:N=>{N.target.style.display="none"}})})]})},w.id)):n.jsx(Z,{children:n.jsxs(te,{className:"text-center py-8",children:[n.jsx(vn,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{className:"text-gray-500",children:"Рекламные объявления не найдены"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Создайте первое объявление"})]})})}),n.jsx(Fs,{open:!!a,onOpenChange:()=>i(null),children:n.jsxs(Xr,{children:[n.jsxs(Jr,{children:[n.jsx(Zr,{children:"Подтвердите удаление"}),n.jsxs(es,{children:['Вы уверены, что хотите удалить рекламное объявление "',a==null?void 0:a.title,'"? Это действие нельзя отменить.']})]}),n.jsxs(Yr,{children:[n.jsx(Ls,{children:"Отмена"}),n.jsx(Os,{onClick:g,className:"bg-red-600 hover:bg-red-700",children:"Удалить"})]})]})})]})}function L5(){const{data:e,isLoading:t}=xe({queryKey:["/api/admin/stats"]});return t?n.jsx("div",{className:"text-center py-8",children:"Загрузка статистики..."}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(Z,{children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(je,{className:"text-sm font-medium",children:"Всего пользователей"}),n.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-2xl font-bold",children:(e==null?void 0:e.totalUsers)||0})})]}),n.jsxs(Z,{children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(je,{className:"text-sm font-medium",children:"Активные аукционы"}),n.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-2xl font-bold",children:(e==null?void 0:e.activeAuctions)||0})})]}),n.jsxs(Z,{children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(je,{className:"text-sm font-medium",children:"На модерации"}),n.jsx(lh,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-2xl font-bold",children:(e==null?void 0:e.pendingListings)||0})})]}),n.jsxs(Z,{children:[n.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(je,{className:"text-sm font-medium",children:"Заблокированных"}),n.jsx(dh,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(te,{children:n.jsx("div",{className:"text-2xl font-bold",children:(e==null?void 0:e.bannedUsers)||0})})]})]})}function _5(){var c;const{toast:e}=qe(),t=Le();u.useState(null);const{user:r}=it(),{data:s,isLoading:a}=xe({queryKey:["/api/archived-listings"],queryFn:async()=>{const d=await fetch("/api/archived-listings");if(!d.ok)throw new Error("Failed to fetch archived listings");return d.json()}}),i=Ne({mutationFn:async()=>{const d=await fetch("/api/archive-expired",{method:"POST",headers:{"Content-Type":"application/json"}});if(!d.ok)throw new Error("Failed to archive expired listings");return d.json()},onSuccess:d=>{e({title:"Архивирование завершено",description:`Архивировано ${d.archivedCount} просроченных аукционов`,variant:"default"}),t.invalidateQueries({queryKey:["/api/archived-listings"]})},onError:d=>{e({title:"Ошибка архивирования",description:d.message,variant:"destructive"})}}),o=Ne({mutationFn:async d=>{var x,y;console.log("🔄 АДМИН: Начинаем перезапуск аукциона ID:",d),console.log("🔄 АДМИН: User данные:",r);const f=await fetch(`/api/restart-listing/${d}`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":((x=r==null?void 0:r.userId)==null?void 0:x.toString())||((y=r==null?void 0:r.id)==null?void 0:y.toString())||"4","x-user-email":(r==null?void 0:r.email)||"+992 (90) 333-13-32@autoauction.tj"}});if(console.log("🔄 АДМИН: Ответ от сервера:",f.status,f.statusText),!f.ok){const b=await f.text();throw console.error("❌ АДМИН: Ошибка от сервера:",b),new Error(`Failed to restart listing: ${f.status} ${b}`)}const m=await f.json();return console.log("✅ АДМИН: Успешный ответ:",m),m},onSuccess:()=>{e({title:"Аукцион перезапущен",description:"Создан новый аукцион с новым номером лота",variant:"default"}),t.invalidateQueries({queryKey:["/api/archived-listings"]}),t.invalidateQueries({queryKey:["/api/listings"]})},onError:d=>{e({title:"Ошибка перезапуска",description:d.message,variant:"destructive"})}}),l=Ne({mutationFn:async d=>{const f=await fetch(`/api/archived-listings/${d}`,{method:"DELETE"});if(!f.ok)throw new Error("Failed to delete archived listing");return f.json()},onSuccess:()=>{e({title:"Аукцион удален",description:"Архивированный аукцион удален навсегда",variant:"default"}),t.invalidateQueries({queryKey:["/api/archived-listings"]})},onError:d=>{e({title:"Ошибка удаления",description:d.message,variant:"destructive"})}});return a?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Загрузка архива..."})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Архив аукционов"}),n.jsx("p",{className:"text-gray-600",children:"Завершенные аукционы старше 24 часов"})]}),n.jsx(L,{onClick:()=>i.mutate(),disabled:i.isPending,className:"bg-blue-600 hover:bg-blue-700",children:i.isPending?"Архивирую...":"Архивировать просроченные"})]}),n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsx(je,{className:"text-lg",children:"Статистика архива"})}),n.jsx(te,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-blue-600",children:(s==null?void 0:s.length)||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Архивированных аукционов"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-green-600",children:((c=s==null?void 0:s.filter(d=>d.currentBid))==null?void 0:c.length)||0}),n.jsx("div",{className:"text-sm text-gray-500",children:"Со ставками"})]})]})})]}),n.jsx("div",{className:"space-y-4",children:s&&s.length>0?s.map(d=>n.jsx(Z,{className:"border-red-200 dark:border-red-800",children:n.jsx(te,{className:"p-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs("h3",{className:"font-semibold text-lg",children:[d.make," ",d.model," (",d.year,")"]}),n.jsx(ve,{variant:"secondary",className:"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100",children:"Архивирован"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("div",{children:["Лот: ",d.lotNumber]}),n.jsxs("div",{children:["Пробег: ",d.mileage.toLocaleString()," км"]}),n.jsxs("div",{children:["Стартовая цена: $",d.startingPrice]}),n.jsx("div",{children:d.currentBid?n.jsxs("span",{className:"text-green-600 font-semibold",children:["Финальная ставка: $",d.currentBid]}):n.jsx("span",{className:"text-gray-500",children:"Без ставок"})})]}),d.endedAt&&n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Завершен: ",new Date(d.endedAt).toLocaleString("ru-RU")]})]}),n.jsxs("div",{className:"flex gap-2 ml-4",children:[n.jsx(L,{size:"sm",onClick:()=>o.mutate(d.id),disabled:o.isPending,className:"bg-green-600 hover:bg-green-700",children:"Перезапустить"}),n.jsxs(Fs,{children:[n.jsx(Hl,{asChild:!0,children:n.jsx(L,{size:"sm",variant:"destructive",disabled:l.isPending,children:n.jsx($t,{className:"h-4 w-4"})})}),n.jsxs(Xr,{children:[n.jsxs(Jr,{children:[n.jsx(Zr,{children:"Удалить навсегда"}),n.jsxs(es,{children:['Вы уверены, что хотите навсегда удалить архивированный аукцион "',d.make," ",d.model,'"? Это действие нельзя отменить.']})]}),n.jsxs(Yr,{children:[n.jsx(Ls,{children:"Отмена"}),n.jsx(Os,{onClick:()=>l.mutate(d.id),className:"bg-red-600 hover:bg-red-700",children:"Удалить навсегда"})]})]})]})]})]})})},d.id)):n.jsx(Z,{children:n.jsxs(te,{className:"p-8 text-center",children:[n.jsx($t,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Архив пуст"}),n.jsx("p",{className:"text-gray-500",children:"Архивированные аукционы будут отображаться здесь"})]})})})]})}function $5(){const{data:e=[],isLoading:t,refetch:r}=xe({queryKey:["/api/admin/wins"],staleTime:1e3,refetchInterval:3e3}),s=i=>new Date(i).toLocaleString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),a=i=>`${Number(i).toLocaleString()} сомони`;return t?n.jsx("div",{className:"space-y-4",children:n.jsxs(Z,{children:[n.jsxs(ye,{children:[n.jsxs(je,{className:"flex items-center gap-2",children:[n.jsx(va,{className:"h-5 w-5"}),"Все выигрыши аукционов"]}),n.jsx(bn,{children:"Полный список побед с информацией о победителях"})]}),n.jsx(te,{children:n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Загрузка выигрышей..."})]})})]})}):n.jsx("div",{className:"space-y-4",children:n.jsxs(Z,{children:[n.jsx(ye,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(je,{className:"flex items-center gap-2",children:[n.jsx(va,{className:"h-5 w-5"}),"Все выигрыши аукционов (",e.length,")"]}),n.jsx(bn,{children:"Полный список побед с информацией о победителях"})]}),n.jsxs(L,{onClick:()=>r(),size:"sm",variant:"outline",children:[n.jsx(Jv,{className:"h-4 w-4 mr-2"}),"Обновить"]})]})}),n.jsx(te,{children:e.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(va,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Пока нет завершенных аукционов с победителями"})]}):n.jsx("div",{className:"space-y-4",children:e.map(i=>n.jsx("div",{className:"border rounded-lg p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ve,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"🏆 ПОБЕДА"}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Лот #",i.listing.lotNumber]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-lg",children:[i.listing.make," ",i.listing.model]}),n.jsxs("p",{className:"text-gray-600",children:[i.listing.year," год"]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-green-600",children:["Победитель: ",i.winner.fullName]}),i.winner.phoneNumber&&n.jsxs("p",{className:"text-sm text-gray-600",children:["📞 ",i.winner.phoneNumber]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-lg text-green-600",children:a(i.winningBid)}),n.jsx("p",{className:"text-sm text-gray-600",children:s(i.wonAt)})]})]})]}),n.jsx("div",{className:"flex-shrink-0",children:i.listing.photos&&i.listing.photos.length>0?n.jsx("img",{src:i.listing.photos[0],alt:`${i.listing.make} ${i.listing.model}`,className:"w-20 h-16 object-cover rounded-lg border-2 border-yellow-300"}):n.jsx("div",{className:"w-20 h-16 bg-gray-200 rounded-lg flex items-center justify-center border-2 border-yellow-300",children:n.jsx(Ze,{className:"h-8 w-8 text-gray-400"})})})]})},i.id))})})]})})}function z5(){const[e,t]=u.useState(!1);u.useEffect(()=>{const s=()=>{window.pageYOffset>300?t(!0):t(!1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return n.jsx(n.Fragment,{children:e&&n.jsx(L,{onClick:r,className:"fixed bottom-24 right-6 z-50 w-12 h-12 rounded-full shadow-lg bg-blue-600 hover:bg-blue-700 text-white p-0",size:"sm",children:n.jsx(Gv,{className:"h-6 w-6"})})})}function U5(){const{data:e=[],isLoading:t}=xe({queryKey:["/api/admin/users"],staleTime:1e3,refetchInterval:5e3});if(t)return n.jsx("div",{className:"text-center py-8",children:"Загрузка..."});const r=e.filter(i=>i.isInvited),s=e.filter(i=>r.some(o=>o.invitedBy===(i==null?void 0:i.phoneNumber))),a={totalReferrals:r.length,activeReferrals:r.filter(i=>i.isActive).length,uniqueReferrers:s.length};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Z,{children:n.jsx(te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Всего рефералов"}),n.jsx("p",{className:"text-2xl font-bold",children:a.totalReferrals})]}),n.jsx(Wa,{className:"h-8 w-8 text-green-500"})]})})}),n.jsx(Z,{children:n.jsx(te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Активные рефералы"}),n.jsx("p",{className:"text-2xl font-bold",children:a.activeReferrals})]}),n.jsx(Gn,{className:"h-8 w-8 text-blue-500"})]})})}),n.jsx(Z,{children:n.jsx(te,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Приглашающих"}),n.jsx("p",{className:"text-2xl font-bold",children:a.uniqueReferrers})]}),n.jsx(va,{className:"h-8 w-8 text-orange-500"})]})})})]}),n.jsxs(Z,{children:[n.jsxs(ye,{children:[n.jsx(je,{children:"Приглашенные пользователи"}),n.jsx(bn,{children:"Пользователи, зарегистрированные по реферальной программе"})]}),n.jsx(te,{children:r.length>0?n.jsx("div",{className:"space-y-3",children:r.map(i=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:i.fullName||(i==null?void 0:i.phoneNumber)}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Пригласил: ",i.invitedBy]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Регистрация: ",new Date(i.createdAt).toLocaleDateString("ru-RU")]})]})})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{variant:i.isActive?"default":"secondary",children:i.isActive?"Активен":"Неактивен"}),n.jsx(ve,{variant:"outline",className:"text-green-600 border-green-300",children:"Реферал"})]})]},i.id))}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Wa,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"Рефералов пока нет"}),n.jsx("p",{className:"text-sm mt-1",children:"Когда появятся приглашенные пользователи, они отобразятся здесь"})]})})]}),s.length>0&&n.jsxs(Z,{children:[n.jsxs(ye,{children:[n.jsx(je,{children:"Активные приглашающие"}),n.jsx(bn,{children:"Пользователи, которые приглашают других в систему"})]}),n.jsx(te,{children:n.jsx("div",{className:"space-y-3",children:s.map(i=>{const o=r.filter(l=>l.invitedBy===i.phoneNumber).length;return n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:i.fullName||i.phoneNumber}),n.jsxs("p",{className:"text-sm text-gray-600",children:[i.phoneNumber," • ",i.role]}),n.jsxs("p",{className:"text-xs text-blue-600",children:["Пригласил: ",o," пользовател",o===1?"я":(o<5,"ей")]})]})})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ve,{variant:i.isActive?"default":"secondary",children:i.isActive?"Активен":"Неактивен"}),n.jsx(ve,{variant:"outline",className:"text-blue-600 border-blue-300",children:"Приглашающий"})]})]},i.id)})})})]})]})}function B5(){const[,e]=He(),{data:t,isLoading:r}=xe({queryKey:["/api/listings"],select:o=>o.filter(l=>l.status==="active").sort((l,c)=>(c.bidCount||0)-(l.bidCount||0)).slice(0,12),staleTime:3e4,gcTime:3e5}),{data:s}=xe({queryKey:["/api/bid-counts"],select:o=>o||{},staleTime:3e4}),a=o=>new Date(o)<new Date,i=o=>o>=20?{text:"🔥 ТОП ВЫБОР",color:"bg-red-500"}:o>=10?{text:"⭐ ПОПУЛЯРНЫЙ",color:"bg-orange-500"}:o>=5?{text:"✨ АКТУАЛЬНЫЙ",color:"bg-blue-500"}:{text:"🆕 НОВИНКА",color:"bg-green-500"};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50 page-content",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-purple-100 sticky top-0 z-40",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{variant:"ghost",onClick:()=>e("/"),children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Назад"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fp,{className:"h-5 w-5 text-purple-600"}),n.jsx("h1",{className:"text-lg font-semibold text-purple-900",children:"Специальные предложения"})]})]})})}),n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("div",{className:"flex justify-center items-center gap-2 mb-4",children:[n.jsx(MC,{className:"h-8 w-8 text-purple-600"}),n.jsx("h2",{className:"text-3xl font-bold text-purple-900",children:"Особые предложения"})]}),n.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Самые популярные автомобили с активными торгами и особыми условиями"})]}),r?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((o,l)=>n.jsxs(Z,{className:"animate-pulse",children:[n.jsx("div",{className:"h-48 bg-gray-200 rounded-t-lg"}),n.jsx(te,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"})]})})]},l))}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t==null?void 0:t.map(o=>{const l=(s==null?void 0:s[o.id])||0,c=i(l),d=o.currentBid?parseFloat(o.currentBid):parseFloat(o.startingPrice);return n.jsxs(Z,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer border-2 border-purple-100 hover:border-purple-200 bg-white",onClick:()=>e(`/auction/${o.id}`),children:[n.jsxs("div",{className:"relative",children:[n.jsx(Oc,{listingId:o.id.toString(),make:o.make,model:o.model,year:o.year,photos:o.photos||[],className:"w-full h-48 object-cover"}),n.jsx("div",{className:`absolute top-3 left-3 px-2 py-1 rounded-full text-xs font-bold text-white ${c.color}`,children:c.text}),n.jsx("div",{className:"absolute top-3 right-3",children:n.jsx(L,{size:"sm",variant:"secondary",className:"w-8 h-8 p-0 bg-white/90 hover:bg-white",onClick:f=>{f.stopPropagation()},children:n.jsx(xo,{className:"w-4 h-4 text-gray-600"})})}),n.jsx("div",{className:"absolute bottom-3 left-3",children:a(o.endTime)?n.jsx("div",{className:"bg-gray-800/90 text-white px-2 py-1 rounded text-xs font-semibold",children:"ЗАВЕРШЕН"}):n.jsx(Fc,{endTime:o.endTime,size:"small"})})]}),n.jsx(te,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ve,{variant:"outline",className:"text-xs font-mono",children:o.lotNumber}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[n.jsx(Vr,{className:"w-3 h-3"}),Math.floor(Math.random()*100)+50]})]}),n.jsxs("h3",{className:"font-semibold text-lg text-gray-900",children:[o.make," ",o.model]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[o.year," • ",o.mileage.toLocaleString()," км • Душанбе"]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(ve,{variant:"outline",className:"text-xs",children:o.bodyType||"Седан"}),n.jsx(ve,{variant:"outline",className:"text-xs",children:o.fuelType||"Бензин"}),n.jsx(ve,{variant:"outline",className:"text-xs",children:o.transmission||"Автомат"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Текущая ставка:"}),n.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[d.toLocaleString()," TJS"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[n.jsx(ja,{className:"w-4 h-4"}),l," ставок"]}),n.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[n.jsx(Ir,{className:"w-4 h-4"}),a(o.endTime)?"Завершен":"Активен"]})]})]})]})})]},o.id)})}),!r&&(!t||t.length===0)&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Fp,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Специальных предложений пока нет"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Следите за обновлениями, скоро появятся новые особые предложения"}),n.jsx(L,{onClick:()=>e("/"),children:"Вернуться к аукционам"})]})]})]})}var Qh="Avatar",[V5,fP]=zt(Qh),[q5,kw]=V5(Qh),Ew=u.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[a,i]=u.useState("idle");return n.jsx(q5,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(de.span,{...s,ref:t})})});Ew.displayName=Qh;var Tw="AvatarImage",Pw=u.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=kw(Tw,r),l=K5(s,i),c=Tt(d=>{a(d),o.onImageLoadingStatusChange(d)});return at(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(de.img,{...i,ref:t,src:s}):null});Pw.displayName=Tw;var Iw="AvatarFallback",Rw=u.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...a}=e,i=kw(Iw,r),[o,l]=u.useState(s===void 0);return u.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(de.span,{...a,ref:t}):null});Rw.displayName=Iw;function gx(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function K5(e,{referrerPolicy:t,crossOrigin:r}){const s=W5(),a=u.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=u.useState(()=>gx(i,e));return at(()=>{l(gx(i,e))},[i,e]),at(()=>{const c=m=>()=>{l(m)};if(!i)return;const d=c("loaded"),f=c("error");return i.addEventListener("load",d),i.addEventListener("error",f),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",f)}},[i,r,t]),o}function Q5(){return()=>{}}function W5(){return u.useSyncExternalStore(Q5,()=>!0,()=>!1)}var Aw=Ew,Dw=Pw,Mw=Rw;const Fw=u.forwardRef(({className:e,...t},r)=>n.jsx(Aw,{ref:r,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Fw.displayName=Aw.displayName;const H5=u.forwardRef(({className:e,...t},r)=>n.jsx(Dw,{ref:r,className:le("aspect-square h-full w-full",e),...t}));H5.displayName=Dw.displayName;const Ow=u.forwardRef(({className:e,...t},r)=>n.jsx(Mw,{ref:r,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ow.displayName=Mw.displayName;function G5(){const{user:e}=it(),[t,r]=u.useState(null),[s,a]=u.useState(""),{toast:i}=qe(),o=Le();Tc(),u.useEffect(()=>{if(!(e!=null&&e.userId))return;console.log("🔄 REAL-TIME: Настройка слушателя WebSocket для принудительного обновления сообщений");const N=S=>{S.key==="force-refresh-messages"&&(console.log("🔄 REAL-TIME: Получен сигнал обновления сообщений, принудительно обновляем данные"),o.invalidateQueries({queryKey:["/api/conversations",e.userId]}),o.invalidateQueries({queryKey:[`/api/messages/unread-count/${e.userId}`]}),t&&o.invalidateQueries({queryKey:[`/api/conversations/${t}/messages`]}),localStorage.removeItem("force-refresh-messages"))};return window.addEventListener("storage",N),()=>{window.removeEventListener("storage",N)}},[e==null?void 0:e.userId,t,o]),u.useEffect(()=>{e!=null&&e.userId&&(console.log("📖 Пользователь открыл страницу сообщений - отмечаем посещение"),In("POST","/api/demo/mark-messages-visited",{userId:e.userId}).then(()=>{console.log("✅ Посещение страницы сообщений отмечено"),o.setQueryData([`/api/messages/unread-count/${e.userId}`],{count:0}),console.log("🔄 Счетчик непрочитанных сообщений принудительно обновлен до 0")}).catch(N=>{console.error("❌ Ошибка отметки посещения:",N)}))},[e==null?void 0:e.userId,o]);const l=new URLSearchParams(window.location.search),c=l.get("buyerId"),d=l.get("sellerId"),f=l.get("listingId"),m=l.get("conversationId"),x=Ne({mutationFn:async N=>(await In("POST","/api/conversations",N)).json(),onSuccess:N=>{console.log(`✅ Разговор создан с ID: ${N.id}`),r(N.id),console.log(`🔧 selectedConversation установлен в: ${N.id}`),setTimeout(()=>{o.invalidateQueries({queryKey:["/api/conversations",e==null?void 0:e.userId]})},100),window.history.replaceState({},"",window.location.pathname),i({title:"Готово к общению",description:"Поле ввода сообщений активировано",duration:1500})},onError:N=>{i({title:"Ошибка",description:N.message||"Не удалось создать разговор",variant:"destructive"})}}),{data:y,isLoading:b}=xe({queryKey:["/api/conversations",e==null?void 0:e.userId],queryFn:async()=>(await In("GET","/api/conversations")).json(),enabled:!!(e!=null&&e.userId),staleTime:1e4,gcTime:3e5,refetchOnWindowFocus:!1});u.useEffect(()=>{c&&d&&f&&e&&!x.isPending&&!x.isSuccess&&(console.log(`🚀 Создаем разговор: buyerId=${c}, sellerId=${d}, listingId=${f}`),x.mutate({buyerId:parseInt(c),sellerId:parseInt(d),listingId:parseInt(f)}))},[c,d,f,e]),u.useEffect(()=>{if(m&&y){const N=y.find(S=>S.id===parseInt(m));N&&(console.log(`🎯 Автоматически выбираем разговор ${m} из URL`),r(N.id),window.history.replaceState({},"",window.location.pathname))}},[m,y]),u.useEffect(()=>{if(m){const N=parseInt(m);console.log(`🚀 НЕМЕДЛЕННО устанавливаем selectedConversation=${N} из URL`),r(N),window.history.replaceState({},"",window.location.pathname)}},[m]);const{data:p,isLoading:j,refetch:h}=xe({queryKey:["/api/conversations",t,"messages"],queryFn:async()=>{console.log(`🔍 Получаем сообщения для переписки ${t}`);const S=await(await In("GET",`/api/conversations/${t}/messages`)).json();return console.log("✅ Получены сообщения:",S),S},enabled:!!t,staleTime:2e3,gcTime:3e4});u.useEffect(()=>{t&&p&&p.length>0&&(e!=null&&e.userId)&&(console.log(`📖 Отмечаем сообщения как прочитанные для переписки ${t}`),p.filter(S=>S.senderId!==e.userId).forEach(async S=>{try{await In("PATCH",`/api/conversations/${t}/messages/${S.id}/read`),console.log(`✅ Сообщение ${S.id} отмечено как прочитанное`)}catch(E){console.error(`❌ Ошибка отметки сообщения ${S.id} как прочитанного:`,E)}}),setTimeout(()=>{o.invalidateQueries({queryKey:["/api/conversations",e.userId]}),o.invalidateQueries({queryKey:[`/api/messages/unread-count/${e.userId}`]})},500))},[t,p,e==null?void 0:e.userId,o]);const v=Ne({mutationFn:async N=>{console.log(`📤 Отправка сообщения: conversationId=${N.conversationId}, content="${N.content}", senderId=${e==null?void 0:e.userId}`);const E=await(await In("POST",`/api/conversations/${N.conversationId}/messages`,{content:N.content,senderId:e==null?void 0:e.userId})).json();return console.log("✅ Ответ сервера:",E),E},onSuccess:()=>{console.log("✅ Сообщение отправлено успешно, обновляем кэш и принудительно загружаем сообщения"),o.invalidateQueries({queryKey:["/api/conversations",t,"messages"]}),o.invalidateQueries({queryKey:["/api/conversations",e==null?void 0:e.userId]}),h(),a("")},onError:N=>{console.error("❌ Ошибка отправки сообщения:",N),i({title:"Ошибка",description:N.message||"Не удалось отправить сообщение",variant:"destructive"})}}),g=async()=>{!s.trim()||!t||v.isPending||v.mutate({conversationId:t,content:s})},w=N=>{const S=new Date(N),P=Math.abs(new Date().getTime()-S.getTime()),C=Math.ceil(P/(1e3*60*60*24));return C===1?"Сегодня":C===2?"Вчера":S.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})};return b?n.jsx("div",{className:"flex items-center justify-center min-h-[400px] pb-24",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ns,{className:"w-12 h-12 mx-auto mb-4 text-gray-400 animate-pulse"}),n.jsx("p",{className:"text-gray-500",children:"Загрузка сообщений..."})]})}):!y||y.length===0?n.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-6 pb-24",children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-2xl border border-white/20 p-8 text-center max-w-md w-full",children:[n.jsx(Ns,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Нет сообщений"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Когда вы начнете общение с продавцами, ваши переписки появятся здесь"}),n.jsxs(L,{onClick:()=>window.history.back(),variant:"outline",className:"gap-2",children:[n.jsx(Pt,{className:"w-4 h-4"}),"Вернуться назад"]})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[n.jsx("div",{className:"bg-white/80 backdrop-blur-lg shadow-lg border-b border-white/20 sticky top-0 z-10",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Ln,{href:"/",children:n.jsx(L,{variant:"ghost",size:"icon",className:"mr-2",children:n.jsx(Pt,{className:"w-6 h-6"})})}),n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:n.jsx(Ns,{className:"w-6 h-6 text-white"})}),n.jsx("div",{children:n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Сообщения"})})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-white/50 rounded-full px-4 py-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Онлайн"})]})]})})}),n.jsx("div",{className:"max-w-4xl mx-auto p-6 pb-24",children:n.jsx("div",{className:"bg-white/60 backdrop-blur-lg rounded-3xl shadow-2xl overflow-hidden border border-white/20",children:n.jsx("div",{className:"p-4 space-y-4",children:y.map(N=>n.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"p-4 cursor-pointer hover:bg-white/90 transition-all duration-300",onClick:()=>r(t===N.id?null:N.id),children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Fw,{className:"w-12 h-12 ring-2 ring-blue-200/50",children:n.jsx(Ow,{className:"bg-gradient-to-br from-blue-100 to-purple-100 text-blue-600",children:n.jsx(Gn,{className:"w-6 h-6"})})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:N.otherUser.fullName}),N.unreadCount>0&&t!==N.id&&n.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center animate-pulse",children:n.jsx("span",{className:"text-xs text-white font-bold",children:N.unreadCount})})]}),n.jsxs("p",{className:"text-sm text-blue-600 font-medium mb-2",children:[N.listing.make," ",N.listing.model," ",N.listing.year]}),N.lastMessage&&n.jsx("p",{className:"text-sm text-gray-500 truncate",children:N.lastMessage.content})]})]})}),t===N.id&&n.jsxs("div",{className:"border-t border-white/30 bg-gradient-to-b from-white/50 to-white/30",children:[n.jsx("div",{className:"p-4 max-h-96 overflow-y-auto space-y-3",children:j?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Загрузка сообщений..."})]})}):p&&p.length>0?p.map(S=>n.jsx("div",{className:`flex ${S.senderId===(e==null?void 0:e.userId)?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-xs px-4 py-3 rounded-2xl shadow-md relative ${S.senderId===(e==null?void 0:e.userId)?"bg-gradient-to-br from-blue-500 to-purple-600 text-white":"bg-white/90 text-black"}`,children:[n.jsx("p",{className:"text-sm leading-relaxed",children:S.content}),n.jsx("p",{className:`text-xs mt-1 ${S.senderId===(e==null?void 0:e.userId)?"text-white/80":"text-black/60"}`,children:w(S.createdAt)}),n.jsx("div",{className:`absolute top-3 w-3 h-3 transform rotate-45 ${S.senderId===(e==null?void 0:e.userId)?"bg-gradient-to-br from-blue-500 to-purple-600 -right-1":"bg-white/90 -left-1"}`})]})},S.id)):n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("p",{className:"text-gray-500",children:"Нет сообщений"})})}),n.jsx("div",{className:"p-4 border-t border-white/30 bg-white/40",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-1 relative",children:n.jsx(G,{value:s,onChange:S=>a(S.target.value),placeholder:"Введите сообщение...",onKeyPress:S=>S.key==="Enter"&&g(),className:"bg-white/80 border-white/30 rounded-2xl px-4 py-3 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 backdrop-blur-sm",disabled:v.isPending})}),n.jsx(L,{onClick:g,disabled:!s.trim()||v.isPending,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-2xl px-6 py-3 shadow-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:v.isPending?n.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):n.jsx(BC,{className:"w-5 h-5"})})]})})]})]},N.id))})})})]})}function X5(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(Z,{className:"w-full max-w-md mx-4",children:n.jsxs(te,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(lh,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function J5(){return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-sm mx-auto bg-white shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 bg-white",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"AUTOAUCTION"}),n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(Ns,{className:"w-5 h-5 text-green-600"})})]}),n.jsx("div",{className:"px-4 pb-4 flex justify-center",children:n.jsx(L,{className:"bg-blue-600 hover:bg-blue-700 text-white py-3 px-8 rounded-lg",children:"Sell Your Car"})}),n.jsxs("div",{className:"px-4 space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative h-44 bg-gradient-to-br from-blue-600 to-purple-700 rounded-2xl p-5 text-white overflow-hidden",children:[n.jsx("div",{className:"absolute right-[-20px] top-[-10px]",children:n.jsx(Ze,{className:"w-28 h-28 text-white opacity-20"})}),n.jsxs("div",{className:"relative z-10 space-y-2",children:[n.jsx("h2",{className:"text-xl font-bold",children:"ПРЕМИУМ АУКЦИОН"}),n.jsxs("p",{className:"text-white/80 text-sm leading-relaxed",children:["Эксклюзивные автомобили",n.jsx("br",{}),"от проверенных дилеров"]}),n.jsx("div",{className:"mt-4",children:n.jsx("span",{className:"bg-white text-blue-700 px-4 py-2 rounded-full text-sm font-bold",children:"Участвовать →"})})]})]}),n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ha,{className:"w-6 h-6 text-green-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-bold text-green-800",children:"Безопасные сделки"}),n.jsx("p",{className:"text-sm text-green-600",children:"Все автомобили проходят проверку"})]})]})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Active Auctions"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:[1,2,3,4,5,6].map(e=>n.jsxs(Z,{className:"overflow-hidden",children:[n.jsx("div",{className:"h-28 bg-gray-200 flex items-center justify-center",children:n.jsx(Ze,{className:"w-8 h-8 text-gray-400"})}),n.jsxs("div",{className:"p-3 space-y-1",children:[n.jsx("h3",{className:"font-bold text-sm",children:"BMW X5 2020"}),n.jsx("p",{className:"text-xs text-gray-600",children:"2020"}),n.jsxs("p",{className:"text-sm font-bold text-green-600",children:["$",45+e,"00"]}),n.jsxs("div",{className:"bg-orange-100 px-2 py-1 rounded text-xs text-orange-700 font-medium inline-block",children:["2h ",30+e,"m"]})]})]},e))})]}),n.jsx("div",{className:"h-20"})]})]})})}function Y5(){const[e,t]=He(),{user:r}=it(),s=[{path:"/home",icon:LC,label:"Главная",requiresAuth:!1},{path:"/auctions",icon:uh,label:"Аукционы",requiresAuth:!0},{path:"/sell",icon:vn,label:"Продать",isCenter:!0,requiresAuth:!0},{path:"/favorites",icon:xo,label:"Избранное",requiresAuth:!0},{path:"/profile",icon:Gn,label:"Профиль",requiresAuth:!0}],a=(i,o)=>{if(o.requiresAuth&&!r){i.preventDefault(),t("/login");return}};return n.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-neutral-200 z-50",children:n.jsx("div",{className:"flex justify-around items-center py-2",children:s.map(i=>{const o=e===i.path||i.path==="/home"&&e==="/",l=i.icon;return i.isCenter?n.jsxs(Ln,{href:i.path,className:"flex flex-col items-center p-3 min-w-0 flex-1",onClick:c=>a(c,i),children:[n.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-blue-600 text-white",children:n.jsx(l,{className:"w-6 h-6"})}),n.jsx("span",{className:"text-xs font-medium mt-1 text-blue-600",children:i.label})]},i.path):n.jsxs(Ln,{href:i.path,className:`flex flex-col items-center p-2 min-w-0 flex-1 ${o?"text-primary":"text-neutral-500"}`,onClick:c=>a(c,i),children:[n.jsx(l,{className:"w-5 h-5 mb-1"}),n.jsx("span",{className:"text-xs font-medium truncate",children:i.label})]},i.path)})})})}function Z5(){const[e]=He();return u.useEffect(()=>{window.scrollTo(0,0)},[e]),null}function eP(){const[e]=He();Tc(),u.useEffect(()=>{ga.prefetchQuery({queryKey:["/api/advertisement-carousel"],queryFn:async()=>{const r=await fetch("/api/advertisement-carousel");return r.ok?r.json():[]},staleTime:1/0}),ga.prefetchQuery({queryKey:["/api/listings"],queryFn:async()=>{const r=await fetch("/api/listings");return r.ok?r.json():[]},staleTime:3e5}),ga.prefetchQuery({queryKey:["/api/sell-car-section"],queryFn:async()=>{const r=await fetch("/api/sell-car-section");return r.ok?r.json():{}},staleTime:1/0})},[]);const t=e==="/login";return n.jsxs(n.Fragment,{children:[n.jsx(Z5,{}),n.jsxs(sS,{children:[n.jsx(Xe,{path:"/",component:mx}),n.jsx(Xe,{path:"/home",component:mx}),n.jsx(Xe,{path:"/auctions",component:C3}),n.jsx(Xe,{path:"/auction/:id",component:T3}),n.jsx(Xe,{path:"/favorites",component:P3}),n.jsx(Xe,{path:"/sell",component:D3}),n.jsx(Xe,{path:"/bids",component:W3}),n.jsx(Xe,{path:"/my-wins",component:H3}),n.jsx(Xe,{path:"/profile",component:G3}),n.jsx(Xe,{path:"/notifications",component:Y3}),n.jsx(Xe,{path:"/my-alerts",component:Z3}),n.jsx(Xe,{path:"/user-data",component:e5}),n.jsx(Xe,{path:"/my-sales",component:t5}),n.jsx(Xe,{path:"/language",component:n5}),n.jsx(Xe,{path:"/terms",component:r5}),n.jsx(Xe,{path:"/privacy",component:s5}),n.jsx(Xe,{path:"/login",component:d5}),n.jsx(Xe,{path:"/admin",component:T5}),n.jsx(Xe,{path:"/special-offers",component:B5}),n.jsx(Xe,{path:"/messages",component:G5}),n.jsx(Xe,{path:"/flutter-preview",component:J5}),n.jsx(Xe,{component:X5})]}),!t&&n.jsx(Y5,{})]})}function tP(){return n.jsx(SS,{client:ga,children:n.jsx(t4,{children:n.jsx(o4,{children:n.jsx(d4,{children:n.jsx(m4,{children:n.jsx(h4,{children:n.jsxs(c4,{children:[n.jsx(Pk,{}),n.jsx(eP,{})]})})})})})})})}window.addEventListener("error",e=>{e.error&&e.error.message&&e.error.message.includes("user is not defined")&&console.error('🚨 НАЙДЕНА ОШИБКА "user is not defined":',{message:e.error.message,stack:e.error.stack,filename:e.filename,lineno:e.lineno,colno:e.colno})});window.addEventListener("unhandledrejection",e=>{e.reason&&e.reason.message&&e.reason.message.includes("user is not defined")&&console.error('🚨 НАЙДЕНА PROMISE ОШИБКА "user is not defined":',{reason:e.reason,promise:e.promise})});B0(document.getElementById("root")).render(n.jsx(tP,{}));
