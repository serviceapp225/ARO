# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ DigitalOcean

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –ú–µ—Ç–æ–¥ 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (–ø–æ—Å–ª–µ rebuild)

```bash
# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
node quick-db-check.js

# –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞  
node check-database-connection.js
```

### –ú–µ—Ç–æ–¥ 2: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É)

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
echo $DATABASE_URL

# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
node -e "
import { neon } from '@neondatabase/serverless';
try {
  const sql = neon(process.env.DATABASE_URL);
  const result = await sql\`SELECT 1 as test\`;
  console.log('‚úÖ –ë–∞–∑–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞');
} catch (error) {
  console.log('‚ùå –û—à–∏–±–∫–∞:', error.message);
}
"
```

### –ú–µ—Ç–æ–¥ 3: –ß–µ—Ä–µ–∑ production.js

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
node dist/production.js

# –ò—â–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:
# ‚úÖ "–ë–∞–∑–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞" = OK
# ‚ùå "The endpoint has been disabled" = Neon –æ—Ç–∫–ª—é—á–µ–Ω
# ‚ùå "client.query is not a function" = –≤–µ—Ä—Å–∏–∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã
```

## üö® –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### –û—à–∏–±–∫–∞: "Cannot find module '/app/quick-db-check.js'"
**–†–µ—à–µ–Ω–∏–µ:** –§–∞–π–ª—ã –Ω–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ Docker. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ deployment:
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
./build-digitalocean.sh
# –ó–∞—Ç–µ–º –∑–∞–Ω–æ–≤–æ –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ –≤ DigitalOcean
```

### –û—à–∏–±–∫–∞: "The endpoint has been disabled"
**–†–µ—à–µ–Ω–∏–µ:** Production –±–∞–∑–∞ Neon –æ—Ç–∫–ª—é—á–µ–Ω–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ development –±–∞–∑—É:
```bash
DATABASE_URL=postgresql://neondb_owner:npg_8ue1HgYdlhFm@ep-crimson-tooth-adg8b4en.c-2.us-east-1.aws.neon.tech/neondb?sslmode=require
```

### –û—à–∏–±–∫–∞: "client.query is not a function"
**–†–µ—à–µ–Ω–∏–µ:** –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π Drizzle. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
- drizzle-orm: 0.39.3
- @neondatabase/serverless: 0.10.4
- drizzle-zod: 0.7.1

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª DigitalOcean

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Console –≤ DigitalOcean App Platform**
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª—é–±–æ–π –∏–∑ –º–µ—Ç–æ–¥–æ–≤ –≤—ã—à–µ**
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∫–∞–∂–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**

## ‚úÖ –ü—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–±–æ—á–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–í –ª–æ–≥–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
üîó –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
‚úÖ DEPLOYMENT: –ù–∞–π–¥–µ–Ω–æ X –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π
‚úÖ DEPLOYMENT: –ù–∞–π–¥–µ–Ω–æ X –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Å–∏—Å—Ç–µ–º–µ
‚úÖ DEPLOYMENT: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
```

## ‚ùå –ü—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–æ–±–ª–µ–º —Å –±–∞–∑–æ–π

–í –ª–æ–≥–∞—Ö –±—É–¥—É—Ç –æ—à–∏–±–∫–∏:
```
Error fetching listings: The endpoint has been disabled
Error: client.query is not a function
Database connection failed
```